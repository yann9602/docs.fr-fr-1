---
title: "Utiliser le modèle d’espace de travail du SDK .NET Compiler Platform"
description: "Cette présentation fournit des informations sur le type que vous utilisez pour interroger et manipuler l’espace de travail et les projets dans votre code."
author: billwagner
ms.author: wiwagn
ms.date: 10/15/2017
ms.topic: conceptual
ms.prod: .net
ms.devlang: devlang-csharp
ms.custom: mvc
ms.openlocfilehash: d0d4e9c012b025b9393ac34f0833795fca9841d5
ms.sourcegitcommit: d095094e942eedf09530ea5636fbaf9029853027
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/19/2017
---
# <a name="work-with-a-workspace"></a><span data-ttu-id="56896-103">Utiliser un espace de travail</span><span class="sxs-lookup"><span data-stu-id="56896-103">Work with a workspace</span></span>

<span data-ttu-id="56896-104">La couche des **espaces de travail** est l’emplacement à partir duquel sont effectuées l’analyse de code et la refactorisation dans les solutions entières.</span><span class="sxs-lookup"><span data-stu-id="56896-104">The **Workspaces** layer is the starting point for doing code analysis and refactoring over entire solutions.</span></span> <span data-ttu-id="56896-105">Dans cette couche, l’API des espaces de travail vous aide à organiser toutes les informations sur les projets d’une solution dans un modèle objet unique. Ce modèle vous permet d’accéder directement aux modèles objet de la couche du compilateur, tels que le texte source, les arborescences de syntaxe, les modèles sémantiques et les compilations, sans avoir à analyser des fichiers, configurer des options ou gérer des dépendances entre projets.</span><span class="sxs-lookup"><span data-stu-id="56896-105">Within this layer, the Workspace API assists you in organizing all the information about the projects in a solution into a single object model, offering you direct access to compiler layer object models like source text, syntax trees, semantic models, and compilations without needing to parse files, configure options, or manage inter-project dependencies.</span></span> 

<span data-ttu-id="56896-106">Les environnements hôtes, comme un IDE, vous fournissent un espace de travail correspondant à la solution ouverte.</span><span class="sxs-lookup"><span data-stu-id="56896-106">Host environments, like an IDE, provide a workspace for you corresponding to the open solution.</span></span> <span data-ttu-id="56896-107">Vous pouvez également utiliser ce modèle en dehors d’un IDE, simplement en chargeant un fichier solution.</span><span class="sxs-lookup"><span data-stu-id="56896-107">It is also possible to use this model outside of an IDE by simply loading a solution file.</span></span>

## <a name="workspace"></a><span data-ttu-id="56896-108">Espace de travail</span><span class="sxs-lookup"><span data-stu-id="56896-108">Workspace</span></span>

<span data-ttu-id="56896-109">Un espace de travail est une représentation active de la solution sous forme de collection de projets, chacun de ces projets contenant une collection de documents.</span><span class="sxs-lookup"><span data-stu-id="56896-109">A workspace is an active representation of your solution as a collection of projects, each with a collection of documents.</span></span> <span data-ttu-id="56896-110">Un espace de travail est généralement lié à un environnement hôte, qui change en permanence à mesure qu’un utilisateur tape ou manipule des propriétés.</span><span class="sxs-lookup"><span data-stu-id="56896-110">A workspace is typically tied to a host environment that is constantly changing as a user types or manipulates properties.</span></span> 

<span data-ttu-id="56896-111">La classe <xref:Microsoft.CodeAnalysis.Workspace> fournit l’accès au modèle actif de la solution.</span><span class="sxs-lookup"><span data-stu-id="56896-111">The <xref:Microsoft.CodeAnalysis.Workspace> provides access to the current model of the solution.</span></span> <span data-ttu-id="56896-112">Quand un changement se produit dans l’environnement hôte, l’espace de travail déclenche les événements correspondants, et la propriété <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType> est mise à jour.</span><span class="sxs-lookup"><span data-stu-id="56896-112">When a change in the host environment occurs, the workspace fires corresponding events, and the <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType> property is updated.</span></span> <span data-ttu-id="56896-113">Par exemple, quand un utilisateur tape dans un éditeur de texte correspondant à l’un des documents sources, l’espace de travail déclenche un événement pour signaler que le modèle global de la solution a changé et indiquer quel document a été modifié.</span><span class="sxs-lookup"><span data-stu-id="56896-113">For example, when the user types in a text editor corresponding to one of the source documents, the workspace uses an event to signal that the overall model of the solution has changed and which document was modified.</span></span> <span data-ttu-id="56896-114">Vous pouvez ensuite réagir à ces changements, par exemple, vérifier si le nouveau modèle est correct, surligner les zones d’intérêt ou suggérer une modification du code.</span><span class="sxs-lookup"><span data-stu-id="56896-114">You can then react to those changes by analyzing the new model for correctness, highlighting areas of significance, or making a suggestion for a code change.</span></span> 

<span data-ttu-id="56896-115">Vous pouvez également créer des espaces de travail autonomes qui sont déconnectés de l’environnement hôte ou qui sont utilisés dans une application sans environnement hôte.</span><span class="sxs-lookup"><span data-stu-id="56896-115">You can also create stand-alone workspaces that are disconnected from the host environment or used in an application that has no host environment.</span></span>

## <a name="solutions-projects-documents"></a><span data-ttu-id="56896-116">Solutions, projets, documents</span><span class="sxs-lookup"><span data-stu-id="56896-116">Solutions, projects, documents</span></span>

<span data-ttu-id="56896-117">Même si un espace de travail change chaque fois qu’un utilisateur appuie sur une touche, vous pouvez utiliser le modèle de la solution en mode isolation.</span><span class="sxs-lookup"><span data-stu-id="56896-117">Although a workspace may change every time a key is pressed, you can work with the model of the solution in isolation.</span></span> 

<span data-ttu-id="56896-118">Une solution est un modèle immuable des projets et des documents.</span><span class="sxs-lookup"><span data-stu-id="56896-118">A solution is an immutable model of the projects and documents.</span></span> <span data-ttu-id="56896-119">Le modèle peut donc être partagé sans verrouillage ni duplication.</span><span class="sxs-lookup"><span data-stu-id="56896-119">This means that the model can be shared without locking or duplication.</span></span> <span data-ttu-id="56896-120">Après avoir obtenu une instance de la solution à partir de la propriété <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType>, vous ne pouvez plus la changer.</span><span class="sxs-lookup"><span data-stu-id="56896-120">After you obtain a solution instance from the <xref:Microsoft.CodeAnalysis.Workspace.CurrentSolution?displayProperty=nameWithType> property, that instance will never change.</span></span> <span data-ttu-id="56896-121">Toutefois, comme pour les arborescences de syntaxe et les compilations, vous pouvez modifier des solutions en créant d’autres instances basées sur des solutions existantes et en y apportant les changements souhaités.</span><span class="sxs-lookup"><span data-stu-id="56896-121">However, like with syntax trees and compilations, you can modify solutions by constructing new instances based on existing solutions and specific changes.</span></span> <span data-ttu-id="56896-122">Pour répercuter vos changements dans l’espace de travail, vous devez explicitement réappliquer la solution modifiée dans l’espace de travail.</span><span class="sxs-lookup"><span data-stu-id="56896-122">To get the workspace to reflect your changes, you must explicitly apply the changed solution back to the workspace.</span></span>

<span data-ttu-id="56896-123">Un projet est une composante du modèle de solution immuable global.</span><span class="sxs-lookup"><span data-stu-id="56896-123">A project is a part of the overall immutable solution model.</span></span> <span data-ttu-id="56896-124">Il représente l’ensemble des documents du code source, des options d’analyse et de compilation, et des références d’assembly et entre projets.</span><span class="sxs-lookup"><span data-stu-id="56896-124">It represents all the source code documents, parse and compilation options, and both assembly and project-to-project references.</span></span> <span data-ttu-id="56896-125">À partir d’un projet, vous pouvez accéder à la compilation correspondante sans avoir besoin de déterminer les dépendances du projet ou d’analyser des fichiers sources.</span><span class="sxs-lookup"><span data-stu-id="56896-125">From a project, you can access the corresponding compilation without needing to determine project dependencies or parse any source files.</span></span>

<span data-ttu-id="56896-126">Un document est une autre composante du modèle de solution immuable global.</span><span class="sxs-lookup"><span data-stu-id="56896-126">A document is also a part of the overall immutable solution model.</span></span> <span data-ttu-id="56896-127">Un document représente un fichier source unique à partir duquel vous pouvez accéder au texte du fichier, à l’arborescence de syntaxe et au modèle sémantique.</span><span class="sxs-lookup"><span data-stu-id="56896-127">A document represents a single source file from which you can access the text of the file, the syntax tree, and the semantic model.</span></span>

<span data-ttu-id="56896-128">Le diagramme suivant illustre les relations entre l’espace de travail et l’environnement hôte, les outils, et la façon dont les modifications sont effectuées.</span><span class="sxs-lookup"><span data-stu-id="56896-128">The following diagram is a representation of how the Workspace relates to the host environment, tools, and how edits are made.</span></span>

![relations entre différents éléments d’un espace de travail contenant des projets et des fichiers sources](media/workspace-obj-relations.png)

## <a name="summary"></a><span data-ttu-id="56896-130">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="56896-130">Summary</span></span>

<span data-ttu-id="56896-131">Roslyn expose un ensemble d’API de compilateur et d’API d’espaces de travail. Ces API fournissent des informations détaillées sur votre code source et offrent une haute fidélité avec les langages Visual Basic et C#.</span><span class="sxs-lookup"><span data-stu-id="56896-131">Roslyn exposes a set of compiler APIs and Workspaces APIs that provides rich information about your source code and that has full fidelity with the C# and Visual Basic languages.</span></span>  <span data-ttu-id="56896-132">Le SDK .NET Compiler Platform réduit considérablement les difficultés inhérentes à la création d’applications et d’outils axés sur le code.</span><span class="sxs-lookup"><span data-stu-id="56896-132">The .NET Compiler Platform SDK dramatically lowers the barrier to entry for creating code-focused tools and applications.</span></span> <span data-ttu-id="56896-133">Il offre de nombreuses possibilités d’innovation dans différents champs, notamment la métaprogrammation, la génération et la transformation de code, l’utilisation interactive des langages C# et VB et l’incorporation de C# et de VB dans des langages propres au domaine.</span><span class="sxs-lookup"><span data-stu-id="56896-133">It creates many opportunities for innovation in areas such as meta-programming, code generation and transformation, interactive use of the C# and VB languages, and embedding of C# and VB in domain specific languages.</span></span>  
