---
title: Attributs - C#
description: "Découvrez comment les attributs fonctionnent en C#."
keywords: .NET, .NET Core, C#, attribut
author: mgroves
ms.author: wiwagn
ms.date: 03/06/2017
ms.topic: article
ms.prod: .net
ms.technology: devlang-csharp
ms.devlang: csharp
ms.assetid: b152cf36-76e4-43a5-b805-1a1952e53b79
ms.openlocfilehash: dad02c64d22fe0f127057202c082680f13261d7b
ms.sourcegitcommit: bd1ef61f4bb794b25383d3d72e71041a5ced172e
ms.translationtype: HT
ms.contentlocale: fr-FR
ms.lasthandoff: 10/18/2017
---
# <a name="using-attributes-in-c"></a><span data-ttu-id="aedc8-104">Utilisation d’attributs en C#</span><span class="sxs-lookup"><span data-stu-id="aedc8-104">Using Attributes in C#</span></span> #

<span data-ttu-id="aedc8-105">Les attributs fournissent un moyen permettant d’associer des informations au code de manière déclarative.</span><span class="sxs-lookup"><span data-stu-id="aedc8-105">Attributes provide a way of associating information with code in a declarative way.</span></span> <span data-ttu-id="aedc8-106">Ils peuvent également fournir un élément réutilisable qui peut être appliqué à diverses cibles.</span><span class="sxs-lookup"><span data-stu-id="aedc8-106">They can also provide a reusable element that can be applied to a variety of targets.</span></span>

<span data-ttu-id="aedc8-107">Considérez l’attribut `[Obsolete]`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-107">Consider the `[Obsolete]` attribute.</span></span> <span data-ttu-id="aedc8-108">Vous pouvez l’appliquer aux classes, structures, méthodes, constructeurs et bien plus encore.</span><span class="sxs-lookup"><span data-stu-id="aedc8-108">It can be applied to classes, structs, methods, constructors, and more.</span></span> <span data-ttu-id="aedc8-109">Il _déclare_ que l’élément est obsolète.</span><span class="sxs-lookup"><span data-stu-id="aedc8-109">It _declares_ that the element is obsolete.</span></span> <span data-ttu-id="aedc8-110">Il revient ensuite au compilateur C# de rechercher cet attribut et d’effectuer des actions en réponse.</span><span class="sxs-lookup"><span data-stu-id="aedc8-110">It's then up to the C# compiler to look for this attribute, and do some action in response.</span></span>

<span data-ttu-id="aedc8-111">Dans ce didacticiel, vous allez voir comment ajouter des attributs à votre code, comment créer et utiliser vos propres attributs et comment utiliser des attributs qui sont intégrés à .NET Core.</span><span class="sxs-lookup"><span data-stu-id="aedc8-111">In this tutorial, you'll be introduced to how to add attributes to your code, how to create and use your own attributes, and how to use some attributes that are built into .NET Core.</span></span>

## <a name="prerequisites"></a><span data-ttu-id="aedc8-112">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="aedc8-112">Prerequisites</span></span>
<span data-ttu-id="aedc8-113">Vous devez configurer votre ordinateur pour exécuter .NET Core.</span><span class="sxs-lookup"><span data-stu-id="aedc8-113">You’ll need to setup your machine to run .NET core.</span></span> <span data-ttu-id="aedc8-114">Vous trouverez les instructions d’installation sur la page de [.NET Core](https://www.microsoft.com/net/core).</span><span class="sxs-lookup"><span data-stu-id="aedc8-114">You can find the installation instructions on the [.NET Core](https://www.microsoft.com/net/core) page.</span></span>
<span data-ttu-id="aedc8-115">Vous pouvez exécuter cette application sur Windows, Ubuntu Linux, Mac OS ou dans un conteneur Docker.</span><span class="sxs-lookup"><span data-stu-id="aedc8-115">You can run this application on Windows, Ubuntu Linux, macOS or in a Docker container.</span></span> <span data-ttu-id="aedc8-116">Vous devez installer l’éditeur de code de votre choix.</span><span class="sxs-lookup"><span data-stu-id="aedc8-116">You’ll need to install your favorite code editor.</span></span> <span data-ttu-id="aedc8-117">Les descriptions ci-dessous utilisent [Visual Studio Code](https://code.visualstudio.com/), un éditeur open source et multiplateforme.</span><span class="sxs-lookup"><span data-stu-id="aedc8-117">The descriptions below use [Visual Studio Code](https://code.visualstudio.com/) which is an open source, cross platform editor.</span></span> <span data-ttu-id="aedc8-118">Cependant, vous pouvez utiliser les outils avec lesquels vous êtes le plus à l’aise.</span><span class="sxs-lookup"><span data-stu-id="aedc8-118">However, you can use whatever tools you are comfortable with.</span></span>

## <a name="create-the-application"></a><span data-ttu-id="aedc8-119">Création de l’application</span><span class="sxs-lookup"><span data-stu-id="aedc8-119">Create the Application</span></span>

<span data-ttu-id="aedc8-120">Maintenant que vous avez installé tous les outils, créez une nouvelle application .NET Core.</span><span class="sxs-lookup"><span data-stu-id="aedc8-120">Now that you've installed all the tools, create a new .NET Core application.</span></span> <span data-ttu-id="aedc8-121">Pour utiliser le générateur de ligne de commande, exécutez la commande suivante dans votre interpréteur de commandes préféré :</span><span class="sxs-lookup"><span data-stu-id="aedc8-121">To use the command line generator, execute the following command in your favorite shell:</span></span>

`dotnet new console`

<span data-ttu-id="aedc8-122">Cette commande créera des fichiers de projet .NET Core bruts.</span><span class="sxs-lookup"><span data-stu-id="aedc8-122">This command will create barebones .NET core project files.</span></span> <span data-ttu-id="aedc8-123">Vous devez exécuter `dotnet restore` pour restaurer les dépendances nécessaires à la compilation de ce projet.</span><span class="sxs-lookup"><span data-stu-id="aedc8-123">You will need to execute `dotnet restore` to restore the dependencies needed to compile this project.</span></span>

[!INCLUDE[DotNet Restore Note](~/includes/dotnet-restore-note.md)]

<span data-ttu-id="aedc8-124">Pour exécuter le programme, utilisez `dotnet run`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-124">To execute the program, use `dotnet run`.</span></span> <span data-ttu-id="aedc8-125">Vous devriez voir le résultat dans la « Hello, World » dans la console.</span><span class="sxs-lookup"><span data-stu-id="aedc8-125">You should see "Hello, World" output to the console.</span></span>

## <a name="how-to-add-attributes-to-code"></a><span data-ttu-id="aedc8-126">Guide pratique d’ajout d’attributs aux propriétés</span><span class="sxs-lookup"><span data-stu-id="aedc8-126">How to add attributes to code</span></span>

<span data-ttu-id="aedc8-127">En C#, les attributs sont des classes qui héritent de la classe de base `Attribute`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-127">In C#, attributes are classes that inherit from the `Attribute` base class.</span></span> <span data-ttu-id="aedc8-128">Toute classe qui hérite de `Attribute` peut être utilisée comme une sorte de « balise » sur les autres éléments de code.</span><span class="sxs-lookup"><span data-stu-id="aedc8-128">Any class that inherits from `Attribute` can be used as a sort of "tag" on other pieces of code.</span></span>
<span data-ttu-id="aedc8-129">Par exemple, il existe un attribut appelé `ObsoleteAttribute`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-129">For instance, there is an attribute called `ObsoleteAttribute`.</span></span> <span data-ttu-id="aedc8-130">Il sert à signaler que le code est obsolète et ne doit pas être plus utilisé.</span><span class="sxs-lookup"><span data-stu-id="aedc8-130">This is used to signal that code is obsolete and shouldn't be used anymore.</span></span> <span data-ttu-id="aedc8-131">Vous pouvez placer cet attribut sur une classe, par exemple en utilisant des crochets.</span><span class="sxs-lookup"><span data-stu-id="aedc8-131">You can place this attribute on a class, for instance, by using square brackets.</span></span>

[!code-csharp[Obsolete attribute example](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ObsoleteExample1)]  

<span data-ttu-id="aedc8-132">Notez que si la classe est nommée `ObsoleteAttribute`, il est seulement nécessaire d’utiliser `[Obsolete]` dans le code.</span><span class="sxs-lookup"><span data-stu-id="aedc8-132">Note that while the class is called `ObsoleteAttribute`, it's only necessary to use `[Obsolete]` in the code.</span></span> <span data-ttu-id="aedc8-133">Il s’agit d’une convention que C# respecte.</span><span class="sxs-lookup"><span data-stu-id="aedc8-133">This is a convention that C# follows.</span></span>
<span data-ttu-id="aedc8-134">Vous pouvez utiliser le nom complet `[ObsoleteAttribute]` si vous le souhaitez.</span><span class="sxs-lookup"><span data-stu-id="aedc8-134">You can use the full name `[ObsoleteAttribute]` if you choose.</span></span>

<span data-ttu-id="aedc8-135">Lorsque vous marquez une classe comme étant obsolète, il est judicieux de fournir des informations indiquant *pourquoi* elle est obsolète, et/ou *quelle classe* utiliser à la place.</span><span class="sxs-lookup"><span data-stu-id="aedc8-135">When marking a class obsolete, it's a good idea to provide some information as to *why* it's obsolete, and/or *what* to use instead.</span></span> <span data-ttu-id="aedc8-136">Faites cela en passant un paramètre de chaîne à l’attribut obsolète.</span><span class="sxs-lookup"><span data-stu-id="aedc8-136">Do this by passing a string parameter to the Obsolete attribute.</span></span>

[!code-csharp[Obsolete attribute example with parameters](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ObsoleteExample2)]

<span data-ttu-id="aedc8-137">La chaîne est passée comme argument à un constructeur `ObsoleteAttribute`, comme si vous écriviez `var attr = new ObsoleteAttribute("some string")`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-137">The string is being passed as an argument to an `ObsoleteAttribute` constructor, just as if you were writing `var attr = new ObsoleteAttribute("some string")`.</span></span>

<span data-ttu-id="aedc8-138">Les paramètres à un constructeur d’attribut sont limités aux types simples/littéraux : `bool, int, double, string, Type, enums, etc` et les tableaux de ces types.</span><span class="sxs-lookup"><span data-stu-id="aedc8-138">Parameters to an attribute constructor are limited to simple types/literals: `bool, int, double, string, Type, enums, etc` and arrays of those types.</span></span>
<span data-ttu-id="aedc8-139">Vous ne pouvez pas utiliser une expression ou une variable.</span><span class="sxs-lookup"><span data-stu-id="aedc8-139">You can not use an expression or a variable.</span></span> <span data-ttu-id="aedc8-140">Vous êtes libre d’utiliser des paramètres positionnels ou nommés.</span><span class="sxs-lookup"><span data-stu-id="aedc8-140">You are free to use positional or named parameters.</span></span>

## <a name="how-to-create-your-own-attribute"></a><span data-ttu-id="aedc8-141">Guide pratique de création de votre propre attribut</span><span class="sxs-lookup"><span data-stu-id="aedc8-141">How to create your own attribute</span></span>

<span data-ttu-id="aedc8-142">La création d’un attribut est aussi simple que l’héritage de la classe de base `Attribute`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-142">Creating an attribute is as simple as inheriting from the `Attribute` base class.</span></span>

[!code-csharp[Create your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#CreateAttributeExample1)]

<span data-ttu-id="aedc8-143">Avec les éléments ci-dessus, je peux maintenant utiliser `[MySpecial]` (ou `[MySpecialAttribute]`) en tant qu’attribut ailleurs dans la base de code.</span><span class="sxs-lookup"><span data-stu-id="aedc8-143">With the above, I can now use `[MySpecial]` (or `[MySpecialAttribute]`) as an attribute elsewhere in the code base.</span></span>

[!code-csharp[Using your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#CreateAttributeExample2)]

<span data-ttu-id="aedc8-144">Les attributs dans la bibliothèque de classes de base .NET, comme `ObsoleteAttribute`, déclenchent certains comportements au sein du compilateur.</span><span class="sxs-lookup"><span data-stu-id="aedc8-144">Attributes in the .NET base class library like `ObsoleteAttribute` trigger certain behaviors within the compiler.</span></span> <span data-ttu-id="aedc8-145">Toutefois, un attribut que vous créez agit uniquement comme métadonnées et ne produit pas de code dans la classe d’attributs en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="aedc8-145">However, any attribute you create acts only as metadata, and doesn't result in any code within the attribute class being executed.</span></span> <span data-ttu-id="aedc8-146">Il revient à vous d’agir sur ces métadonnées ailleurs dans votre code (plus loin dans ce didacticiel).</span><span class="sxs-lookup"><span data-stu-id="aedc8-146">It's up to you to act on that metadata elsewhere in your code (more on that later in the tutorial).</span></span>

<span data-ttu-id="aedc8-147">Il y a ici un « piège » à éviter.</span><span class="sxs-lookup"><span data-stu-id="aedc8-147">There is a 'gotcha' here to watch out for.</span></span> <span data-ttu-id="aedc8-148">Comme mentionné ci-dessus, seuls certains types sont autorisés à être passés comme arguments lors de l’utilisation d’attributs.</span><span class="sxs-lookup"><span data-stu-id="aedc8-148">As mentioned above, only certain types are allowed to be passed as arguments when using attributes.</span></span> <span data-ttu-id="aedc8-149">Toutefois, lorsque vous créez un type d’attribut, le compilateur C# ne vous empêche pas de créer ces paramètres.</span><span class="sxs-lookup"><span data-stu-id="aedc8-149">However, when creating an attribute type, the C# compiler won't stop you from creating those parameters.</span></span> <span data-ttu-id="aedc8-150">Dans l’exemple ci-dessous, j’ai créé un attribut avec un constructeur qui se compile correctement.</span><span class="sxs-lookup"><span data-stu-id="aedc8-150">In the below example, I've created an attribute with a constructor that compiles just fine.</span></span>

[!code-csharp[Valid constructor used in an attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeGothca1)]

<span data-ttu-id="aedc8-151">Toutefois, vous ne pourrez pas utiliser ce constructeur avec une syntaxe d’attribut.</span><span class="sxs-lookup"><span data-stu-id="aedc8-151">However, you will be unable to use this constructor with attribute syntax.</span></span>

[!code-csharp[Invalid attempt to use the attribute constructor](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeGotcha2)]

<span data-ttu-id="aedc8-152">L’exemple ci-dessus entraîne une erreur du compilateur, comme `Attribute constructor parameter 'myClass' has type 'Foo', which is not a valid attribute parameter type`</span><span class="sxs-lookup"><span data-stu-id="aedc8-152">The above will cause a compiler error like `Attribute constructor parameter 'myClass' has type 'Foo', which is not a valid attribute parameter type`</span></span>

## <a name="how-to-restrict-attribute-usage"></a><span data-ttu-id="aedc8-153">Comment limiter l’utilisation d’attributs</span><span class="sxs-lookup"><span data-stu-id="aedc8-153">How to restrict attribute usage</span></span>

<span data-ttu-id="aedc8-154">Les attributs peuvent être utilisés sur plusieurs « cibles ».</span><span class="sxs-lookup"><span data-stu-id="aedc8-154">Attributes can be used on a number of "targets".</span></span> <span data-ttu-id="aedc8-155">Les exemples ci-dessus les illustrent sur des classes, mais ils peuvent également être utilisés sur :</span><span class="sxs-lookup"><span data-stu-id="aedc8-155">The above examples show them on classes, but they can also be used on:</span></span>

* <span data-ttu-id="aedc8-156">Assembly</span><span class="sxs-lookup"><span data-stu-id="aedc8-156">Assembly</span></span>
* <span data-ttu-id="aedc8-157">Classe</span><span class="sxs-lookup"><span data-stu-id="aedc8-157">Class</span></span>
* <span data-ttu-id="aedc8-158">Constructeur</span><span class="sxs-lookup"><span data-stu-id="aedc8-158">Constructor</span></span>
* <span data-ttu-id="aedc8-159">Délégué</span><span class="sxs-lookup"><span data-stu-id="aedc8-159">Delegate</span></span>
* <span data-ttu-id="aedc8-160">Enum</span><span class="sxs-lookup"><span data-stu-id="aedc8-160">Enum</span></span>
* <span data-ttu-id="aedc8-161">Événement</span><span class="sxs-lookup"><span data-stu-id="aedc8-161">Event</span></span>
* <span data-ttu-id="aedc8-162">Champ</span><span class="sxs-lookup"><span data-stu-id="aedc8-162">Field</span></span>
* <span data-ttu-id="aedc8-163">GenericParameter</span><span class="sxs-lookup"><span data-stu-id="aedc8-163">GenericParameter</span></span>
* <span data-ttu-id="aedc8-164">Interface</span><span class="sxs-lookup"><span data-stu-id="aedc8-164">Interface</span></span>
* <span data-ttu-id="aedc8-165">Méthode</span><span class="sxs-lookup"><span data-stu-id="aedc8-165">Method</span></span>
* <span data-ttu-id="aedc8-166">Module</span><span class="sxs-lookup"><span data-stu-id="aedc8-166">Module</span></span>
* <span data-ttu-id="aedc8-167">Paramètre</span><span class="sxs-lookup"><span data-stu-id="aedc8-167">Parameter</span></span>
* <span data-ttu-id="aedc8-168">Propriété</span><span class="sxs-lookup"><span data-stu-id="aedc8-168">Property</span></span>
* <span data-ttu-id="aedc8-169">ReturnValue</span><span class="sxs-lookup"><span data-stu-id="aedc8-169">ReturnValue</span></span>
* <span data-ttu-id="aedc8-170">Struct</span><span class="sxs-lookup"><span data-stu-id="aedc8-170">Struct</span></span>

<span data-ttu-id="aedc8-171">Lorsque vous créez une classe d’attributs, par défaut, C# vous permettra d’utiliser cet attribut sur une des cibles d’attribut possibles.</span><span class="sxs-lookup"><span data-stu-id="aedc8-171">When you create an attribute class, by default, C# will allow you to use that attribute on any of the possible attribute targets.</span></span> <span data-ttu-id="aedc8-172">Si vous souhaitez limiter votre attribut à certaines cibles, vous pouvez le faire à l’aide de `AttributeUsageAttribute` sur votre classe d’attributs.</span><span class="sxs-lookup"><span data-stu-id="aedc8-172">If you want to restrict your attribute to certain targets, you can do so by using the `AttributeUsageAttribute` on your attribute class.</span></span> <span data-ttu-id="aedc8-173">C’est exact, un attribut sur un attribut !</span><span class="sxs-lookup"><span data-stu-id="aedc8-173">That's right, an attribute on an attribute!</span></span>

[!code-csharp[Using your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeUsageExample1)]

<span data-ttu-id="aedc8-174">Si vous tentez de placer l’attribut ci-dessus sur quelque chose qui n’est pas une classe ou un struct, vous obtiendrez une erreur du compilateur, comme `Attribute 'MyAttributeForClassAndStructOnly' is not valid on this declaration type. It is only valid on 'class, struct' declarations`</span><span class="sxs-lookup"><span data-stu-id="aedc8-174">If you attempt to put the above attribute on something that's not a class or a struct, you will get a compiler error like `Attribute 'MyAttributeForClassAndStructOnly' is not valid on this declaration type. It is only valid on 'class, struct' declarations`</span></span>

[!code-csharp[Using your own attribute](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#AttributeUsageExample2)]

## <a name="how-to-use-attributes-attached-to-a-code-element"></a><span data-ttu-id="aedc8-175">Guide d’utilisation des attributs associés à un élément de code</span><span class="sxs-lookup"><span data-stu-id="aedc8-175">How to use attributes attached to a code element</span></span>

<span data-ttu-id="aedc8-176">Les attributs agissent comme métadonnées.</span><span class="sxs-lookup"><span data-stu-id="aedc8-176">Attributes act as metadata.</span></span> <span data-ttu-id="aedc8-177">Sans une certaine force extérieure, vous ne les verrez pas faire grand-chose.</span><span class="sxs-lookup"><span data-stu-id="aedc8-177">Without some outward force, they won't actually do anything.</span></span>

<span data-ttu-id="aedc8-178">Pour rechercher et agir sur des attributs, la [Réflexion](../programming-guide/concepts/reflection.md) est généralement nécessaire.</span><span class="sxs-lookup"><span data-stu-id="aedc8-178">To find and act on attributes, [Reflection](../programming-guide/concepts/reflection.md) is generally needed.</span></span> <span data-ttu-id="aedc8-179">Je n’aborderai pas la réflexion de façon approfondie dans ce didacticiel, mais l’idée fondamentale est que la réflexion vous permet d’écrire du code en C# qui examine un autre code.</span><span class="sxs-lookup"><span data-stu-id="aedc8-179">I won't cover Reflection in-depth in this tutorial, but the basic idea is that Reflection allows you to write code in C# that examines other code.</span></span>

<span data-ttu-id="aedc8-180">Par exemple, vous pouvez utiliser la réflexion pour obtenir des informations sur une classe :</span><span class="sxs-lookup"><span data-stu-id="aedc8-180">For instance, you can use Reflection to get information about a class:</span></span> 

[!code-csharp[Getting type information with Reflection](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ReflectionExample1)]

<span data-ttu-id="aedc8-181">Cela imprimera quelque chose comme : `The assembly qualified name of MyClass is ConsoleApplication.MyClass, attributes, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null`</span><span class="sxs-lookup"><span data-stu-id="aedc8-181">That will print out something like: `The assembly qualified name of MyClass is ConsoleApplication.MyClass, attributes, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null`</span></span>

<span data-ttu-id="aedc8-182">Une fois que vous avez un objet `TypeInfo` (ou `MemberInfo`, `FieldInfo`, etc.), vous pouvez utiliser la méthode `GetCustomAttributes`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-182">Once you have a `TypeInfo` object (or a `MemberInfo`, `FieldInfo`, etc), you can use the `GetCustomAttributes` method.</span></span> <span data-ttu-id="aedc8-183">Cette opération renvoie une collection d’objets `Attribute`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-183">This will return a collection of `Attribute` objects.</span></span>
<span data-ttu-id="aedc8-184">Vous pouvez également utiliser `GetCustomAttribute` et spécifier un type d’attribut.</span><span class="sxs-lookup"><span data-stu-id="aedc8-184">You can also use `GetCustomAttribute` and specify an Attribute type.</span></span>

<span data-ttu-id="aedc8-185">Voici un exemple d’utilisation de `GetCustomAttributes` sur une instance de `MemberInfo` pour `MyClass` (avec un attribut `[Obsolete]` associé, comme vu précédemment).</span><span class="sxs-lookup"><span data-stu-id="aedc8-185">Here's an example of using `GetCustomAttributes` on a `MemberInfo` instance for `MyClass` (which we saw earlier has an `[Obsolete]` attribute on it).</span></span>

[!code-csharp[Getting type information with Reflection](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#ReflectionExample2)]

<span data-ttu-id="aedc8-186">Cela imprimera ceci sur la console : `Attribute on MyClass: ObsoleteAttribute`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-186">That will print to console: `Attribute on MyClass: ObsoleteAttribute`.</span></span> <span data-ttu-id="aedc8-187">Essayez d’ajouter d’autres attributs à `MyClass`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-187">Try adding other attributes to `MyClass`.</span></span>

<span data-ttu-id="aedc8-188">Il est important de noter que ces objets `Attribute` sont instanciés de manière différée.</span><span class="sxs-lookup"><span data-stu-id="aedc8-188">It's important to note that these `Attribute` objects are instantiated lazily.</span></span> <span data-ttu-id="aedc8-189">Autrement dit, ils ne sont pas instanciés jusqu'à ce que vous utilisiez `GetCustomAttribute` ou `GetCustomAttributes`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-189">That is, they won't be instantiated until you use `GetCustomAttribute` or `GetCustomAttributes`.</span></span>
<span data-ttu-id="aedc8-190">Ils sont également instanciés chaque fois.</span><span class="sxs-lookup"><span data-stu-id="aedc8-190">They are also instantiated each time.</span></span> <span data-ttu-id="aedc8-191">Appeler `GetCustomAttributes` deux fois à la suite renverra deux instances différentes de `ObsoleteAttribute`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-191">Calling `GetCustomAttributes` twice in a row will return two different instances of `ObsoleteAttribute`.</span></span>

## <a name="common-attributes-in-the-base-class-library-bcl"></a><span data-ttu-id="aedc8-192">Attributs communs dans la bibliothèque de classes de base (BCL)</span><span class="sxs-lookup"><span data-stu-id="aedc8-192">Common attributes in the base class library (BCL)</span></span>

<span data-ttu-id="aedc8-193">Les attributs sont utilisés par de nombreux outils et frameworks.</span><span class="sxs-lookup"><span data-stu-id="aedc8-193">Attributes are used by many tools and frameworks.</span></span> <span data-ttu-id="aedc8-194">NUnit utilise des attributs tels que `[Test]` et `[TestFixture]`, qui sont utilisés par le Test Runner de NUnit.</span><span class="sxs-lookup"><span data-stu-id="aedc8-194">NUnit uses attributes like `[Test]` and `[TestFixture]` that are used by the NUnit test runner.</span></span> <span data-ttu-id="aedc8-195">ASP.NET MVC utilise des attributs tels que `[Authorize]` et fournit un framework de filtres d’action pour traiter les problèmes transversaux sur les actions MVC.</span><span class="sxs-lookup"><span data-stu-id="aedc8-195">ASP.NET MVC uses attributes like `[Authorize]` and provides an action filter framework to perform cross-cutting concerns on MVC actions.</span></span> <span data-ttu-id="aedc8-196">[PostSharp](https://www.postsharp.net) utilise la syntaxe d’attribut pour permettre la programmation orientée aspect en C#.</span><span class="sxs-lookup"><span data-stu-id="aedc8-196">[PostSharp](https://www.postsharp.net) uses the attribute syntax to allow aspect-oriented programming in C#.</span></span>

<span data-ttu-id="aedc8-197">Voici quelques attributs importants générés dans les bibliothèques de classe de base de .NET Core :</span><span class="sxs-lookup"><span data-stu-id="aedc8-197">Here are a few notable attributes built into the .NET Core base class libraries:</span></span>

* <span data-ttu-id="aedc8-198">`[Obsolete]`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-198">`[Obsolete]`.</span></span> <span data-ttu-id="aedc8-199">Celui-ci a été utilisé dans les exemples ci-dessus, et il se trouve dans l’espace de noms `System`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-199">This one was used in the above examples, and it lives in the `System` namespace.</span></span> <span data-ttu-id="aedc8-200">Il est utile de fournir des informations déclaratives sur une base de code changeante.</span><span class="sxs-lookup"><span data-stu-id="aedc8-200">It is useful to provide declarative documentation about a changing code base.</span></span> <span data-ttu-id="aedc8-201">Un message peut être fourni sous la forme d’une chaîne et un autre paramètre booléen peut servir à passer d’un avertissement du compilateur à une erreur du compilateur.</span><span class="sxs-lookup"><span data-stu-id="aedc8-201">A message can be provided in the form of a string, and another boolean parameter can be used to escalate from a compiler warning to a compiler error.</span></span>

* <span data-ttu-id="aedc8-202">`[Conditional]`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-202">`[Conditional]`.</span></span> <span data-ttu-id="aedc8-203">Cet attribut se trouve dans l'espace de noms `System.Diagnostics`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-203">This attribute is in the `System.Diagnostics` namespace.</span></span> <span data-ttu-id="aedc8-204">Cet attribut peut être appliqué aux méthodes (ou classes d’attributs).</span><span class="sxs-lookup"><span data-stu-id="aedc8-204">This attribute can be applied to methods (or attribute classes).</span></span> <span data-ttu-id="aedc8-205">Vous devez transmettre une chaîne au constructeur.</span><span class="sxs-lookup"><span data-stu-id="aedc8-205">You must pass a string to the constructor.</span></span>
<span data-ttu-id="aedc8-206">Si cette chaîne correspond à une directive `#define`, alors tous les appels à cette méthode (mais pas la méthode proprement dite) seront supprimés par le compilateur C#.</span><span class="sxs-lookup"><span data-stu-id="aedc8-206">If that string matches a `#define` directive, then any calls to that method (but not the method itself) will be removed by the C# compiler.</span></span> <span data-ttu-id="aedc8-207">Cela est généralement utilisé pour le débogage (diagnostic).</span><span class="sxs-lookup"><span data-stu-id="aedc8-207">Typically this is used for debugging (diagnostics) purposes.</span></span>

* <span data-ttu-id="aedc8-208">`[CallerMemberName]`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-208">`[CallerMemberName]`.</span></span> <span data-ttu-id="aedc8-209">Cet attribut peut être utilisé sur les paramètres et se trouve dans l’espace de noms `System.Runtime.CompilerServices`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-209">This attribute can be used on parameters, and lives in the `System.Runtime.CompilerServices` namespace.</span></span> <span data-ttu-id="aedc8-210">Il s’agit d’un attribut utilisé pour injecter le nom de la méthode qui appelle une autre méthode.</span><span class="sxs-lookup"><span data-stu-id="aedc8-210">This is an attribute that is used to inject the name of the method that is calling another method.</span></span> <span data-ttu-id="aedc8-211">Cela est généralement utilisé comme moyen d’éliminer les « chaînes magiques » lors de l’implémentation de INotifyPropertyChanged dans divers frameworks d’interface utilisateur.</span><span class="sxs-lookup"><span data-stu-id="aedc8-211">This is typically used as a way to eliminate 'magic strings' when implementing INotifyPropertyChanged in various UI frameworks.</span></span> <span data-ttu-id="aedc8-212">En tant qu’exemple :</span><span class="sxs-lookup"><span data-stu-id="aedc8-212">As an example:</span></span>

[!code-csharp[Using CallerMemberName when implementing INotifyPropertyChanged](../../../samples/snippets/csharp/tutorials/attributes/Program.cs#CallerMemberName1)]

<span data-ttu-id="aedc8-213">Dans le code ci-dessus, il est inutile d’avoir une chaîne littérale `"Name"`.</span><span class="sxs-lookup"><span data-stu-id="aedc8-213">In the above code, you don't have to have a literal `"Name"` string.</span></span> <span data-ttu-id="aedc8-214">Cela peut vous aider à éviter les bogues liés aux fautes de frappe et rend également plus simple la refactorisation/les changements de nom.</span><span class="sxs-lookup"><span data-stu-id="aedc8-214">This can help prevent typo-related bugs and also makes for smoother refactoring/renaming.</span></span>

## <a name="summary"></a><span data-ttu-id="aedc8-215">Résumé</span><span class="sxs-lookup"><span data-stu-id="aedc8-215">Summary</span></span>

<span data-ttu-id="aedc8-216">Les attributs apportent la puissance déclarative dans C#.</span><span class="sxs-lookup"><span data-stu-id="aedc8-216">Attributes bring declarative power to C#.</span></span> <span data-ttu-id="aedc8-217">Mais ils constituent une forme de code en tant que métadonnées et n’agissent pas par eux-mêmes.</span><span class="sxs-lookup"><span data-stu-id="aedc8-217">But they are a form of code as meta-data, and don't act by themselves.</span></span>
