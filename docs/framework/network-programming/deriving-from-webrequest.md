---
title: "dérivation de WebRequest"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- WebRequest class, pluggable protocols
- protocol-specific request handler
- sending data, pluggable protocols
- pluggable protocols, class criteria
- Internet, pluggable protocols
- receiving data, pluggable protocols
- protocols, pluggable
ms.assetid: 9810c177-973e-43d7-823c-14960bd625ea
caps.latest.revision: "9"
author: mcleblanc
ms.author: markl
manager: markl
ms.openlocfilehash: 56a536ccdd9b4ad67bc6a07f4a6d2a225f6fa565
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/21/2017
---
# <a name="deriving-from-webrequest"></a><span data-ttu-id="47903-102">dérivation de WebRequest</span><span class="sxs-lookup"><span data-stu-id="47903-102">Deriving from WebRequest</span></span>
<span data-ttu-id="47903-103">La classe <xref:System.Net.WebRequest> est une classe de base abstraite qui fournit les méthodes et les propriétés de base pour la création d’un gestionnaire de demande propre au protocole qui correspond au modèle de protocole enfichable .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="47903-103">The <xref:System.Net.WebRequest> class is an abstract base class that provides the basic methods and properties for creating a protocol-specific request handler that fits the .NET Framework pluggable protocol model.</span></span> <span data-ttu-id="47903-104">Les applications qui utilisent la classe **WebRequest** peuvent demander des données à l’aide de n’importe quel protocole pris en charge, sans avoir besoin de spécifier le protocole utilisé.</span><span class="sxs-lookup"><span data-stu-id="47903-104">Applications that use the **WebRequest** class can request data using any supported protocol without needing to specify the protocol used.</span></span>  
  
 <span data-ttu-id="47903-105">Deux critères doivent être remplis pour qu’une classe propre au protocole soit utilisée comme protocole enfichable : la classe doit implémenter l’interface <xref:System.Net.IWebRequestCreate> et elle doit s’inscrire auprès de la méthode <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="47903-105">Two criteria must be met in order for a protocol-specific class to be used as a pluggable protocol: The class must implement the <xref:System.Net.IWebRequestCreate> interface, and it must register with the <xref:System.Net.WebRequest.RegisterPrefix%2A?displayProperty=nameWithType> method.</span></span> <span data-ttu-id="47903-106">La classe doit remplacer toutes les propriétés et les méthodes abstraites de **WebRequest** pour fournir l’interface enfichable.</span><span class="sxs-lookup"><span data-stu-id="47903-106">The class must override all the abstract methods and properties of **WebRequest** to provide the pluggable interface.</span></span>  
  
 <span data-ttu-id="47903-107">Les instances de **WebRequest** sont destinées à un usage unique ; si vous souhaitez exécuter une autre requête, créez un nouveau **WebRequest**.</span><span class="sxs-lookup"><span data-stu-id="47903-107">**WebRequest** instances are intended for one-time use; if you want to make another request, create a new **WebRequest**.</span></span> <span data-ttu-id="47903-108">**WebRequest** prend en charge l’interface <xref:System.Runtime.Serialization.ISerializable> pour permettre aux développeurs de sérialiser un modèle **WebRequest** puis de recréer le modèle pour des requêtes supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="47903-108">**WebRequest** supports the <xref:System.Runtime.Serialization.ISerializable> interface to enable developers to serialize a template **WebRequest** and then reconstruct the template for additional requests.</span></span>  
  
## <a name="iwebrequest-create-method"></a><span data-ttu-id="47903-109">Méthode IWebRequest Create</span><span class="sxs-lookup"><span data-stu-id="47903-109">IWebRequest Create Method</span></span>  
 <span data-ttu-id="47903-110">La méthode <xref:System.Net.IWebRequestCreate.Create%2A> est chargée d’initialiser une nouvelle instance de la classe propre au protocole.</span><span class="sxs-lookup"><span data-stu-id="47903-110">The <xref:System.Net.IWebRequestCreate.Create%2A> method is responsible for initializing a new instance of the protocol-specific class.</span></span> <span data-ttu-id="47903-111">Quand un nouveau **WebRequest** est créé, la méthode <xref:System.Net.WebRequest.Create%2A?displayProperty=nameWithType> fait correspondre l’URI demandé avec les préfixes URI inscrits auprès de la méthode **RegisterPrefix**.</span><span class="sxs-lookup"><span data-stu-id="47903-111">When a new **WebRequest** is created, the <xref:System.Net.WebRequest.Create%2A?displayProperty=nameWithType> method matches the requested URI with the URI prefixes registered with the **RegisterPrefix** method.</span></span> <span data-ttu-id="47903-112">La méthode **Create** du descendant propre au protocole approprié doit retourner une instance initialisée du descendant capable d’effectuer une transaction de requête/réponse standard pour le protocole sans avoir besoin de champs propres au protocole modifiés.</span><span class="sxs-lookup"><span data-stu-id="47903-112">The **Create** method of the proper protocol-specific descendant must return an initialized instance of the descendant capable of performing a standard request/response transaction for the protocol without needing any protocol-specific fields modified.</span></span>  
  
## <a name="connectiongroupname-property"></a><span data-ttu-id="47903-113">Propriété ConnectionGroupName</span><span class="sxs-lookup"><span data-stu-id="47903-113">ConnectionGroupName Property</span></span>  
 <span data-ttu-id="47903-114">La propriété <xref:System.Net.WebRequest.ConnectionGroupName%2A> sert à nommer un groupe de connexions à une ressource afin que plusieurs requêtes puissent être effectuées sur une même connexion.</span><span class="sxs-lookup"><span data-stu-id="47903-114">The <xref:System.Net.WebRequest.ConnectionGroupName%2A> property is used to name a group of connections to a resource so that multiple requests can be made over a single connection.</span></span> <span data-ttu-id="47903-115">Pour implémenter le partage de connexion, vous devez utiliser une méthode de groupement et d’assignation des connexions propre au protocole.</span><span class="sxs-lookup"><span data-stu-id="47903-115">To implement connection-sharing, you must use a protocol-specific method of pooling and assigning connections.</span></span> <span data-ttu-id="47903-116">Par exemple, la classe <xref:System.Net.ServicePointManager> fournie implémente le partage de connexion pour la classe <xref:System.Net.HttpWebRequest>.</span><span class="sxs-lookup"><span data-stu-id="47903-116">For example, the provided <xref:System.Net.ServicePointManager> class implements connection sharing for the <xref:System.Net.HttpWebRequest> class.</span></span> <span data-ttu-id="47903-117">La classe **ServicePointManager** crée un <xref:System.Net.ServicePoint> qui fournit une connexion à un serveur spécifique pour chaque groupe de connexions.</span><span class="sxs-lookup"><span data-stu-id="47903-117">The **ServicePointManager** class creates a <xref:System.Net.ServicePoint> that provides a connection to a specific server for each connection group.</span></span>  
  
## <a name="contentlength-property"></a><span data-ttu-id="47903-118">Propriété ContentLength</span><span class="sxs-lookup"><span data-stu-id="47903-118">ContentLength Property</span></span>  
 <span data-ttu-id="47903-119">La propriété <xref:System.Net.WebRequest.ContentLength%2A> spécifie le nombre d’octets de données qui seront envoyés au serveur lors du chargement des données.</span><span class="sxs-lookup"><span data-stu-id="47903-119">The <xref:System.Net.WebRequest.ContentLength%2A> property specifies the number of bytes of data that will be sent to the server when uploading data.</span></span>  
  
 <span data-ttu-id="47903-120">En règle générale, la propriété <xref:System.Net.WebRequest.Method%2A> doit être définie pour indiquer qu’un chargement a lieu quand la propriété **ContentLength** a une valeur supérieure à zéro.</span><span class="sxs-lookup"><span data-stu-id="47903-120">Typically the <xref:System.Net.WebRequest.Method%2A> property must be set to indicate that an upload is taking place when the **ContentLength** property is set to a value greater than zero.</span></span>  
  
## <a name="contenttype-property"></a><span data-ttu-id="47903-121">Propriété ContentType</span><span class="sxs-lookup"><span data-stu-id="47903-121">ContentType Property</span></span>  
 <span data-ttu-id="47903-122">La propriété <xref:System.Net.WebRequest.ContentType%2A> fournit toutes les informations spéciales que votre protocole vous oblige à envoyer au serveur pour identifier le type de contenu que vous envoyez.</span><span class="sxs-lookup"><span data-stu-id="47903-122">The <xref:System.Net.WebRequest.ContentType%2A> property provides any special information that your protocol requires you to send to the server to identify the type of content that you are sending.</span></span> <span data-ttu-id="47903-123">Il s’agit généralement du type de contenu MIME des données chargées.</span><span class="sxs-lookup"><span data-stu-id="47903-123">Typically this is the MIME content type of any data uploaded.</span></span>  
  
## <a name="credentials-property"></a><span data-ttu-id="47903-124">Propriété Credentials</span><span class="sxs-lookup"><span data-stu-id="47903-124">Credentials Property</span></span>  
 <span data-ttu-id="47903-125">La propriété <xref:System.Net.WebRequest.Credentials%2A> contient les informations nécessaires pour authentifier la requête auprès du serveur.</span><span class="sxs-lookup"><span data-stu-id="47903-125">The <xref:System.Net.WebRequest.Credentials%2A> property contains information needed to authenticate the request with the server.</span></span> <span data-ttu-id="47903-126">Vous devez implémenter les détails du processus d’authentification pour votre protocole.</span><span class="sxs-lookup"><span data-stu-id="47903-126">You must implement the details of the authentication process for your protocol.</span></span> <span data-ttu-id="47903-127">La classe <xref:System.Net.AuthenticationManager> est chargée d’authentifier les requêtes et de fournir un jeton d’authentification.</span><span class="sxs-lookup"><span data-stu-id="47903-127">The <xref:System.Net.AuthenticationManager> class is responsible for authenticating requests and providing an authentication token.</span></span> <span data-ttu-id="47903-128">La classe qui fournit les informations d’identification utilisées par votre protocole doit implémenter l’interface <xref:System.Net.ICredentials>.</span><span class="sxs-lookup"><span data-stu-id="47903-128">The class that provides the credentials used by your protocol must implement the <xref:System.Net.ICredentials> interface.</span></span>  
  
## <a name="headers-property"></a><span data-ttu-id="47903-129">Propriété Headers</span><span class="sxs-lookup"><span data-stu-id="47903-129">Headers Property</span></span>  
 <span data-ttu-id="47903-130">La propriété <xref:System.Net.WebRequest.Headers%2A> contient une collection arbitraire de paires nom/valeur de métadonnées associées à la requête.</span><span class="sxs-lookup"><span data-stu-id="47903-130">The <xref:System.Net.WebRequest.Headers%2A> property contains an arbitrary collection of name/value pairs of metadata associated with the request.</span></span> <span data-ttu-id="47903-131">Toutes les métadonnées nécessaires au protocole qui peuvent être exprimées sous forme de paire nom/valeur peuvent être incluses dans la propriété **Headers**.</span><span class="sxs-lookup"><span data-stu-id="47903-131">Any metadata needed by the protocol that can be expressed as a name/value pair can be included in the **Headers** property.</span></span> <span data-ttu-id="47903-132">En général, vous devez définir ces informations avant d’appeler la méthode <xref:System.Net.WebRequest.GetRequestStream%2A> ou <xref:System.Net.WebRequest.GetResponse%2A> ; une fois que la requête a été effectuée, les métadonnées sont considérées comme étant en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="47903-132">Typically this information must be set before calling the <xref:System.Net.WebRequest.GetRequestStream%2A> or <xref:System.Net.WebRequest.GetResponse%2A> methods; once the request has been made, the metadata is considered read-only.</span></span>  
  
 <span data-ttu-id="47903-133">Vous n’êtes pas obligé d’utiliser la propriété **Headers** pour utiliser des métadonnées d’en-tête.</span><span class="sxs-lookup"><span data-stu-id="47903-133">You are not required to use the **Headers** property to use header metadata.</span></span> <span data-ttu-id="47903-134">Les métadonnées propres au protocole peuvent être exposées en tant que propriétés ; par exemple, la propriété <xref:System.Net.HttpWebRequest.UserAgent%2A?displayProperty=nameWithType> expose l’en-tête HTTP **User-Agent**.</span><span class="sxs-lookup"><span data-stu-id="47903-134">Protocol-specific metadata can be exposed as properties; for example, the <xref:System.Net.HttpWebRequest.UserAgent%2A?displayProperty=nameWithType> property exposes the **User-Agent** HTTP header.</span></span> <span data-ttu-id="47903-135">Quand vous exposez des métadonnées d’en-tête en tant que propriété, vous ne devez pas autoriser la définition de la même propriété à l’aide de la propriété **Headers**.</span><span class="sxs-lookup"><span data-stu-id="47903-135">When you expose header metadata as a property, you should not allow the same property to be set using the **Headers** property.</span></span>  
  
## <a name="method-property"></a><span data-ttu-id="47903-136">Propriété Method</span><span class="sxs-lookup"><span data-stu-id="47903-136">Method Property</span></span>  
 <span data-ttu-id="47903-137">La propriété <xref:System.Net.WebRequest.Method%2A> contient le verbe ou l’action que la requête souhaite que le serveur effectue.</span><span class="sxs-lookup"><span data-stu-id="47903-137">The <xref:System.Net.WebRequest.Method%2A> property contains the verb or action that the request is asking the server to perform.</span></span> <span data-ttu-id="47903-138">La valeur par défaut de la propriété **Method** doit activer une action de requête/réponse standard sans qu’il soit obligatoire de définir des propriétés propres au protocole.</span><span class="sxs-lookup"><span data-stu-id="47903-138">The default for the **Method** property must enable a standard request/response action without requiring any protocol-specific properties to be set.</span></span> <span data-ttu-id="47903-139">Par exemple, la méthode <xref:System.Net.HttpWebResponse.Method%2A> est GET par défaut, ce qui demande une ressource à un serveur web et retourne la réponse.</span><span class="sxs-lookup"><span data-stu-id="47903-139">For example, the <xref:System.Net.HttpWebResponse.Method%2A> method defaults to GET, which requests a resource from a Web server and returns the response.</span></span>  
  
 <span data-ttu-id="47903-140">En règle générale, la propriété **ContentLength** doit être affectée d’une valeur supérieure à zéro quand la propriété **Method** a comme valeur un verbe ou une action qui indique qu’un chargement a lieu.</span><span class="sxs-lookup"><span data-stu-id="47903-140">Typically the **ContentLength** property must be set to a value greater than zero when the **Method** property is set to a verb or action that indicates that an upload is taking place.</span></span>  
  
## <a name="preauthenticate-property"></a><span data-ttu-id="47903-141">Propriété PreAuthenticate</span><span class="sxs-lookup"><span data-stu-id="47903-141">PreAuthenticate Property</span></span>  
 <span data-ttu-id="47903-142">Les applications définissent la propriété <xref:System.Net.WebRequest.PreAuthenticate%2A> pour indiquer que des informations d’authentification doivent être envoyées avec la requête initiale au lieu d’attendre une demande d’authentification.</span><span class="sxs-lookup"><span data-stu-id="47903-142">Applications set the <xref:System.Net.WebRequest.PreAuthenticate%2A> property to indicate that authentication information should be sent with the initial request rather than waiting for an authentication challenge.</span></span> <span data-ttu-id="47903-143">La propriété **PreAuthenticate** n’est significative que si le protocole prend en charge les informations d’identification d’authentification envoyées avec la requête initiale.</span><span class="sxs-lookup"><span data-stu-id="47903-143">The **PreAuthenticate** property is only meaningful if the protocol supports authentication credentials sent with the initial request.</span></span>  
  
## <a name="proxy-property"></a><span data-ttu-id="47903-144">Propriété Proxy</span><span class="sxs-lookup"><span data-stu-id="47903-144">Proxy Property</span></span>  
 <span data-ttu-id="47903-145">La propriété <xref:System.Net.WebRequest.Proxy%2A> contient une interface <xref:System.Net.IWebProxy> qui est utilisée pour accéder à la ressource demandée.</span><span class="sxs-lookup"><span data-stu-id="47903-145">The <xref:System.Net.WebRequest.Proxy%2A> property contains an <xref:System.Net.IWebProxy> interface that is used to access the requested resource.</span></span> <span data-ttu-id="47903-146">La propriété **Proxy** n’est significative que si votre protocole prend en charge les requêtes en proxy.</span><span class="sxs-lookup"><span data-stu-id="47903-146">The **Proxy** property is meaningful only if your protocol supports proxied requests.</span></span> <span data-ttu-id="47903-147">Vous devez définir le proxy par défaut s’il est requis par votre protocole.</span><span class="sxs-lookup"><span data-stu-id="47903-147">You must set the default proxy if one is required by your protocol.</span></span>  
  
 <span data-ttu-id="47903-148">Dans certains environnements, comme derrière un pare-feu d’entreprise, il est possible que votre protocole doive utiliser un proxy.</span><span class="sxs-lookup"><span data-stu-id="47903-148">In some environments, such as behind a corporate firewall, your protocol might be required to use a proxy.</span></span> <span data-ttu-id="47903-149">Dans ce cas, vous devez implémenter l’interface **IWebProxy** pour créer une classe proxy qui fonctionne pour votre protocole.</span><span class="sxs-lookup"><span data-stu-id="47903-149">In that case, you must implement the **IWebProxy** interface to create a proxy class that will work for your protocol.</span></span>  
  
## <a name="requesturi-property"></a><span data-ttu-id="47903-150">Propriété RequestUri</span><span class="sxs-lookup"><span data-stu-id="47903-150">RequestUri Property</span></span>  
 <span data-ttu-id="47903-151">La propriété <xref:System.Net.WebRequest.RequestUri%2A> contient l’URI qui a été passée à la méthode **WebRequest.Create**.</span><span class="sxs-lookup"><span data-stu-id="47903-151">The <xref:System.Net.WebRequest.RequestUri%2A> property contains the URI that was passed to the **WebRequest.Create** method.</span></span> <span data-ttu-id="47903-152">Elle est en lecture seule et ne peut pas être modifiée une fois le **WebRequest** créé.</span><span class="sxs-lookup"><span data-stu-id="47903-152">It is read-only and cannot be changed once the **WebRequest** has been created.</span></span> <span data-ttu-id="47903-153">Si votre protocole prend en charge la redirection, la réponse peut provenir d’une ressource identifiée par un autre URI.</span><span class="sxs-lookup"><span data-stu-id="47903-153">If your protocol supports redirection, the response can come from a resource identified by a different URI.</span></span> <span data-ttu-id="47903-154">Si vous avez besoin de fournir l’accès à l’URI qui a répondu, vous devez fournir une propriété supplémentaire contenant cet URI.</span><span class="sxs-lookup"><span data-stu-id="47903-154">If you need to provide access to the URI that responded, you must provide an additional property containing that URI.</span></span>  
  
## <a name="timeout-property"></a><span data-ttu-id="47903-155">Propriété du délai d'attente</span><span class="sxs-lookup"><span data-stu-id="47903-155">Timeout Property</span></span>  
 <span data-ttu-id="47903-156">La propriété <xref:System.Net.WebRequest.Timeout%2A> contient la durée, en millisecondes, à attendre avant l’expiration de la requête et la levée d’une exception.</span><span class="sxs-lookup"><span data-stu-id="47903-156">The <xref:System.Net.WebRequest.Timeout%2A> property contains the length of time, in milliseconds, to wait before the request times out and throws an exception.</span></span> <span data-ttu-id="47903-157">**Timeout** s’applique uniquement aux requêtes synchrones effectuées avec la méthode <xref:System.Net.WebRequest.GetResponse%2A> ; les requêtes asynchrones doivent utiliser la méthode <xref:System.Net.WebRequest.Abort%2A> pour annuler une requête en attente.</span><span class="sxs-lookup"><span data-stu-id="47903-157">**Timeout** applies only to synchronous requests made with the <xref:System.Net.WebRequest.GetResponse%2A> method; asynchronous requests must use the <xref:System.Net.WebRequest.Abort%2A> method to cancel a pending request.</span></span>  
  
 <span data-ttu-id="47903-158">La définition de la propriété **Timeout** n’est significative que si la classe propre au protocole implémente un processus de délai d’attente.</span><span class="sxs-lookup"><span data-stu-id="47903-158">Setting the **Timeout** property is meaningful only if the protocol-specific class implements a time-out process.</span></span>  
  
## <a name="abort-method"></a><span data-ttu-id="47903-159">Abort, méthode</span><span class="sxs-lookup"><span data-stu-id="47903-159">Abort Method</span></span>  
 <span data-ttu-id="47903-160">La méthode <xref:System.Net.WebRequest.Abort%2A> annule une requête asynchrone à un serveur en attente.</span><span class="sxs-lookup"><span data-stu-id="47903-160">The <xref:System.Net.WebRequest.Abort%2A> method cancels a pending asynchronous request to a server.</span></span> <span data-ttu-id="47903-161">Une fois la requête annulée, l’appel à **GetResponse**, **BeginGetResponse**, **EndGetResponse**, **GetRequestStream**, **BeginGetRequestStream** ou **EndGetRequestStream** lève une <xref:System.Net.WebException> avec la propriété <xref:System.Net.WebException.Status%2A> définie sur <xref:System.Net.WebExceptionStatus>.</span><span class="sxs-lookup"><span data-stu-id="47903-161">After the request has been canceled, calling **GetResponse**, **BeginGetResponse**, **EndGetResponse**, **GetRequestStream**, **BeginGetRequestStream**, or **EndGetRequestStream** will throw a <xref:System.Net.WebException> with the <xref:System.Net.WebException.Status%2A> property set to <xref:System.Net.WebExceptionStatus>.</span></span>  
  
## <a name="begingetrequeststream-and-endgetrequeststream-methods"></a><span data-ttu-id="47903-162">Méthodes BeginGetRequestStream et EndGetRequestStream</span><span class="sxs-lookup"><span data-stu-id="47903-162">BeginGetRequestStream and EndGetRequestStream Methods</span></span>  
 <span data-ttu-id="47903-163">La méthode <xref:System.Net.WebRequest.BeginGetRequestStream%2A> démarre une requête asynchrone pour le flux utilisé pour charger des données sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="47903-163">The <xref:System.Net.WebRequest.BeginGetRequestStream%2A> method starts an asynchronous request for the stream that is used to upload data to the server.</span></span> <span data-ttu-id="47903-164">La méthode <xref:System.Net.WebRequest.EndGetRequestStream%2A> termine la requête asynchrone et retourne le flux demandé.</span><span class="sxs-lookup"><span data-stu-id="47903-164">The <xref:System.Net.WebRequest.EndGetRequestStream%2A> method completes the asynchronous request and returns the requested stream.</span></span> <span data-ttu-id="47903-165">Ces méthodes implémentent la méthode **GetRequestStream** à l’aide du modèle asynchrone .NET Framework standard.</span><span class="sxs-lookup"><span data-stu-id="47903-165">These methods implement the **GetRequestStream** method using the standard .NET Framework asynchronous pattern.</span></span>  
  
## <a name="begingetresponse-and-endgetresponse-methods"></a><span data-ttu-id="47903-166">Méthodes BeginGetResponse et EndGetResponse</span><span class="sxs-lookup"><span data-stu-id="47903-166">BeginGetResponse and EndGetResponse Methods</span></span>  
 <span data-ttu-id="47903-167">La méthode <xref:System.Net.WebRequest.BeginGetResponse%2A> démarre une requête asynchrone à un serveur.</span><span class="sxs-lookup"><span data-stu-id="47903-167">The <xref:System.Net.WebRequest.BeginGetResponse%2A> method starts an asynchronous request to a server.</span></span> <span data-ttu-id="47903-168">La méthode <xref:System.Net.WebRequest.EndGetResponse%2A> termine la requête asynchrone et retourne la réponse demandée.</span><span class="sxs-lookup"><span data-stu-id="47903-168">The <xref:System.Net.WebRequest.EndGetResponse%2A> method completes the asynchronous request and returns the requested response.</span></span> <span data-ttu-id="47903-169">Ces méthodes implémentent la méthode **GetResponse** à l’aide du modèle asynchrone .NET Framework standard.</span><span class="sxs-lookup"><span data-stu-id="47903-169">These methods implement the **GetResponse** method using the standard .NET Framework asynchronous pattern.</span></span>  
  
## <a name="getrequeststream-method"></a><span data-ttu-id="47903-170">Méthode GetRequestStream</span><span class="sxs-lookup"><span data-stu-id="47903-170">GetRequestStream Method</span></span>  
 <span data-ttu-id="47903-171">La méthode <xref:System.Net.WebRequest.GetRequestStream%2A> retourne un flux utilisé pour écrire des données sur le serveur demandé.</span><span class="sxs-lookup"><span data-stu-id="47903-171">The <xref:System.Net.WebRequest.GetRequestStream%2A> method returns a stream that is used to write data to the requested server.</span></span> <span data-ttu-id="47903-172">Le flux retourné doit être un flux en écriture seule qui n’effectue pas de recherche ; il doit s’agir d’un flux de données unidirectionnel qui est écrit sur le serveur.</span><span class="sxs-lookup"><span data-stu-id="47903-172">The stream returned should be a write-only stream that does not seek; it is intended as a one-way stream of data that is written to the server.</span></span> <span data-ttu-id="47903-173">Le flux retourne la valeur false pour les propriétés <xref:System.IO.Stream.CanRead%2A> et <xref:System.IO.Stream.CanSeek%2A>, et la valeur true pour la propriété <xref:System.IO.Stream.CanWrite%2A>.</span><span class="sxs-lookup"><span data-stu-id="47903-173">The stream returns false for the <xref:System.IO.Stream.CanRead%2A> and <xref:System.IO.Stream.CanSeek%2A> properties and true for the <xref:System.IO.Stream.CanWrite%2A> property.</span></span>  
  
 <span data-ttu-id="47903-174">La méthode **GetRequestStream** ouvre généralement une connexion au serveur et, avant de retourner le flux, envoie des informations d’en-tête qui indiquent que des données sont envoyées au serveur.</span><span class="sxs-lookup"><span data-stu-id="47903-174">The **GetRequestStream** method typically opens a connection to the server and, before returning the stream, sends header information that indicates that data is being sent to the server.</span></span> <span data-ttu-id="47903-175">Étant donné que **GetRequestStream** démarre la requête, la définition de propriétés **Header** ou de la propriété **ContentLength** n’est généralement pas autorisée après avoir appelé **GetRequestStream**.</span><span class="sxs-lookup"><span data-stu-id="47903-175">Because **GetRequestStream** begins the request, setting any **Header** properties or the **ContentLength** property is typically not allowed after calling **GetRequestStream**.</span></span>  
  
## <a name="getresponse-method"></a><span data-ttu-id="47903-176">Méthode GetResponse</span><span class="sxs-lookup"><span data-stu-id="47903-176">GetResponse Method</span></span>  
 <span data-ttu-id="47903-177">La méthode <xref:System.Net.WebRequest.GetResponse%2A> retourne un descendant propre au protocole de la classe <xref:System.Net.WebResponse> qui représente la réponse du serveur.</span><span class="sxs-lookup"><span data-stu-id="47903-177">The <xref:System.Net.WebRequest.GetResponse%2A> method returns a protocol-specific descendant of the <xref:System.Net.WebResponse> class that represents the response from the server.</span></span> <span data-ttu-id="47903-178">À moins que la requête ait déjà été initiée par la méthode **GetRequestStream**, la méthode **GetResponse** crée une connexion à la ressource identifiée par **RequestUri**, envoie des informations d’en-tête indiquant le type de requête effectuée, puis reçoit la réponse de la ressource.</span><span class="sxs-lookup"><span data-stu-id="47903-178">Unless the request has already been initiated by the **GetRequestStream** method, the **GetResponse** method creates a connection to the resource identified by **RequestUri**, sends header information indicating the type of request being made, and then receives the response from the resource.</span></span>  
  
 <span data-ttu-id="47903-179">Une fois la méthode **GetResponse** appelée, toutes les propriétés doivent être considérées en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="47903-179">Once the **GetResponse** method is called, all properties should be considered read-only.</span></span> <span data-ttu-id="47903-180">Les instances de **WebRequest** sont destinées à un usage unique ; si vous souhaitez effectuer une autre requête, vous devez créer un nouveau **WebRequest**.</span><span class="sxs-lookup"><span data-stu-id="47903-180">**WebRequest** instances are intended for one-time use; if you want to make another request, you should create a new **WebRequest**.</span></span>  
  
 <span data-ttu-id="47903-181">La méthode **GetResponse** est responsable de la création d’un descendant **WebResponse** approprié pour contenir la réponse entrante.</span><span class="sxs-lookup"><span data-stu-id="47903-181">The **GetResponse** method is responsible for creating an appropriate **WebResponse** descendant to contain the incoming response.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="47903-182">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="47903-182">See Also</span></span>  
 <xref:System.Net.WebRequest>  
 <xref:System.Net.HttpWebRequest>  
 <xref:System.Net.FileWebRequest>  
 [<span data-ttu-id="47903-183">Programmation de protocoles enfichables</span><span class="sxs-lookup"><span data-stu-id="47903-183">Programming Pluggable Protocols</span></span>](../../../docs/framework/network-programming/programming-pluggable-protocols.md)  
 [<span data-ttu-id="47903-184">Dérivation à partir de WebResponse</span><span class="sxs-lookup"><span data-stu-id="47903-184">Deriving from WebResponse</span></span>](../../../docs/framework/network-programming/deriving-from-webresponse.md)
