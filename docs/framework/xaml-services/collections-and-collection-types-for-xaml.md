---
title: Collections et types de collections pour XAML
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 58f8e7c6-9a41-4f25-8551-c042f1315baa
caps.latest.revision: "2"
author: wadepickett
ms.author: wpickett
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: b67fec476c95d82b769494d53e50550cad0c719b
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/22/2017
---
# <a name="collections-and-collection-types-for-xaml"></a><span data-ttu-id="16a68-102">Collections et types de collections pour XAML</span><span class="sxs-lookup"><span data-stu-id="16a68-102">Collections and Collection Types for XAML</span></span>
<span data-ttu-id="16a68-103">Cette rubrique décrit comment définir les propriétés des types qui sont destinés à prendre en charge une collection et pour prendre en charge la syntaxe XAML pour l’instanciation des éléments de collection en tant qu’éléments enfants d’un élément de propriété ou un élément d’objet parent.</span><span class="sxs-lookup"><span data-stu-id="16a68-103">This topic describes how to define properties of types that are intended to support a collection, and to support the XAML syntax for instantiating collection items as element children of a parent object element or property element.</span></span>  
  
## <a name="xaml-collection-concepts"></a><span data-ttu-id="16a68-104">Concepts de Collection XAML</span><span class="sxs-lookup"><span data-stu-id="16a68-104">XAML Collection Concepts</span></span>  
 <span data-ttu-id="16a68-105">Point de vue conceptuel, une relation en XAML dans lequel il existe plusieurs des éléments enfants de l’étendue d’un élément d’objet XAML ou élément de propriété XAML doit être implémentée comme une collection.</span><span class="sxs-lookup"><span data-stu-id="16a68-105">Conceptually, any relationship in XAML where there are multiple child items within the scope of a XAML object element or XAML property element must be implemented as a collection.</span></span> <span data-ttu-id="16a68-106">Cette collection doit être associée à une propriété XAML particulière du type XAML qui est le parent de cette relation.</span><span class="sxs-lookup"><span data-stu-id="16a68-106">That collection must be associated with a particular XAML property of the XAML type that is the parent in that relationship.</span></span> <span data-ttu-id="16a68-107">La propriété doit être une collection, car un processeur XAML attend assigner chaque élément dans le balisage pour un élément qui vient d’être ajouté de la propriété de collection de stockage.</span><span class="sxs-lookup"><span data-stu-id="16a68-107">The property must be a collection because a XAML processor expects to assign each item in markup to be a newly added item of the backing collection property.</span></span>  
  
 <span data-ttu-id="16a68-108">Au niveau du langage XAML, spécifications exactes de prise en charge de la collection n’ont pas été complètement définies.</span><span class="sxs-lookup"><span data-stu-id="16a68-108">At the XAML language level, the exact requirements of collection support are not fully defined.</span></span> <span data-ttu-id="16a68-109">Le concept qu’une collection peut être une liste ou un dictionnaire (mais pas les deux) est défini au niveau du langage XAML, mais les types de stockage représentent deux listes ou des dictionnaires n’est pas définie par le langage XAML.</span><span class="sxs-lookup"><span data-stu-id="16a68-109">The concept that a collection can be either a list or a dictionary(but not both) is defined at the XAML language level, but which backing types represent either lists or dictionaries is not defined by the XAML language.</span></span>  
  
 <span data-ttu-id="16a68-110">Dans les Services XAML .NET Framework, le concept de prise en charge de la collection XAML est plus clairement défini en termes de types de stockage de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="16a68-110">In .NET Framework XAML Services, the concept of XAML collection support is more clearly defined in terms of .NET Framework backing types.</span></span> <span data-ttu-id="16a68-111">Plus précisément, la prise en charge XAML pour les collections est basée sur plusieurs concepts du .NET Framework et des API qui est utilisés pour les listes et les dictionnaires de programmation générale de .NET Framework.</span><span class="sxs-lookup"><span data-stu-id="16a68-111">Specifically, the XAML support for collections is based on several .NET Framework concepts and APIs that are used for lists and dictionaries in general .NET Framework programming.</span></span>  
  
1.  <span data-ttu-id="16a68-112">Le <xref:System.Collections.IList> interface indique une collection de listes.</span><span class="sxs-lookup"><span data-stu-id="16a68-112">The <xref:System.Collections.IList> interface indicates a list collection.</span></span>  
  
2.  <span data-ttu-id="16a68-113">Le <xref:System.Collections.IDictionary> interface indique une collection dicionary.</span><span class="sxs-lookup"><span data-stu-id="16a68-113">The <xref:System.Collections.IDictionary> interface indicates a dicionary collection.</span></span>  
  
3.  <span data-ttu-id="16a68-114"><xref:System.Array>représente un tableau et un tableau prend en charge <xref:System.Collections.IList> méthodes.</span><span class="sxs-lookup"><span data-stu-id="16a68-114"><xref:System.Array> represents an array, and an array supports <xref:System.Collections.IList> methods.</span></span>  
  
 <span data-ttu-id="16a68-115">Dans chacun de ces concepts de la collection, un processeur XAML des Services XAML .NET Framework s’attend à appeler le `Add` méthode sur une instance spécifique de la collection du type de propriété.</span><span class="sxs-lookup"><span data-stu-id="16a68-115">In each of these collection concepts, a .NET Framework XAML Services XAML processor expects to call the `Add` method on a specific instance of the collection property's type.</span></span> <span data-ttu-id="16a68-116">Ou bien, dans un scénario de sérialisation, un processeur XAML produit des instances de type XAML distinctes pour chaque élément trouvé dans la liste, un dictionnaire ou un tableau basé sur un concept spécifique de chaque collection de « Éléments ».</span><span class="sxs-lookup"><span data-stu-id="16a68-116">Or, in a serialization scenario, a XAML processor produces discrete XAML-type instances for each item found in the list, dictionary or array based on each collection's specific concept of "Items".</span></span> <span data-ttu-id="16a68-117">Il s’agit : <xref:System.Collections.IList.Item%2A>; <xref:System.Collections.IDictionary.Item%2A>; explicites <xref:System.Array.System%23Collections%23IList%23Item%2A> pour <xref:System.Array>.</span><span class="sxs-lookup"><span data-stu-id="16a68-117">These are : <xref:System.Collections.IList.Item%2A>; <xref:System.Collections.IDictionary.Item%2A>; the explicit <xref:System.Array.System%23Collections%23IList%23Item%2A> for <xref:System.Array>.</span></span>  
  
## <a name="generic-collections"></a><span data-ttu-id="16a68-118">Collections génériques</span><span class="sxs-lookup"><span data-stu-id="16a68-118">Generic Collections</span></span>  
 <span data-ttu-id="16a68-119">Collections génériques peuvent être utiles pour la programmation .NET Framework généraux et peuvent également être utilisées pour les propriétés de collection XAML.</span><span class="sxs-lookup"><span data-stu-id="16a68-119">Generic collections can be useful for general .NET Framework programming, and can also be used for XAML collection properties.</span></span> <span data-ttu-id="16a68-120">Toutefois, le type générique des interfaces <xref:System.Collections.Generic.IList%601> et <xref:System.Collections.Generic.IDictionary%602> ne sont pas identifiées par les processeurs XAML des Services XAML .NET Framework comme étant équivalent à non générique <xref:System.Collections.IList> ou <xref:System.Collections.IDictionary>.</span><span class="sxs-lookup"><span data-stu-id="16a68-120">However, the generic interfaces <xref:System.Collections.Generic.IList%601> and <xref:System.Collections.Generic.IDictionary%602> are not identified by .NET Framework XAML Services XAML processors as being equivalent to the non-generic <xref:System.Collections.IList> or <xref:System.Collections.IDictionary>.</span></span> <span data-ttu-id="16a68-121">Au lieu de l’implémentation des interfaces, une approche recommandée pour les types de propriété de collection générique est dériver les classes <xref:System.Collections.Generic.List%601> ou <xref:System.Collections.Generic.Dictionary%602>.</span><span class="sxs-lookup"><span data-stu-id="16a68-121">Rather than implementing the interfaces, a recommended approach for generic collection property types is to derive from the classes <xref:System.Collections.Generic.List%601> or <xref:System.Collections.Generic.Dictionary%602>.</span></span> <span data-ttu-id="16a68-122">Ces classes implémentent les interfaces non génériques et donc incluent la prise en charge attendue pour les collections XAML dans l’implémentation de base.</span><span class="sxs-lookup"><span data-stu-id="16a68-122">These classes implement the non-generic interfaces and thus include the expected support for XAML collections in the base implementation.</span></span>  
  
## <a name="read-only-collections-and-initialization-logic"></a><span data-ttu-id="16a68-123">Collections en lecture seule et la logique d’initialisation</span><span class="sxs-lookup"><span data-stu-id="16a68-123">Read-Only Collections and Initialization Logic</span></span>  
 <span data-ttu-id="16a68-124">Dans la programmation .NET Framework, il est courant de conception pour effectuer n’importe quelle propriété qui conserve une valeur d’une collection sous la forme d’une collection en lecture seule.</span><span class="sxs-lookup"><span data-stu-id="16a68-124">In .NET Framework programming, it is a common design pattern to make any property that holds a value of a collection as a read-only collection.</span></span> <span data-ttu-id="16a68-125">Ce modèle permet à l’instance qui possède la propriété de collection afin de mieux contrôler ce qui se passe à la collection...</span><span class="sxs-lookup"><span data-stu-id="16a68-125">This pattern permits the instance that owns the collection property to better control what happens to the collection..</span></span> <span data-ttu-id="16a68-126">Plus précisément, le modèle empêche le remplacement accidentel de l’ensemble existant en définissant la propriété.</span><span class="sxs-lookup"><span data-stu-id="16a68-126">Specifically, the pattern prevents accidental replacement of the entire pre-existing collection by setting the property.</span></span> <span data-ttu-id="16a68-127">Dans ce modèle, l’accès à la collection par les appelants doivent plutôt être effectuées en appelant des méthodes ou propriétés prises en charge par le type de collection et/ou les interfaces de collection pertinentes telles que <xref:System.Collections.IList>.</span><span class="sxs-lookup"><span data-stu-id="16a68-127">In this pattern, any access to the collection by callers should instead be made by calling methods or properties as supported by the collection type and/or the relevant collection interfaces such as <xref:System.Collections.IList>.</span></span>  
  
 <span data-ttu-id="16a68-128">À l’aide de ce modèle implique que n’importe quelle classe qui expose une propriété de collection en lecture seule doit d’abord initialiser cette propriété pour stocker une collection vide.</span><span class="sxs-lookup"><span data-stu-id="16a68-128">Using this pattern implies that any class that exposes a read-only collection property must first initialize that property to hold an empty collection.</span></span> <span data-ttu-id="16a68-129">En règle générale, l’initialisation est exécutée en tant que partie du comportement de construction de la classe.</span><span class="sxs-lookup"><span data-stu-id="16a68-129">Typically the initialization is performed as part of the construction behavior for the class.</span></span> <span data-ttu-id="16a68-130">Pour être utile pour XAML, il est important que cette logique est toujours référencée par le constructeur par défaut, car XAML appelle généralement le constructeur par défaut avant le traitement des propriétés (propriétés de la collection ou autre).</span><span class="sxs-lookup"><span data-stu-id="16a68-130">To be useful for XAML, it is important that such logic is always referenced by the default constructor, because XAML generally calls the default constructor prior to processing the properties (collection properties or otherwise).</span></span>  
  
## <a name="xaml-type-system-support-and-collections"></a><span data-ttu-id="16a68-131">Collections et la prise en charge de système de Type XAML</span><span class="sxs-lookup"><span data-stu-id="16a68-131">XAML Type System Support and Collections</span></span>  
 <span data-ttu-id="16a68-132">Au-delà des mécanismes de base de l’analyse XAML et de remplissage ou de sérialisation des propriétés de la collection, le système de type XAML tel qu’implémenté dans les Services XAML .NET Framework inclut plusieurs fonctionnalités de conception qui se rapportent à des collections dans XAML.</span><span class="sxs-lookup"><span data-stu-id="16a68-132">Beyond the basic mechanics of parsing XAML and populating or serializing collection properties, the XAML type system as implemented in .NET Framework XAML Services includes several design features that pertain to collections in XAML.</span></span>  
  
1.  <span data-ttu-id="16a68-133"><xref:System.Xaml.XamlType.IsCollection%2A>Retourne la valeur true si le type XAML est sauvegardé par un type qui fournit la prise en charge de la collection XAML.</span><span class="sxs-lookup"><span data-stu-id="16a68-133"><xref:System.Xaml.XamlType.IsCollection%2A> returns true if the XAML type is backed by a type that provides XAML collection support.</span></span>  
  
2.  <span data-ttu-id="16a68-134"><xref:System.Xaml.XamlType.IsDictionary%2A>et <xref:System.Xaml.XamlType.IsArray%2A> peut identifier plus précisément quel mode de collecte prend en charge de type XAML.</span><span class="sxs-lookup"><span data-stu-id="16a68-134"><xref:System.Xaml.XamlType.IsDictionary%2A> and <xref:System.Xaml.XamlType.IsArray%2A> can further identify which collection mode the XAML type supports.</span></span> <span data-ttu-id="16a68-135">Pour XAML personnalisé processeurs qui sont basées sur les Services XAML .NET Framework et le code XAML système de type, mais pas basé sur <xref:System.Xaml.XamlWriter> implémentations, le fait de savoir quel mode de collecte est utilisé peut être nécessaire afin de déterminer la méthode à appeler pour traitement de la collection.</span><span class="sxs-lookup"><span data-stu-id="16a68-135">For custom XAML processors that are based on .NET Framework XAML Services and the XAML type system but not based on existing <xref:System.Xaml.XamlWriter> implementations, knowing which collection mode is used might be necessary in order to know which method to invoke for collection processing.</span></span>  
  
3.  <span data-ttu-id="16a68-136">Chacune des valeurs de propriété précédentes sont potentiellement plus influencées par les substitutions de <xref:System.Xaml.XamlType.LookupCollectionKind%2A> sur un type XAML.</span><span class="sxs-lookup"><span data-stu-id="16a68-136">Each of the previous property values are potentially influenced by overrides of <xref:System.Xaml.XamlType.LookupCollectionKind%2A> on a XAML type.</span></span>
