---
title: "États des objets et suivi des modifications"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-ado
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 7a808b00-9c3c-479a-aa94-717280fefd71
caps.latest.revision: "2"
author: douglaslMS
ms.author: douglasl
manager: craigg
ms.workload: dotnet
ms.openlocfilehash: f7eb1a8afe87caece18432c66a8d8a268ce9fbd2
ms.sourcegitcommit: ed26cfef4e18f6d93ab822d8c29f902cff3519d1
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 01/17/2018
---
# <a name="object-states-and-change-tracking"></a><span data-ttu-id="a4c58-102">États des objets et suivi des modifications</span><span class="sxs-lookup"><span data-stu-id="a4c58-102">Object States and Change-Tracking</span></span>
[!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="a4c58-103">objets toujours participent à certaines *état*.</span><span class="sxs-lookup"><span data-stu-id="a4c58-103"> objects always participate in some *state*.</span></span> <span data-ttu-id="a4c58-104">Par exemple, lorsque [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] crée un objet, l'état de l'objet est `Unchanged`.</span><span class="sxs-lookup"><span data-stu-id="a4c58-104">For example, when [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] creates a new object, the object is in `Unchanged` state.</span></span> <span data-ttu-id="a4c58-105">Vous devez créez un nouvel objet est inconnu pour le <xref:System.Data.Linq.DataContext> et se trouve dans `Untracked` état.</span><span class="sxs-lookup"><span data-stu-id="a4c58-105">A new object that you yourself create is unknown to the <xref:System.Data.Linq.DataContext> and is in `Untracked` state.</span></span> <span data-ttu-id="a4c58-106">Après l'exécution réussie de <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, l'état de tous les objets connus dans [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] est `Unchanged`.</span><span class="sxs-lookup"><span data-stu-id="a4c58-106">Following successful execution of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, all objects known to [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] are in `Unchanged` state.</span></span> <span data-ttu-id="a4c58-107">La seule exception est représentée par les objets qui ont été supprimés de la base de données, dont l'état est `Deleted`, et qui sont inutilisables dans cette instance <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-107">(The single exception is represented by those that have been successfully deleted from the database, which are in `Deleted` state and unusable in that <xref:System.Data.Linq.DataContext> instance.)</span></span>  
  
## <a name="object-states"></a><span data-ttu-id="a4c58-108">États des objets</span><span class="sxs-lookup"><span data-stu-id="a4c58-108">Object States</span></span>  
 <span data-ttu-id="a4c58-109">Le tableau suivant répertorie les états possibles pour les objets [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a4c58-109">The following table lists the possible states for [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] objects.</span></span>  
  
|<span data-ttu-id="a4c58-110">État</span><span class="sxs-lookup"><span data-stu-id="a4c58-110">State</span></span>|<span data-ttu-id="a4c58-111">Description</span><span class="sxs-lookup"><span data-stu-id="a4c58-111">Description</span></span>|  
|-----------|-----------------|  
|`Untracked`|<span data-ttu-id="a4c58-112">Objet non suivi par [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span><span class="sxs-lookup"><span data-stu-id="a4c58-112">An object not tracked by [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)].</span></span> <span data-ttu-id="a4c58-113">Exemples :</span><span class="sxs-lookup"><span data-stu-id="a4c58-113">Examples include the following:</span></span><br /><br /> <span data-ttu-id="a4c58-114">-Un objet non interrogé dans actuel <xref:System.Data.Linq.DataContext> (par exemple, un objet nouvellement créé).</span><span class="sxs-lookup"><span data-stu-id="a4c58-114">-   An object not queried through the current <xref:System.Data.Linq.DataContext> (such as a newly created object).</span></span><br /><span data-ttu-id="a4c58-115">: Objet créé par désérialisation</span><span class="sxs-lookup"><span data-stu-id="a4c58-115">-   An object created through deserialization</span></span><br /><span data-ttu-id="a4c58-116">-Objet interrogé par un autre <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-116">-   An object queried through a different <xref:System.Data.Linq.DataContext>.</span></span>|  
|`Unchanged`|<span data-ttu-id="a4c58-117">Objet récupéré en utilisant le <xref:System.Data.Linq.DataContext> actuel et dont aucune modification n'est connue depuis sa création.</span><span class="sxs-lookup"><span data-stu-id="a4c58-117">An object retrieved by using the current <xref:System.Data.Linq.DataContext> and not known to have been modified since it was created.</span></span>|  
|`PossiblyModified`|<span data-ttu-id="a4c58-118">Un objet qui est *jointe* à un <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-118">An object which is *attached* to a <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="a4c58-119">Pour plus d’informations, consultez [récupération des données et opérations CUD dans les Applications multicouches (LINQ to SQL)](../../../../../../docs/framework/data/adonet/sql/linq/data-retrieval-and-cud-operations-in-n-tier-applications.md).</span><span class="sxs-lookup"><span data-stu-id="a4c58-119">For more information, see [Data Retrieval and CUD Operations in N-Tier Applications (LINQ to SQL)](../../../../../../docs/framework/data/adonet/sql/linq/data-retrieval-and-cud-operations-in-n-tier-applications.md).</span></span>|  
|`ToBeInserted`|<span data-ttu-id="a4c58-120">Objet qui n'est pas récupéré en utilisant le <xref:System.Data.Linq.DataContext> actuel.</span><span class="sxs-lookup"><span data-stu-id="a4c58-120">An object not retrieved by using the current <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="a4c58-121">Cela entraîne un `INSERT` dans la base de données pendant <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-121">This causes a database `INSERT` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`ToBeUpdated`|<span data-ttu-id="a4c58-122">Objet dont la modification est connue depuis sa récupération.</span><span class="sxs-lookup"><span data-stu-id="a4c58-122">An object known to have been modified since it was retrieved.</span></span> <span data-ttu-id="a4c58-123">Cela entraîne un `UPDATE` dans la base de données pendant <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-123">This causes a database `UPDATE` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`ToBeDeleted`|<span data-ttu-id="a4c58-124">Objet marqué pour être supprimé, ce qui entraîne une `DELETE` de la base de données pendant <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-124">An object marked for deletion, causing a database `DELETE` during <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span>|  
|`Deleted`|<span data-ttu-id="a4c58-125">Objet supprimé dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="a4c58-125">An object that has been deleted in the database.</span></span> <span data-ttu-id="a4c58-126">Cet état est définitif et n'autorise pas de transitions supplémentaires.</span><span class="sxs-lookup"><span data-stu-id="a4c58-126">This state is final and does not allow for additional transitions.</span></span>|  
  
## <a name="inserting-objects"></a><span data-ttu-id="a4c58-127">Insertion d'objets</span><span class="sxs-lookup"><span data-stu-id="a4c58-127">Inserting Objects</span></span>  
 <span data-ttu-id="a4c58-128">Vous pouvez demander explicitement des `Inserts` à l'aide de <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-128">You can explicitly request `Inserts` by using <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>.</span></span> <span data-ttu-id="a4c58-129">Vous pouvez également [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] peut déduire `Inserts` en recherchant des objets connectés à un des objets connus qui doivent être mis à jour.</span><span class="sxs-lookup"><span data-stu-id="a4c58-129">Alternatively, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] can infer `Inserts` by finding objects connected to one of the known objects that must be updated.</span></span> <span data-ttu-id="a4c58-130">Par exemple, si vous ajoutez un `Untracked` de l’objet à un <xref:System.Data.Linq.EntitySet%601> ou définir un <xref:System.Data.Linq.EntityRef%601> à un `Untracked` de l’objet, vous effectuez le `Untracked` accessible par le biais d’objets suivis dans le graphique d’objet.</span><span class="sxs-lookup"><span data-stu-id="a4c58-130">For example, if you add an `Untracked` object to an <xref:System.Data.Linq.EntitySet%601> or set an <xref:System.Data.Linq.EntityRef%601> to an `Untracked` object, you make the `Untracked` object reachable by way of tracked objects in the graph.</span></span> <span data-ttu-id="a4c58-131">Lors du traitement de <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] parcourt les objets suivis et détecte les objets persistants accessibles qui ne sont pas suivies.</span><span class="sxs-lookup"><span data-stu-id="a4c58-131">While processing <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] traverses the tracked objects and discovers any reachable persistent objects that are not tracked.</span></span> <span data-ttu-id="a4c58-132">Ces objets peuvent être insérés dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="a4c58-132">Such objects are candidates for insertion into the database.</span></span>  
  
 <span data-ttu-id="a4c58-133">Pour les classes dans une hiérarchie d’héritage, <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>(`o`) définit également la valeur du membre désigné comme le *discriminateur* pour correspondre au type de l’objet `o`.</span><span class="sxs-lookup"><span data-stu-id="a4c58-133">For classes in an inheritance hierarchy, <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>(`o`) also sets the value of the member designated as the *discriminator* to match the type of the object `o`.</span></span> <span data-ttu-id="a4c58-134">La valeur du discriminateur est par conséquent substituée par la valeur par défaut si un type correspond à la valeur du discriminateur par défaut.</span><span class="sxs-lookup"><span data-stu-id="a4c58-134">In the case of a type matching the default discriminator value, this action causes the discriminator value to be overwritten with the default value.</span></span> <span data-ttu-id="a4c58-135">Pour plus d’informations, consultez [prise en charge l’héritage](../../../../../../docs/framework/data/adonet/sql/linq/inheritance-support.md).</span><span class="sxs-lookup"><span data-stu-id="a4c58-135">For more information, see [Inheritance Support](../../../../../../docs/framework/data/adonet/sql/linq/inheritance-support.md).</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="a4c58-136">Un objet ajouté à un `Table` n'est pas dans le cache d'identité.</span><span class="sxs-lookup"><span data-stu-id="a4c58-136">An object added to a `Table` is not in the identity cache.</span></span> <span data-ttu-id="a4c58-137">Le cache d'identité reflète uniquement ce qui est récupéré de la base de données.</span><span class="sxs-lookup"><span data-stu-id="a4c58-137">The identity cache reflects only what is retrieved from the database.</span></span> <span data-ttu-id="a4c58-138">Après un appel à <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>, l'entité ajoutée n'apparaît pas dans les requêtes sur la base de données tant que <xref:System.Data.Linq.DataContext.SubmitChanges%2A> ne s'est pas terminé avec succès.</span><span class="sxs-lookup"><span data-stu-id="a4c58-138">After a call to <xref:System.Data.Linq.Table%601.InsertOnSubmit%2A>, the added entity does not appear in queries against the database until <xref:System.Data.Linq.DataContext.SubmitChanges%2A> is successfully completed.</span></span>  
  
## <a name="deleting-objects"></a><span data-ttu-id="a4c58-139">Suppression d'objets</span><span class="sxs-lookup"><span data-stu-id="a4c58-139">Deleting Objects</span></span>  
 <span data-ttu-id="a4c58-140">Vous pouvez marquer un objet suivi `o` pour le supprimer en appelant <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> (o) sur le type <xref:System.Data.Linq.Table%601> approprié.</span><span class="sxs-lookup"><span data-stu-id="a4c58-140">You mark a tracked object `o` for deletion by calling <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>(o) on the appropriate <xref:System.Data.Linq.Table%601>.</span></span> [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="a4c58-141">considère la suppression d’un objet à partir d’un <xref:System.Data.Linq.EntitySet%601> comme une mise à jour opération et la valeur de clé étrangère correspondante est définie avec la valeur null.</span><span class="sxs-lookup"><span data-stu-id="a4c58-141"> considers the removal of an object from an <xref:System.Data.Linq.EntitySet%601> as an update operation, and the corresponding foreign key value is set to null.</span></span> <span data-ttu-id="a4c58-142">La cible de l'opération (`o`) n'est pas supprimée de sa table.</span><span class="sxs-lookup"><span data-stu-id="a4c58-142">The target of the operation (`o`) is not deleted from its table.</span></span> <span data-ttu-id="a4c58-143">Par exemple, `cust.Orders.DeleteOnSubmit(ord)` indique une mise à jour où la relation entre `cust` et `ord` est rompue en affectant à la clé étrangère `ord.CustomerID` la valeur null.</span><span class="sxs-lookup"><span data-stu-id="a4c58-143">For example, `cust.Orders.DeleteOnSubmit(ord)` indicates an update where the relationship between `cust` and `ord` is severed by setting the foreign key `ord.CustomerID` to null.</span></span> <span data-ttu-id="a4c58-144">Cela n'entraîne pas la suppression de la ligne qui correspond à `ord`.</span><span class="sxs-lookup"><span data-stu-id="a4c58-144">It does not cause the deletion of the row corresponding to `ord`.</span></span>  
  
 [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)]<span data-ttu-id="a4c58-145">effectue le traitement suivant lorsqu’un objet est supprimé (<xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>) à partir de sa table :</span><span class="sxs-lookup"><span data-stu-id="a4c58-145"> performs the following processing when an object is deleted (<xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>) from its table:</span></span>  
  
-   <span data-ttu-id="a4c58-146">Lorsque <xref:System.Data.Linq.DataContext.SubmitChanges%2A> est appelé, une opération de `DELETE` est effectuée pour cet objet.</span><span class="sxs-lookup"><span data-stu-id="a4c58-146">When <xref:System.Data.Linq.DataContext.SubmitChanges%2A> is called, a `DELETE` operation is performed for that object.</span></span>  
  
-   <span data-ttu-id="a4c58-147">La suppression n'est pas propagée aux objets connexes, qu'ils soient chargés ou non.</span><span class="sxs-lookup"><span data-stu-id="a4c58-147">The removal is not propagated to related objects regardless of whether they are loaded.</span></span> <span data-ttu-id="a4c58-148">Plus précisément, les objets connexes ne sont pas chargés pour mettre à jour la propriété de relation.</span><span class="sxs-lookup"><span data-stu-id="a4c58-148">Specifically, related objects are not loaded for updating the relationship property.</span></span>  
  
-   <span data-ttu-id="a4c58-149">Après l'exécution réussie de <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, l'état des objets est `Deleted`.</span><span class="sxs-lookup"><span data-stu-id="a4c58-149">After successful execution of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, the objects are set to the `Deleted` state.</span></span> <span data-ttu-id="a4c58-150">Par conséquent, vous ne pouvez pas utiliser l'objet ou son `id` dans ce <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-150">As a result, you cannot use the object or its `id` in that <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="a4c58-151">Le cache interne maintenu par une instance <xref:System.Data.Linq.DataContext> n'élimine pas les objets qui sont récupérés ou ajoutés comme nouveaux, même après que les objets ont été supprimés dans la base de données.</span><span class="sxs-lookup"><span data-stu-id="a4c58-151">The internal cache maintained by a <xref:System.Data.Linq.DataContext> instance does not eliminate objects that are retrieved or added as new, even after the objects have been deleted in the database.</span></span>  
  
 <span data-ttu-id="a4c58-152">Vous pouvez appeler <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> uniquement sur un objet suivi par le <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-152">You can call <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> only on an object tracked by the <xref:System.Data.Linq.DataContext>.</span></span> <span data-ttu-id="a4c58-153">Pour un objet `Untracked`, vous devez appeler <xref:System.Data.Linq.Table%601.Attach%2A> avant d'appeler <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-153">For an `Untracked` object, you must call <xref:System.Data.Linq.Table%601.Attach%2A> before you call <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A>.</span></span> <span data-ttu-id="a4c58-154">L'appel à <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> sur un objet `Untracked` lève une exception.</span><span class="sxs-lookup"><span data-stu-id="a4c58-154">Calling <xref:System.Data.Linq.Table%601.DeleteOnSubmit%2A> on an `Untracked` object throws an exception.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="a4c58-155">Suppression d’un objet à partir d’une table indique [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] pour générer une SQL correspondante `DELETE` commande au moment de <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-155">Removing an object from a table tells [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] to generate a corresponding SQL `DELETE` command at the time of <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span> <span data-ttu-id="a4c58-156">Cette action ne supprime pas l'objet du cache ou ne propage pas la suppression aux objets connexes.</span><span class="sxs-lookup"><span data-stu-id="a4c58-156">This action does not remove the object from the cache or propagate the deletion to related objects.</span></span>  
>   
>  <span data-ttu-id="a4c58-157">Pour récupérer l'`id` d'un objet supprimé, utilisez une nouvelle instance <xref:System.Data.Linq.DataContext>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-157">To reclaim the `id` of a deleted object, use a new <xref:System.Data.Linq.DataContext> instance.</span></span> <span data-ttu-id="a4c58-158">Pour nettoyer des objets connexes, vous pouvez utiliser la *suppression en cascade* des fonctionnalités de la base de données, ou bien manuellement supprimer les objets connexes.</span><span class="sxs-lookup"><span data-stu-id="a4c58-158">For cleanup of related objects, you can use the *cascade delete* feature of the database, or else manually delete the related objects.</span></span>  
>   
>  <span data-ttu-id="a4c58-159">Les objets connexes ne doivent pas être supprimés dans un ordre particulier (contrairement aux bases de données).</span><span class="sxs-lookup"><span data-stu-id="a4c58-159">The related objects do not have to be deleted in any special order (unlike in the database).</span></span>  
  
## <a name="updating-objects"></a><span data-ttu-id="a4c58-160">Mise à jour d'objets</span><span class="sxs-lookup"><span data-stu-id="a4c58-160">Updating Objects</span></span>  
 <span data-ttu-id="a4c58-161">Vous pouvez détecter les `Updates` en observant les notifications de modifications.</span><span class="sxs-lookup"><span data-stu-id="a4c58-161">You can detect `Updates` by observing notifications of changes.</span></span> <span data-ttu-id="a4c58-162">Les notifications sont fournies par l'événement <xref:System.ComponentModel.INotifyPropertyChanging.PropertyChanging> dans les accesseurs Set de propriété.</span><span class="sxs-lookup"><span data-stu-id="a4c58-162">Notifications are provided through the <xref:System.ComponentModel.INotifyPropertyChanging.PropertyChanging> event in property setters.</span></span> <span data-ttu-id="a4c58-163">Lorsque [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] est informé de la première modification d'un objet, il crée une copie de l'objet et considère l'objet comme candidat pour générer une instruction `Update`.</span><span class="sxs-lookup"><span data-stu-id="a4c58-163">When [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] is notified of the first change to an object, it creates a copy of the object and considers the object a candidate for generating an `Update` statement.</span></span>  
  
 <span data-ttu-id="a4c58-164">Pour les objets qui n’implémentent pas <xref:System.ComponentModel.INotifyPropertyChanging>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] conserve une copie des valeurs dont les objets lors de leur matérialisation.</span><span class="sxs-lookup"><span data-stu-id="a4c58-164">For objects that do not implement <xref:System.ComponentModel.INotifyPropertyChanging>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] maintains a copy of the values that objects had when they were first materialized.</span></span> <span data-ttu-id="a4c58-165">Lorsque vous appelez <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] compare les valeurs d’origine et actuelle afin de déterminer si l’objet a été modifié.</span><span class="sxs-lookup"><span data-stu-id="a4c58-165">When you call <xref:System.Data.Linq.DataContext.SubmitChanges%2A>, [!INCLUDE[vbtecdlinq](../../../../../../includes/vbtecdlinq-md.md)] compares the current and original values to decide whether the object has been changed.</span></span>  
  
 <span data-ttu-id="a4c58-166">Pour les mises à jour de relations, la référence de l'enfant au parent (autrement dit, la référence qui correspond à la clé étrangère) est considérée comme l'autorité.</span><span class="sxs-lookup"><span data-stu-id="a4c58-166">For updates to relationships, the reference from the child to the parent (that is, the reference corresponding to the foreign key) is considered the authority.</span></span> <span data-ttu-id="a4c58-167">La référence dans le sens inverse (autrement dit, du parent à l'enfant) est facultative.</span><span class="sxs-lookup"><span data-stu-id="a4c58-167">The reference in the reverse direction (that is, from parent to child) is optional.</span></span> <span data-ttu-id="a4c58-168">Les classes de relation (<xref:System.Data.Linq.EntitySet%601> et <xref:System.Data.Linq.EntityRef%601>) garantissent la cohérence des références bidirectionnelles pour les relations de type un-à-plusieurs et un-à-un.</span><span class="sxs-lookup"><span data-stu-id="a4c58-168">Relationship classes (<xref:System.Data.Linq.EntitySet%601> and <xref:System.Data.Linq.EntityRef%601>) guarantee that the bidirectional references are consistent for one-to-many and one-to-one relationships.</span></span> <span data-ttu-id="a4c58-169">Si le modèle objet n'utilise pas <xref:System.Data.Linq.EntitySet%601> ou <xref:System.Data.Linq.EntityRef%601> et si la référence inverse est présente, vous devez respecter la cohérence avec la référence vers l'avant lorsque la relation est mise à jour.</span><span class="sxs-lookup"><span data-stu-id="a4c58-169">If the object model does not use <xref:System.Data.Linq.EntitySet%601> or <xref:System.Data.Linq.EntityRef%601>, and if the reverse reference is present, it is your responsibility to keep it consistent with the forward reference when the relationship is updated.</span></span>  
  
 <span data-ttu-id="a4c58-170">Si vous mettez à jour à la fois la référence requise et la clé étrangère correspondante, vous devez vous assurer de leur correspondance.</span><span class="sxs-lookup"><span data-stu-id="a4c58-170">If you update both the required reference and the corresponding foreign key, you must make sure that they agree.</span></span> <span data-ttu-id="a4c58-171">Une exception <xref:System.InvalidOperationException> est levée si elles ne sont pas toutes les deux synchronisés au moment où vous appelez <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span><span class="sxs-lookup"><span data-stu-id="a4c58-171">An <xref:System.InvalidOperationException> exception is thrown if the two are not synchronized at the time that you call <xref:System.Data.Linq.DataContext.SubmitChanges%2A>.</span></span> <span data-ttu-id="a4c58-172">Bien que les modifications de valeur de clé étrangère soient suffisantes pour affecter une mise à jour de ligne sous-jacente, vous devez modifier la référence pour maintenir la connectivité du graphique d'objet et la cohérence bidirectionnelle des relations.</span><span class="sxs-lookup"><span data-stu-id="a4c58-172">Although foreign key value changes are sufficient for affecting an update of the underlying row, you should change the reference to maintain connectivity of the object graph and bidirectional consistency of relationships.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="a4c58-173">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="a4c58-173">See Also</span></span>  
 [<span data-ttu-id="a4c58-174">Informations générales</span><span class="sxs-lookup"><span data-stu-id="a4c58-174">Background Information</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/background-information.md)  
 [<span data-ttu-id="a4c58-175">Opérations d’insertion, de mise à jour et de suppression</span><span class="sxs-lookup"><span data-stu-id="a4c58-175">Insert, Update, and Delete Operations</span></span>](../../../../../../docs/framework/data/adonet/sql/linq/insert-update-and-delete-operations.md)
