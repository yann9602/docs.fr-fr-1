---
title: "Vue d'ensemble des modèles de données"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- data binding [WPF], templates
- binding data [WPF], templates
- templates [WPF], data
- data templates [WPF]
ms.assetid: 0f4d9f8c-0230-4013-bd7b-e8e7fed01b4a
caps.latest.revision: "25"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 91ab838ec543e2cc17e380ee9ec0d629989a003e
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/21/2017
---
# <a name="data-templating-overview"></a><span data-ttu-id="9731d-102">Vue d'ensemble des modèles de données</span><span class="sxs-lookup"><span data-stu-id="9731d-102">Data Templating Overview</span></span>
<span data-ttu-id="9731d-103">Le modèle de création de modèles de données WPF offre une grande souplesse pour définir la présentation des données.</span><span class="sxs-lookup"><span data-stu-id="9731d-103">The WPF data templating model provides you with great flexibility to define the presentation of your data.</span></span> <span data-ttu-id="9731d-104">Les contrôles WPF possèdent des fonctionnalités intégrées permettant de prendre en charge la personnalisation de la présentation des données.</span><span class="sxs-lookup"><span data-stu-id="9731d-104">WPF controls have built-in functionality to support the customization of data presentation.</span></span> <span data-ttu-id="9731d-105">Cette rubrique montre d’abord comment définir un <xref:System.Windows.DataTemplate> et présente ensuite les autres fonctionnalités de création de modèles de données, telles que la sélection des modèles basés sur une logique personnalisée et la prise en charge pour l’affichage des données hiérarchiques.</span><span class="sxs-lookup"><span data-stu-id="9731d-105">This topic first demonstrates how to define a <xref:System.Windows.DataTemplate> and then introduces other data templating features, such as the selection of templates based on custom logic and the support for the display of hierarchical data.</span></span>  
  
<a name="Prerequisites"></a>   
## <a name="prerequisites"></a><span data-ttu-id="9731d-106">Conditions préalables</span><span class="sxs-lookup"><span data-stu-id="9731d-106">Prerequisites</span></span>  
 <span data-ttu-id="9731d-107">Cette rubrique porte sur les fonctionnalités de création de modèles de données ; elle ne constitue pas une introduction aux concepts de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="9731d-107">This topic focuses on data templating features and is not an introduction of data binding concepts.</span></span> <span data-ttu-id="9731d-108">Pour plus d’informations sur les concepts de base de la liaison de données, consultez la [Vue d’ensemble de la liaison de données](../../../../docs/framework/wpf/data/data-binding-overview.md).</span><span class="sxs-lookup"><span data-stu-id="9731d-108">For information about basic data binding concepts, see the [Data Binding Overview](../../../../docs/framework/wpf/data/data-binding-overview.md).</span></span>  
  
 <span data-ttu-id="9731d-109"><xref:System.Windows.DataTemplate>concerne la présentation des données et est une des nombreuses fonctionnalités fournies par le modèle de conception de styles et modèles WPF.</span><span class="sxs-lookup"><span data-stu-id="9731d-109"><xref:System.Windows.DataTemplate> is about the presentation of data and is one of the many features provided by the WPF styling and templating model.</span></span> <span data-ttu-id="9731d-110">Pour obtenir une introduction sur le modèle styles et modèles WPF, notamment comment utiliser un <xref:System.Windows.Style> pour définir des propriétés sur les contrôles, consultez la [styles et modèles](../../../../docs/framework/wpf/controls/styling-and-templating.md) rubrique.</span><span class="sxs-lookup"><span data-stu-id="9731d-110">For an introduction of the WPF styling and templating model, such as how to use a <xref:System.Windows.Style> to set properties on controls, see the [Styling and Templating](../../../../docs/framework/wpf/controls/styling-and-templating.md) topic.</span></span>  
  
 <span data-ttu-id="9731d-111">En outre, il est important de comprendre `Resources`, qui permettent essentiellement les objets tels que <xref:System.Windows.Style> et <xref:System.Windows.DataTemplate> pour être réutilisables.</span><span class="sxs-lookup"><span data-stu-id="9731d-111">In addition, it is important to understand `Resources`, which are essentially what enable objects such as <xref:System.Windows.Style> and <xref:System.Windows.DataTemplate> to be reusable.</span></span> <span data-ttu-id="9731d-112">Pour plus d’informations sur les ressources, consultez la page [Ressources XAML](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span><span class="sxs-lookup"><span data-stu-id="9731d-112">For more information on resources, see [XAML Resources](../../../../docs/framework/wpf/advanced/xaml-resources.md).</span></span>  
  
<a name="DataTemplating_Basic"></a>   
## <a name="data-templating-basics"></a><span data-ttu-id="9731d-113">Informations de base sur la création de modèles de données</span><span class="sxs-lookup"><span data-stu-id="9731d-113">Data Templating Basics</span></span>  
  
 <span data-ttu-id="9731d-114">Pour illustrer pourquoi <xref:System.Windows.DataTemplate> est important, nous allons étudier un exemple de liaison de données.</span><span class="sxs-lookup"><span data-stu-id="9731d-114">To demonstrate why <xref:System.Windows.DataTemplate> is important, let's walk through a data binding example.</span></span> <span data-ttu-id="9731d-115">Dans cet exemple, nous avons un <xref:System.Windows.Controls.ListBox> qui est lié à une liste de `Task` objets.</span><span class="sxs-lookup"><span data-stu-id="9731d-115">In this example, we have a <xref:System.Windows.Controls.ListBox> that is bound to a list of `Task` objects.</span></span> <span data-ttu-id="9731d-116">Chaque objet `Task` a un `TaskName` (chaîne), une `Description` (chaîne), une `Priority` (entier) et une propriété de type `TaskType`, qui est un `Enum` avec des valeurs `Home` et `Work`.</span><span class="sxs-lookup"><span data-stu-id="9731d-116">Each `Task` object has a `TaskName` (string), a `Description` (string), a `Priority` (int), and a property of type `TaskType`, which is an `Enum` with values `Home` and `Work`.</span></span>  
  
 [!code-xaml[DataTemplatingIntro_snip#Resources](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#resources)]  
[!code-xaml[DataTemplatingIntro_snip#UI1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui1)]  
[!code-xaml[DataTemplatingIntro_snip#UI2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#ui2)]  
  
<a name="without_a_datatemplate"></a>   
### <a name="without-a-datatemplate"></a><span data-ttu-id="9731d-117">Sans DataTemplate</span><span class="sxs-lookup"><span data-stu-id="9731d-117">Without a DataTemplate</span></span>  
 <span data-ttu-id="9731d-118">Sans un <xref:System.Windows.DataTemplate>, notre <xref:System.Windows.Controls.ListBox> actuellement ressemble à ceci :</span><span class="sxs-lookup"><span data-stu-id="9731d-118">Without a <xref:System.Windows.DataTemplate>, our <xref:System.Windows.Controls.ListBox> currently looks like this:</span></span>  
  
 <span data-ttu-id="9731d-119">![Capture d’écran de l’exemple de création de modèles de données](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig1.png "DataTemplatingIntro_fig1")</span><span class="sxs-lookup"><span data-stu-id="9731d-119">![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig1.png "DataTemplatingIntro_fig1")</span></span>  
  
 <span data-ttu-id="9731d-120">Que se passe-t-il qui est sans instruction spécifique, le <xref:System.Windows.Controls.ListBox> appelle par défaut `ToString` lorsque vous tentez d’afficher les objets dans la collection.</span><span class="sxs-lookup"><span data-stu-id="9731d-120">What's happening is that without any specific instructions, the <xref:System.Windows.Controls.ListBox> by default calls `ToString` when trying to display the objects in the collection.</span></span> <span data-ttu-id="9731d-121">Par conséquent, si le `Task` remplacements de l’objet le `ToString` (méthode), puis le <xref:System.Windows.Controls.ListBox> affiche la représentation sous forme de chaîne de chaque objet source dans la collection sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="9731d-121">Therefore, if the `Task` object overrides the `ToString` method, then the <xref:System.Windows.Controls.ListBox> displays the string representation of each source object in the underlying collection.</span></span>  
  
 <span data-ttu-id="9731d-122">Par exemple, si la classe `Task` remplace la méthode `ToString` de cette façon, où `name` correspond au champ de la propriété `TaskName` :</span><span class="sxs-lookup"><span data-stu-id="9731d-122">For example, if the `Task` class overrides the `ToString` method this way, where `name` is the field for the `TaskName` property:</span></span>  
  
 [!code-csharp[DataTemplatingIntro_snip#ToString](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Data.cs#tostring)]
 [!code-vb[DataTemplatingIntro_snip#ToString](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/data.vb#tostring)]  
  
 <span data-ttu-id="9731d-123">Le <xref:System.Windows.Controls.ListBox> présente l’aspect suivant :</span><span class="sxs-lookup"><span data-stu-id="9731d-123">Then the <xref:System.Windows.Controls.ListBox> looks like the following:</span></span>  
  
 <span data-ttu-id="9731d-124">![Capture d’écran de l’exemple de création de modèles de données](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig2.png "DataTemplatingIntro_fig2")</span><span class="sxs-lookup"><span data-stu-id="9731d-124">![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig2.png "DataTemplatingIntro_fig2")</span></span>  
  
 <span data-ttu-id="9731d-125">Toutefois, cet affichage est restrictif et rigide.</span><span class="sxs-lookup"><span data-stu-id="9731d-125">However, that is limiting and inflexible.</span></span> <span data-ttu-id="9731d-126">En outre, si la liaison porte sur des données [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], vous ne pourrez pas remplacer `ToString`.</span><span class="sxs-lookup"><span data-stu-id="9731d-126">Also, if you are binding to [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data, you wouldn't be able to override `ToString`.</span></span>  
  
<a name="defining_simple_datatemplate"></a>   
### <a name="defining-a-simple-datatemplate"></a><span data-ttu-id="9731d-127">Définir un DataTemplate simple</span><span class="sxs-lookup"><span data-stu-id="9731d-127">Defining a Simple DataTemplate</span></span>  
 <span data-ttu-id="9731d-128">La solution consiste à définir un <xref:System.Windows.DataTemplate>.</span><span class="sxs-lookup"><span data-stu-id="9731d-128">The solution is to define a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="9731d-129">Une manière de procéder consiste à définir le <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> propriété de la <xref:System.Windows.Controls.ListBox> à un <xref:System.Windows.DataTemplate>.</span><span class="sxs-lookup"><span data-stu-id="9731d-129">One way to do that is to set the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property of the <xref:System.Windows.Controls.ListBox> to a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="9731d-130">Vous spécifiez dans votre <xref:System.Windows.DataTemplate> devient la structure visuelle de l’objet de données.</span><span class="sxs-lookup"><span data-stu-id="9731d-130">What you specify in your <xref:System.Windows.DataTemplate> becomes the visual structure of your data object.</span></span> <span data-ttu-id="9731d-131">Les éléments suivants <xref:System.Windows.DataTemplate> est relativement simple.</span><span class="sxs-lookup"><span data-stu-id="9731d-131">The following <xref:System.Windows.DataTemplate> is fairly simple.</span></span> <span data-ttu-id="9731d-132">Nous offrons des instructions, chaque élément apparaît sous forme de trois <xref:System.Windows.Controls.TextBlock> éléments au sein d’un <xref:System.Windows.Controls.StackPanel>.</span><span class="sxs-lookup"><span data-stu-id="9731d-132">We are giving instructions that each item appears as three <xref:System.Windows.Controls.TextBlock> elements within a <xref:System.Windows.Controls.StackPanel>.</span></span> <span data-ttu-id="9731d-133">Chaque <xref:System.Windows.Controls.TextBlock> élément est lié à une propriété de la `Task` classe.</span><span class="sxs-lookup"><span data-stu-id="9731d-133">Each <xref:System.Windows.Controls.TextBlock> element is bound to a property of the `Task` class.</span></span>  
  
 [!code-xaml[DataTemplatingIntro_snip#Inline](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#inline)]  
  
 <span data-ttu-id="9731d-134">Les données sous-jacentes des exemples de cette rubrique sont une collection d’objets [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)].</span><span class="sxs-lookup"><span data-stu-id="9731d-134">The underlying data for the examples in this topic is a collection of [!INCLUDE[TLA2#tla_clr](../../../../includes/tla2sharptla-clr-md.md)] objects.</span></span> <span data-ttu-id="9731d-135">si la liaison porte sur des données [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)], les concepts de base sont identiques, mais il y a une légère différence syntaxique.</span><span class="sxs-lookup"><span data-stu-id="9731d-135">If you are binding to [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] data, the fundamental concepts are the same, but there is a slight syntactic difference.</span></span> <span data-ttu-id="9731d-136">Par exemple, au lieu d’avoir `Path=TaskName`, vous devez définir <xref:System.Windows.Data.Binding.XPath%2A> à `@TaskName` (si `TaskName` est un attribut de votre [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] nœud).</span><span class="sxs-lookup"><span data-stu-id="9731d-136">For example, instead of having `Path=TaskName`, you would set <xref:System.Windows.Data.Binding.XPath%2A> to `@TaskName` (if `TaskName` is an attribute of your [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] node).</span></span>  
  
 <span data-ttu-id="9731d-137">Maintenant notre <xref:System.Windows.Controls.ListBox> présente l’aspect suivant :</span><span class="sxs-lookup"><span data-stu-id="9731d-137">Now our <xref:System.Windows.Controls.ListBox> looks like the following:</span></span>  
  
 <span data-ttu-id="9731d-138">![Capture d’écran de l’exemple de création de modèles de données](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig3.png "DataTemplatingIntro_fig3")</span><span class="sxs-lookup"><span data-stu-id="9731d-138">![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig3.png "DataTemplatingIntro_fig3")</span></span>  
  
<a name="defining_datatemplate_as_a_resource"></a>   
### <a name="creating-the-datatemplate-as-a-resource"></a><span data-ttu-id="9731d-139">Créer un DataTemplate comme ressource</span><span class="sxs-lookup"><span data-stu-id="9731d-139">Creating the DataTemplate as a Resource</span></span>  
 <span data-ttu-id="9731d-140">Dans l’exemple ci-dessus, nous avons défini le <xref:System.Windows.DataTemplate> inline.</span><span class="sxs-lookup"><span data-stu-id="9731d-140">In the above example, we defined the <xref:System.Windows.DataTemplate> inline.</span></span> <span data-ttu-id="9731d-141">Il est plus courant de le définir dans la section des ressources afin d’en faire un objet réutilisable, comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="9731d-141">It is more common to define it in the resources section so it can be a reusable object, as in the following example:</span></span>  
  
 [!code-xaml[DataTemplatingIntro_snip#R1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)]  
[!code-xaml[DataTemplatingIntro_snip#AsResource](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#asresource)]  
[!code-xaml[DataTemplatingIntro_snip#R2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)]  
  
 <span data-ttu-id="9731d-142">Vous pouvez à présent utiliser `myTaskTemplate` comme ressource, comme dans l’exemple suivant :</span><span class="sxs-lookup"><span data-stu-id="9731d-142">Now you can use `myTaskTemplate` as a resource, as in the following example:</span></span>  
  
 [!code-xaml[DataTemplatingIntro_snip#MyTaskTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#mytasktemplate)]  
  
 <span data-ttu-id="9731d-143">Étant donné que `myTaskTemplate` est une ressource, vous pouvez maintenant l’utiliser sur d’autres contrôles qui ont une propriété qui prend un <xref:System.Windows.DataTemplate> type.</span><span class="sxs-lookup"><span data-stu-id="9731d-143">Because `myTaskTemplate` is a resource, you can now use it on other controls that have a property that takes a <xref:System.Windows.DataTemplate> type.</span></span> <span data-ttu-id="9731d-144">Comme indiqué ci-dessus, pour <xref:System.Windows.Controls.ItemsControl> objets, tels que les <xref:System.Windows.Controls.ListBox>, il s’agit du <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="9731d-144">As shown above, for <xref:System.Windows.Controls.ItemsControl> objects, such as the <xref:System.Windows.Controls.ListBox>, it is the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> property.</span></span> <span data-ttu-id="9731d-145">Pour <xref:System.Windows.Controls.ContentControl> des objets, il est le <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="9731d-145">For <xref:System.Windows.Controls.ContentControl> objects, it is the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>  
  
<a name="Styling_DataType"></a>   
### <a name="the-datatype-property"></a><span data-ttu-id="9731d-146">La propriété DataType</span><span class="sxs-lookup"><span data-stu-id="9731d-146">The DataType Property</span></span>  
 <span data-ttu-id="9731d-147">Le <xref:System.Windows.DataTemplate> classe a un <xref:System.Windows.DataTemplate.DataType%2A> propriété qui est très similaire à la <xref:System.Windows.Style.TargetType%2A> propriété de la <xref:System.Windows.Style> classe.</span><span class="sxs-lookup"><span data-stu-id="9731d-147">The <xref:System.Windows.DataTemplate> class has a <xref:System.Windows.DataTemplate.DataType%2A> property that is very similar to the <xref:System.Windows.Style.TargetType%2A> property of the <xref:System.Windows.Style> class.</span></span> <span data-ttu-id="9731d-148">Par conséquent, au lieu de spécifier un `x:Key` pour la <xref:System.Windows.DataTemplate> dans l’exemple ci-dessus, vous pouvez procédez comme suit :</span><span class="sxs-lookup"><span data-stu-id="9731d-148">Therefore, instead of specifying an `x:Key` for the <xref:System.Windows.DataTemplate> in the above example, you can do the following:</span></span>  
  
 [!code-xaml[DataTemplatingIntro_snip#DataType](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#datatype)]  
  
 <span data-ttu-id="9731d-149">Cela <xref:System.Windows.DataTemplate> est appliqué automatiquement à tous les `Task` objets.</span><span class="sxs-lookup"><span data-stu-id="9731d-149">This <xref:System.Windows.DataTemplate> gets applied automatically to all `Task` objects.</span></span> <span data-ttu-id="9731d-150">Notez que, dans ce cas, la `x:Key` est définie implicitement.</span><span class="sxs-lookup"><span data-stu-id="9731d-150">Note that in this case the `x:Key` is set implicitly.</span></span> <span data-ttu-id="9731d-151">Par conséquent, si vous affectez <xref:System.Windows.DataTemplate> un `x:Key` valeur, vous substituez implicite `x:Key` et <xref:System.Windows.DataTemplate> ne peuvent pas être appliquées automatiquement.</span><span class="sxs-lookup"><span data-stu-id="9731d-151">Therefore, if you assign this <xref:System.Windows.DataTemplate> an `x:Key` value, you are overriding the implicit `x:Key` and the <xref:System.Windows.DataTemplate> would not be applied automatically.</span></span>  
  
 <span data-ttu-id="9731d-152">Si vous liez un <xref:System.Windows.Controls.ContentControl> à une collection de `Task` objets, la <xref:System.Windows.Controls.ContentControl> n’utilise pas ces <xref:System.Windows.DataTemplate> automatiquement.</span><span class="sxs-lookup"><span data-stu-id="9731d-152">If you are binding a <xref:System.Windows.Controls.ContentControl> to a collection of `Task` objects, the <xref:System.Windows.Controls.ContentControl> does not use the above <xref:System.Windows.DataTemplate> automatically.</span></span> <span data-ttu-id="9731d-153">C’est parce que la liaison sur un <xref:System.Windows.Controls.ContentControl> a besoin de plus d’informations pour déterminer si vous souhaitez lier à une collection entière ou des objets individuels.</span><span class="sxs-lookup"><span data-stu-id="9731d-153">This is because the binding on a <xref:System.Windows.Controls.ContentControl> needs more information to distinguish whether you want to bind to an entire collection or the individual objects.</span></span> <span data-ttu-id="9731d-154">Si votre <xref:System.Windows.Controls.ContentControl> effectue le suivi de la sélection d’un <xref:System.Windows.Controls.ItemsControl> , vous pouvez définir le type le <xref:System.Windows.Data.Binding.Path%2A> propriété de la <xref:System.Windows.Controls.ContentControl> liaison à «`/`» pour indiquer que vous êtes intéressé par l’élément actuel.</span><span class="sxs-lookup"><span data-stu-id="9731d-154">If your <xref:System.Windows.Controls.ContentControl> is tracking the selection of an <xref:System.Windows.Controls.ItemsControl> type, you can set the <xref:System.Windows.Data.Binding.Path%2A> property of the <xref:System.Windows.Controls.ContentControl> binding to "`/`" to indicate that you are interested in the current item.</span></span> <span data-ttu-id="9731d-155">Vous trouverez un exemple sur la page [Effectuer une liaison à une collection et afficher des informations en fonction de la sélection](../../../../docs/framework/wpf/data/how-to-bind-to-a-collection-and-display-information-based-on-selection.md).</span><span class="sxs-lookup"><span data-stu-id="9731d-155">For an example, see [Bind to a Collection and Display Information Based on Selection](../../../../docs/framework/wpf/data/how-to-bind-to-a-collection-and-display-information-based-on-selection.md).</span></span> <span data-ttu-id="9731d-156">Dans le cas contraire, vous devez spécifier le <xref:System.Windows.DataTemplate> explicitement en définissant le <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="9731d-156">Otherwise, you need to specify the <xref:System.Windows.DataTemplate> explicitly by setting the <xref:System.Windows.Controls.ContentControl.ContentTemplate%2A> property.</span></span>  
  
 <span data-ttu-id="9731d-157">Le <xref:System.Windows.DataTemplate.DataType%2A> propriété est particulièrement utile lorsque vous avez un <xref:System.Windows.Data.CompositeCollection> de différents types d’objets de données.</span><span class="sxs-lookup"><span data-stu-id="9731d-157">The <xref:System.Windows.DataTemplate.DataType%2A> property is particularly useful when you have a <xref:System.Windows.Data.CompositeCollection> of different types of data objects.</span></span> <span data-ttu-id="9731d-158">Vous trouverez un exemple sur la page [Implémenter une CompositeCollection](../../../../docs/framework/wpf/data/how-to-implement-a-compositecollection.md).</span><span class="sxs-lookup"><span data-stu-id="9731d-158">For an example, see [Implement a CompositeCollection](../../../../docs/framework/wpf/data/how-to-implement-a-compositecollection.md).</span></span>  
  
<a name="adding_more_to_datatemplate"></a>   
## <a name="adding-more-to-the-datatemplate"></a><span data-ttu-id="9731d-159">Ajouter d’autres informations au DataTemplate</span><span class="sxs-lookup"><span data-stu-id="9731d-159">Adding More to the DataTemplate</span></span>  
 <span data-ttu-id="9731d-160">Actuellement, les données s’affichent avec les informations nécessaires, mais on peut sans problème aller plus loin.</span><span class="sxs-lookup"><span data-stu-id="9731d-160">Currently the data appears with the necessary information, but there's definitely room for improvement.</span></span> <span data-ttu-id="9731d-161">Nous allons améliorer la présentation en ajoutant un <xref:System.Windows.Controls.Border>, un <xref:System.Windows.Controls.Grid>et certains <xref:System.Windows.Controls.TextBlock> les éléments qui décrivent les données qui sont affichées.</span><span class="sxs-lookup"><span data-stu-id="9731d-161">Let's improve on the presentation by adding a <xref:System.Windows.Controls.Border>, a <xref:System.Windows.Controls.Grid>, and some <xref:System.Windows.Controls.TextBlock> elements that describe the data that is being displayed.</span></span>  
  
 [!code-xaml[DataTemplatingIntro#AddingMore](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore)]  
[!code-xaml[DataTemplatingIntro#AddingMore2](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)]  
  
 <span data-ttu-id="9731d-162">La capture d’écran suivante affiche le <xref:System.Windows.Controls.ListBox> avec cette modification <xref:System.Windows.DataTemplate>:</span><span class="sxs-lookup"><span data-stu-id="9731d-162">The following screenshot shows the <xref:System.Windows.Controls.ListBox> with this modified <xref:System.Windows.DataTemplate>:</span></span>  
  
 <span data-ttu-id="9731d-163">![Capture d’écran de l’exemple de création de modèles de données](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig4.png "DataTemplatingIntro_fig4")</span><span class="sxs-lookup"><span data-stu-id="9731d-163">![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig4.png "DataTemplatingIntro_fig4")</span></span>  
  
 <span data-ttu-id="9731d-164">Nous pouvons définir <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> à <xref:System.Windows.HorizontalAlignment.Stretch> sur la <xref:System.Windows.Controls.ListBox> pour vous assurer que la largeur des éléments occupe tout l’espace disponible :</span><span class="sxs-lookup"><span data-stu-id="9731d-164">We can set <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> to <xref:System.Windows.HorizontalAlignment.Stretch> on the <xref:System.Windows.Controls.ListBox> to make sure the width of the items takes up the entire space:</span></span>  
  
 [!code-xaml[DataTemplatingIntro_snip#Stretch](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#stretch)]  
  
 <span data-ttu-id="9731d-165">Avec la <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> propriété <xref:System.Windows.HorizontalAlignment.Stretch>, le <xref:System.Windows.Controls.ListBox> se présente comme suit :</span><span class="sxs-lookup"><span data-stu-id="9731d-165">With the <xref:System.Windows.Controls.Control.HorizontalContentAlignment%2A> property set to <xref:System.Windows.HorizontalAlignment.Stretch>, the <xref:System.Windows.Controls.ListBox> now looks like this:</span></span>  
  
 <span data-ttu-id="9731d-166">![Capture d’écran de l’exemple de création de modèles de données](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig5.png "DataTemplatingIntro_fig5")</span><span class="sxs-lookup"><span data-stu-id="9731d-166">![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig5.png "DataTemplatingIntro_fig5")</span></span>  
  
<a name="DataTrigger_to_Apply_Property_Values"></a>   
### <a name="use-datatriggers-to-apply-property-values"></a><span data-ttu-id="9731d-167">Utiliser DataTrigger pour appliquer des valeurs de propriété</span><span class="sxs-lookup"><span data-stu-id="9731d-167">Use DataTriggers to Apply Property Values</span></span>  
 <span data-ttu-id="9731d-168">La présentation actuelle n’indique pas si une `Task` est une tâche privée ou une tâche professionnelle.</span><span class="sxs-lookup"><span data-stu-id="9731d-168">The current presentation does not tell us whether a `Task` is a home task or an office task.</span></span> <span data-ttu-id="9731d-169">N’oubliez pas que l’objet `Task` a une propriété `TaskType` de type `TaskType`, qui est une énumération avec les valeurs `Home` et `Work`.</span><span class="sxs-lookup"><span data-stu-id="9731d-169">Remember that the `Task` object has a `TaskType` property of type `TaskType`, which is an enumeration with values `Home` and `Work`.</span></span>  
  
 <span data-ttu-id="9731d-170">Dans l’exemple suivant, la <xref:System.Windows.DataTrigger> définit le <xref:System.Windows.Controls.Border.BorderBrush%2A> de l’élément nommé `border` à `Yellow` si le `TaskType` propriété est `TaskType.Home`.</span><span class="sxs-lookup"><span data-stu-id="9731d-170">In the following example, the <xref:System.Windows.DataTrigger> sets the <xref:System.Windows.Controls.Border.BorderBrush%2A> of the element named `border` to `Yellow` if the `TaskType` property is `TaskType.Home`.</span></span>  
  
 [!code-xaml[DataTemplatingIntro#DT](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#dt)]  
[!code-xaml[DataTemplatingIntro#DataTrigger](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#datatrigger)]  
[!code-xaml[DataTemplatingIntro#AddingMore2](../../../../samples/snippets/xaml/VS_Snippets_Wpf/DataTemplatingIntro/xaml/window1.xaml#addingmore2)]  
  
 <span data-ttu-id="9731d-171">Notre application se présente maintenant ainsi.</span><span class="sxs-lookup"><span data-stu-id="9731d-171">Our application now looks like the following.</span></span> <span data-ttu-id="9731d-172">Les tâches privées apparaissent avec une bordure jaune et les tâches professionnelles avec une bordure cyan :</span><span class="sxs-lookup"><span data-stu-id="9731d-172">Home tasks appear with a yellow border and office tasks appear with an aqua border:</span></span>  
  
 <span data-ttu-id="9731d-173">![Capture d’écran de l’exemple de création de modèles de données](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig6.png "DataTemplatingIntro_fig6")</span><span class="sxs-lookup"><span data-stu-id="9731d-173">![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig6.png "DataTemplatingIntro_fig6")</span></span>  
  
 <span data-ttu-id="9731d-174">Dans cet exemple la <xref:System.Windows.DataTrigger> utilise un <xref:System.Windows.Setter> pour définir une valeur de propriété.</span><span class="sxs-lookup"><span data-stu-id="9731d-174">In this example the <xref:System.Windows.DataTrigger> uses a <xref:System.Windows.Setter> to set a property value.</span></span> <span data-ttu-id="9731d-175">Les classes de déclencheur comportent également le <xref:System.Windows.TriggerBase.EnterActions%2A> et <xref:System.Windows.TriggerBase.ExitActions%2A> propriétés qui vous permettent de démarrer un jeu d’actions telles que les animations.</span><span class="sxs-lookup"><span data-stu-id="9731d-175">The trigger classes also have the <xref:System.Windows.TriggerBase.EnterActions%2A> and <xref:System.Windows.TriggerBase.ExitActions%2A> properties that allow you to start a set of actions such as animations.</span></span> <span data-ttu-id="9731d-176">En outre, il existe également un <xref:System.Windows.MultiDataTrigger> classe qui vous permet d’appliquer les modifications en fonction de plusieurs valeurs de propriété liée aux données.</span><span class="sxs-lookup"><span data-stu-id="9731d-176">In addition, there is also a <xref:System.Windows.MultiDataTrigger> class that allows you to apply changes based on multiple data-bound property values.</span></span>  
  
 <span data-ttu-id="9731d-177">Une autre façon d’obtenir le même effet consiste à lier le <xref:System.Windows.Controls.Border.BorderBrush%2A> propriété le `TaskType` propriété et utiliser un convertisseur de valeur pour retourner la couleur selon le `TaskType` valeur.</span><span class="sxs-lookup"><span data-stu-id="9731d-177">An alternative way to achieve the same effect is to bind the <xref:System.Windows.Controls.Border.BorderBrush%2A> property to the `TaskType` property and use a value converter to return the color based on the `TaskType` value.</span></span> <span data-ttu-id="9731d-178">Du point de vue des performances, il est légèrement plus efficace d’utiliser un convertisseur pour produire cet effet.</span><span class="sxs-lookup"><span data-stu-id="9731d-178">Creating the above effect using a converter is slightly more efficient in terms of performance.</span></span> <span data-ttu-id="9731d-179">En outre, le fait de créer votre propre convertisseur vous offre plus de souplesse, car vous fournissez votre propre logique.</span><span class="sxs-lookup"><span data-stu-id="9731d-179">Additionally, creating your own converter gives you more flexibility because you are supplying your own logic.</span></span> <span data-ttu-id="9731d-180">En somme, la technique choisie dépend du scénario et des préférences.</span><span class="sxs-lookup"><span data-stu-id="9731d-180">Ultimately, which technique you choose depends on your scenario and your preference.</span></span> <span data-ttu-id="9731d-181">Pour plus d’informations sur l’écriture d’un convertisseur, consultez <xref:System.Windows.Data.IValueConverter>.</span><span class="sxs-lookup"><span data-stu-id="9731d-181">For information about how to write a converter, see <xref:System.Windows.Data.IValueConverter>.</span></span>  
  
<a name="what_belongs_in_datatemplate"></a>   
### <a name="what-belongs-in-a-datatemplate"></a><span data-ttu-id="9731d-182">Que contient un DataTemplate ?</span><span class="sxs-lookup"><span data-stu-id="9731d-182">What Belongs in a DataTemplate?</span></span>  
 <span data-ttu-id="9731d-183">Dans l’exemple précédent, nous avons placé le déclencheur dans le <xref:System.Windows.DataTemplate> à l’aide de la <xref:System.Windows.DataTemplate>.<xref:System.Windows.DataTemplate.Triggers%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="9731d-183">In the previous example, we placed the trigger within the <xref:System.Windows.DataTemplate> using the <xref:System.Windows.DataTemplate>.<xref:System.Windows.DataTemplate.Triggers%2A> property.</span></span> <span data-ttu-id="9731d-184">Le <xref:System.Windows.Setter> du déclencheur définit la valeur d’une propriété d’un élément (la <xref:System.Windows.Controls.Border> élément) qui se trouve dans le <xref:System.Windows.DataTemplate>.</span><span class="sxs-lookup"><span data-stu-id="9731d-184">The <xref:System.Windows.Setter> of the trigger sets the value of a property of an element (the <xref:System.Windows.Controls.Border> element) that is within the <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="9731d-185">Toutefois, si les propriétés qui votre `Setters` concernent ne sont pas des propriétés d’éléments qui se trouvent dans le courant <xref:System.Windows.DataTemplate>, il peut être plus adapté définir les propriétés à l’aide un <xref:System.Windows.Style> qui concerne la <xref:System.Windows.Controls.ListBoxItem> classe (si le vous liez le contrôle est un <xref:System.Windows.Controls.ListBox>).</span><span class="sxs-lookup"><span data-stu-id="9731d-185">However, if the properties that your `Setters` are concerned with are not properties of elements that are within the current <xref:System.Windows.DataTemplate>, it may be more suitable to set the properties using a <xref:System.Windows.Style> that is for the <xref:System.Windows.Controls.ListBoxItem> class (if the control you are binding is a <xref:System.Windows.Controls.ListBox>).</span></span> <span data-ttu-id="9731d-186">Par exemple, si vous souhaitez que votre <xref:System.Windows.Trigger> pour animer la <xref:System.Windows.UIElement.Opacity%2A> valeur de l’élément lorsque la souris pointe sur un élément, vous définissez des déclencheurs dans un <xref:System.Windows.Controls.ListBoxItem> style.</span><span class="sxs-lookup"><span data-stu-id="9731d-186">For example, if you want your <xref:System.Windows.Trigger> to animate the <xref:System.Windows.UIElement.Opacity%2A> value of the item when a mouse points to an item, you define triggers within a <xref:System.Windows.Controls.ListBoxItem> style.</span></span> <span data-ttu-id="9731d-187">Vous trouverez un exemple sur la page [Présentation d’un exemple de création de style et de modèle](http://go.microsoft.com/fwlink/?LinkID=160010).</span><span class="sxs-lookup"><span data-stu-id="9731d-187">For an example, see the [Introduction to Styling and Templating Sample](http://go.microsoft.com/fwlink/?LinkID=160010).</span></span>  
  
 <span data-ttu-id="9731d-188">En règle générale, n’oubliez pas que le <xref:System.Windows.DataTemplate> est appliquée à chaque généré <xref:System.Windows.Controls.ListBoxItem> (pour plus d’informations sur comment et où elle est réellement appliquée, consultez le <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> page.).</span><span class="sxs-lookup"><span data-stu-id="9731d-188">In general, keep in mind that the <xref:System.Windows.DataTemplate> is being applied to each of the generated <xref:System.Windows.Controls.ListBoxItem> (for more information about how and where it is actually applied, see the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A> page.).</span></span> <span data-ttu-id="9731d-189">Votre <xref:System.Windows.DataTemplate> concerne uniquement la présentation et l’apparence des objets de données.</span><span class="sxs-lookup"><span data-stu-id="9731d-189">Your <xref:System.Windows.DataTemplate> is concerned with only the presentation and appearance of the data objects.</span></span> <span data-ttu-id="9731d-190">Dans la plupart des cas, tous les autres aspects de présentation, telles que d’un élément ressemble à lorsqu’il est sélectionné ou comment le <xref:System.Windows.Controls.ListBox> disposition des éléments, n’appartiennent pas dans la définition d’un <xref:System.Windows.DataTemplate>.</span><span class="sxs-lookup"><span data-stu-id="9731d-190">In most cases, all other aspects of presentation, such as what an item looks like when it is selected or how the <xref:System.Windows.Controls.ListBox> lays out the items, do not belong in the definition of a <xref:System.Windows.DataTemplate>.</span></span> <span data-ttu-id="9731d-191">Vous trouverez un exemple dans la section [Création de styles et de modèles pour un ItemsControl](#DataTemplating_ItemsControl).</span><span class="sxs-lookup"><span data-stu-id="9731d-191">For an example, see the [Styling and Templating an ItemsControl](#DataTemplating_ItemsControl) section.</span></span>  
  
<a name="Styling_StyleSelection"></a>   
## <a name="choosing-a-datatemplate-based-on-properties-of-the-data-object"></a><span data-ttu-id="9731d-192">Choisir un DataTemplate en fonction des propriétés de l’objet de données</span><span class="sxs-lookup"><span data-stu-id="9731d-192">Choosing a DataTemplate Based on Properties of the Data Object</span></span>  
 <span data-ttu-id="9731d-193">Dans la section [La propriété DataType](#Styling_DataType), nous avons expliqué que vous pouvez définir différents modèles de données pour différents objets de données.</span><span class="sxs-lookup"><span data-stu-id="9731d-193">In [The DataType Property](#Styling_DataType) section, we discussed that you can define different data templates for different data objects.</span></span> <span data-ttu-id="9731d-194">Qui est particulièrement utile lorsque vous avez un <xref:System.Windows.Data.CompositeCollection> de différents types ou des collections d’éléments de différents types.</span><span class="sxs-lookup"><span data-stu-id="9731d-194">That is especially useful when you have a <xref:System.Windows.Data.CompositeCollection> of different types or collections with items of different types.</span></span> <span data-ttu-id="9731d-195">Dans le [Utiliser DataTrigger pour appliquer des valeurs de propriété](#DataTrigger_to_Apply_Property_Values) section, nous avons montré que si vous avez une collection du même type d’objets de données vous pouvez créer un <xref:System.Windows.DataTemplate> , puis utiliser des déclencheurs pour appliquer les modifications en fonction des valeurs de propriété chaque objet de données.</span><span class="sxs-lookup"><span data-stu-id="9731d-195">In the [Use DataTriggers to Apply Property Values](#DataTrigger_to_Apply_Property_Values) section, we have shown that if you have a collection of the same type of data objects you can create a <xref:System.Windows.DataTemplate> and then use triggers to apply changes based on the property values of each data object.</span></span> <span data-ttu-id="9731d-196">Toutefois, si les déclencheurs vous permettent d’appliquer des valeurs de propriété ou de lancer des animations, ils ne vous donnent pas la possibilité de reconstruire la structure de vos objets de données.</span><span class="sxs-lookup"><span data-stu-id="9731d-196">However, triggers allow you to apply property values or start animations but they don't give you the flexibility to reconstruct the structure of your data objects.</span></span> <span data-ttu-id="9731d-197">Certains scénarios peuvent nécessiter vous permet de créer une autre <xref:System.Windows.DataTemplate> pour les données les objets qui sont du même type, mais ont des propriétés différentes.</span><span class="sxs-lookup"><span data-stu-id="9731d-197">Some scenarios may require you to create a different <xref:System.Windows.DataTemplate> for data objects that are of the same type but have different properties.</span></span>  
  
 <span data-ttu-id="9731d-198">Par exemple, lorsque un objet `Task` a une valeur `Priority` égale à `1`, vous avez la possibilité de lui donner un aspect différent qui vous servira d’alerte.</span><span class="sxs-lookup"><span data-stu-id="9731d-198">For example, when a `Task` object has a `Priority` value of `1`, you may want to give it a completely different look to serve as an alert for yourself.</span></span> <span data-ttu-id="9731d-199">Dans ce cas, vous créez un <xref:System.Windows.DataTemplate> pour l’affichage de haute priorité `Task` objets.</span><span class="sxs-lookup"><span data-stu-id="9731d-199">In that case, you create a <xref:System.Windows.DataTemplate> for the display of the high-priority `Task` objects.</span></span> <span data-ttu-id="9731d-200">Vous allez ajouter les éléments suivants <xref:System.Windows.DataTemplate> à la section de ressources :</span><span class="sxs-lookup"><span data-stu-id="9731d-200">Let's add the following <xref:System.Windows.DataTemplate> to the resources section:</span></span>  
  
 [!code-xaml[DataTemplatingIntro_snip#ImportantTemplate](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#importanttemplate)]  
  
 <span data-ttu-id="9731d-201">Cet exemple utilise le <xref:System.Windows.DataTemplate>.<xref:System.Windows.FrameworkTemplate.Resources%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="9731d-201">Notice this example uses the <xref:System.Windows.DataTemplate>.<xref:System.Windows.FrameworkTemplate.Resources%2A> property.</span></span> <span data-ttu-id="9731d-202">Ressources définies dans cette section sont partagées par les éléments dans le <xref:System.Windows.DataTemplate>.</span><span class="sxs-lookup"><span data-stu-id="9731d-202">Resources defined in that section are shared by the elements within the <xref:System.Windows.DataTemplate>.</span></span>  
  
 <span data-ttu-id="9731d-203">Pour fournir une logique permettant de choisir le <xref:System.Windows.DataTemplate> à utiliser en fonction de la `Priority` valeur de l’objet de données, créez une sous-classe de <xref:System.Windows.Controls.DataTemplateSelector> et remplacez le <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> (méthode).</span><span class="sxs-lookup"><span data-stu-id="9731d-203">To supply logic to choose which <xref:System.Windows.DataTemplate> to use based on the `Priority` value of the data object, create a subclass of <xref:System.Windows.Controls.DataTemplateSelector> and override the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method.</span></span> <span data-ttu-id="9731d-204">Dans l’exemple suivant, la <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> méthode fournit la logique pour retourner le modèle approprié en fonction de la valeur de la `Priority` propriété.</span><span class="sxs-lookup"><span data-stu-id="9731d-204">In the following example, the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method provides logic to return the appropriate template based on the value of the `Priority` property.</span></span> <span data-ttu-id="9731d-205">Le modèle à retourner est recherché dans les ressources de l’enveloppe <xref:System.Windows.Window> élément.</span><span class="sxs-lookup"><span data-stu-id="9731d-205">The template to return is found in the resources of the enveloping <xref:System.Windows.Window> element.</span></span>  
  
 [!code-csharp[DataTemplatingIntro_snip#DTSClass](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/TaskListDataTemplateSelector.cs#dtsclass)]
 [!code-vb[DataTemplatingIntro_snip#DTSClass](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/DataTemplatingIntro_snip/visualbasic/tasklistdatatemplateselector.vb#dtsclass)]  
  
 <span data-ttu-id="9731d-206">On peut ensuite déclarer le `TaskListDataTemplateSelector` comme ressource :</span><span class="sxs-lookup"><span data-stu-id="9731d-206">We can then declare the `TaskListDataTemplateSelector` as a resource:</span></span>  
  
 [!code-xaml[DataTemplatingIntro_snip#R1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r1)]  
[!code-xaml[DataTemplatingIntro_snip#DTS](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#dts)]  
[!code-xaml[DataTemplatingIntro_snip#R2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#r2)]  
  
 <span data-ttu-id="9731d-207">Pour utiliser la ressource de sélecteur de modèle, affecter à la <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A> propriété de la <xref:System.Windows.Controls.ListBox>.</span><span class="sxs-lookup"><span data-stu-id="9731d-207">To use the template selector resource, assign it to the <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A> property of the <xref:System.Windows.Controls.ListBox>.</span></span> <span data-ttu-id="9731d-208">Le <xref:System.Windows.Controls.ListBox> appelle la <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> méthode de le `TaskListDataTemplateSelector` pour chacun des éléments dans la collection sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="9731d-208">The <xref:System.Windows.Controls.ListBox> calls the <xref:System.Windows.Controls.DataTemplateSelector.SelectTemplate%2A> method of the `TaskListDataTemplateSelector` for each of the items in the underlying collection.</span></span> <span data-ttu-id="9731d-209">L’appel passe l’objet de données en paramètre d’élément.</span><span class="sxs-lookup"><span data-stu-id="9731d-209">The call passes the data object as the item parameter.</span></span> <span data-ttu-id="9731d-210">Le <xref:System.Windows.DataTemplate> qui est retourné par la méthode est ensuite appliquée à cet objet de données.</span><span class="sxs-lookup"><span data-stu-id="9731d-210">The <xref:System.Windows.DataTemplate> that is returned by the method is then applied to that data object.</span></span>  
  
 [!code-xaml[DataTemplatingIntro_snip#ItemTemplateSelector](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemtemplateselector)]  
  
 <span data-ttu-id="9731d-211">Avec le sélecteur de modèle en place, le <xref:System.Windows.Controls.ListBox> se présente comme suit :</span><span class="sxs-lookup"><span data-stu-id="9731d-211">With the template selector in place, the <xref:System.Windows.Controls.ListBox> now appears as follows:</span></span>  
  
 <span data-ttu-id="9731d-212">![Capture d’écran de l’exemple de création de modèles de données](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig7.png "DataTemplatingIntro_fig7")</span><span class="sxs-lookup"><span data-stu-id="9731d-212">![Data templating sample screen shot](../../../../docs/framework/wpf/data/media/datatemplatingintro-fig7.png "DataTemplatingIntro_fig7")</span></span>  
  
 <span data-ttu-id="9731d-213">Ainsi se conclut notre étude de cet exemple.</span><span class="sxs-lookup"><span data-stu-id="9731d-213">This concludes our discussion of this example.</span></span> <span data-ttu-id="9731d-214">Vous trouverez l’exemple complet sur la page [Présentation d’un exemple de création de modèles de données](http://go.microsoft.com/fwlink/?LinkID=160009).</span><span class="sxs-lookup"><span data-stu-id="9731d-214">For the complete sample, see [Introduction to Data Templating Sample](http://go.microsoft.com/fwlink/?LinkID=160009).</span></span>  
  
<a name="DataTemplating_ItemsControl"></a>   
## <a name="styling-and-templating-an-itemscontrol"></a><span data-ttu-id="9731d-215">Création de styles et de modèles pour un ItemsControl</span><span class="sxs-lookup"><span data-stu-id="9731d-215">Styling and Templating an ItemsControl</span></span>  
 <span data-ttu-id="9731d-216">Bien que le <xref:System.Windows.Controls.ItemsControl> n’est pas le seul type de contrôle que vous pouvez utiliser un <xref:System.Windows.DataTemplate> , il est un scénario très courant pour lier une <xref:System.Windows.Controls.ItemsControl> à une collection.</span><span class="sxs-lookup"><span data-stu-id="9731d-216">Even though the <xref:System.Windows.Controls.ItemsControl> is not the only control type that you can use a <xref:System.Windows.DataTemplate> with, it is a very common scenario to bind an <xref:System.Windows.Controls.ItemsControl> to a collection.</span></span> <span data-ttu-id="9731d-217">Dans le [ce qui appartient à un DataTemplate](#what_belongs_in_datatemplate) section, nous avons indiqué que la définition de votre <xref:System.Windows.DataTemplate> doit uniquement être concernés par la présentation des données.</span><span class="sxs-lookup"><span data-stu-id="9731d-217">In the [What Belongs in a DataTemplate](#what_belongs_in_datatemplate) section we discussed that the definition of your <xref:System.Windows.DataTemplate> should only be concerned with the presentation of data.</span></span> <span data-ttu-id="9731d-218">Afin de déterminer quand il n’est pas recommandé d’utiliser un <xref:System.Windows.DataTemplate> qu’il est important de comprendre les différentes propriétés de style et de modèle fournies par le <xref:System.Windows.Controls.ItemsControl>.</span><span class="sxs-lookup"><span data-stu-id="9731d-218">In order to know when it is not suitable to use a <xref:System.Windows.DataTemplate> it is important to understand the different style and template properties provided by the <xref:System.Windows.Controls.ItemsControl>.</span></span> <span data-ttu-id="9731d-219">L’exemple suivant est conçu pour illustrer la fonction de chacune de ces propriétés.</span><span class="sxs-lookup"><span data-stu-id="9731d-219">The following example is designed to illustrate the function of each of these properties.</span></span> <span data-ttu-id="9731d-220">Le <xref:System.Windows.Controls.ItemsControl> dans cet exemple est lié à la même `Tasks` collection, comme dans l’exemple précédent.</span><span class="sxs-lookup"><span data-stu-id="9731d-220">The <xref:System.Windows.Controls.ItemsControl> in this example is bound to the same `Tasks` collection as in the previous example.</span></span> <span data-ttu-id="9731d-221">À des fins de démonstration, les styles et les modèles de cet exemple sont tous déclarés inline.</span><span class="sxs-lookup"><span data-stu-id="9731d-221">For demonstration purposes, the styles and templates in this example are all declared inline.</span></span>  
  
 [!code-xaml[DataTemplatingIntro_snip#ItemsControlProperties](../../../../samples/snippets/csharp/VS_Snippets_Wpf/DataTemplatingIntro_snip/CSharp/Window1.xaml#itemscontrolproperties)]  
  
 <span data-ttu-id="9731d-222">Voici une capture d’écran du rendu de l’exemple :</span><span class="sxs-lookup"><span data-stu-id="9731d-222">The following is a screenshot of the example when it is rendered:</span></span>  
  
 <span data-ttu-id="9731d-223">![Capture d’écran de l’exemple ItemsControl](../../../../docs/framework/wpf/data/media/databinding-itemscontrolproperties.png "DataBinding_ItemsControlProperties")</span><span class="sxs-lookup"><span data-stu-id="9731d-223">![ItemsControl example screenshot](../../../../docs/framework/wpf/data/media/databinding-itemscontrolproperties.png "DataBinding_ItemsControlProperties")</span></span>  
  
 <span data-ttu-id="9731d-224">Notez que, au lieu d’utiliser le <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A>, vous pouvez utiliser la <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A>.</span><span class="sxs-lookup"><span data-stu-id="9731d-224">Note that instead of using the <xref:System.Windows.Controls.ItemsControl.ItemTemplate%2A>, you can use the <xref:System.Windows.Controls.ItemsControl.ItemTemplateSelector%2A>.</span></span> <span data-ttu-id="9731d-225">Vous trouverez un exemple dans la section précédente.</span><span class="sxs-lookup"><span data-stu-id="9731d-225">Refer to the previous section for an example.</span></span> <span data-ttu-id="9731d-226">De même, au lieu d’utiliser le <xref:System.Windows.Controls.ItemsControl.ItemContainerStyle%2A>, vous avez la possibilité d’utiliser le <xref:System.Windows.Controls.ItemsControl.ItemContainerStyleSelector%2A>.</span><span class="sxs-lookup"><span data-stu-id="9731d-226">Similarly, instead of using the <xref:System.Windows.Controls.ItemsControl.ItemContainerStyle%2A>, you have the option to use the <xref:System.Windows.Controls.ItemsControl.ItemContainerStyleSelector%2A>.</span></span>  
  
 <span data-ttu-id="9731d-227">Deux autres propriétés de style de la <xref:System.Windows.Controls.ItemsControl> qui ne sont pas affichés ici sont <xref:System.Windows.Controls.ItemsControl.GroupStyle%2A> et <xref:System.Windows.Controls.ItemsControl.GroupStyleSelector%2A>.</span><span class="sxs-lookup"><span data-stu-id="9731d-227">Two other style-related properties of the <xref:System.Windows.Controls.ItemsControl> that are not shown here are <xref:System.Windows.Controls.ItemsControl.GroupStyle%2A> and <xref:System.Windows.Controls.ItemsControl.GroupStyleSelector%2A>.</span></span>  
  
<a name="DataTemplating_HeirarchicalDataTemplate"></a>   
## <a name="support-for-hierarchical-data"></a><span data-ttu-id="9731d-228">Prise en charge des données hiérarchiques</span><span class="sxs-lookup"><span data-stu-id="9731d-228">Support for Hierarchical Data</span></span>  
 <span data-ttu-id="9731d-229">Jusqu’à présent, nous avons seulement vu comment lier et afficher une collection unique.</span><span class="sxs-lookup"><span data-stu-id="9731d-229">So far we have only looked at how to bind to and display a single collection.</span></span> <span data-ttu-id="9731d-230">Une collection peut contenir d’autres collections.</span><span class="sxs-lookup"><span data-stu-id="9731d-230">Sometimes you have a collection that contains other collections.</span></span> <span data-ttu-id="9731d-231">Le <xref:System.Windows.HierarchicalDataTemplate> classe a été conçue pour être utilisée avec <xref:System.Windows.Controls.HeaderedItemsControl> types pour afficher ces données.</span><span class="sxs-lookup"><span data-stu-id="9731d-231">The <xref:System.Windows.HierarchicalDataTemplate> class is designed to be used with <xref:System.Windows.Controls.HeaderedItemsControl> types to display such data.</span></span> <span data-ttu-id="9731d-232">Dans l’exemple suivant, `ListLeagueList` est une liste d’objets `League`.</span><span class="sxs-lookup"><span data-stu-id="9731d-232">In the following example, `ListLeagueList` is a list of `League` objects.</span></span> <span data-ttu-id="9731d-233">Chaque objet `League` a un `Name` et une collection d’objets `Division`.</span><span class="sxs-lookup"><span data-stu-id="9731d-233">Each `League` object has a `Name` and a collection of `Division` objects.</span></span> <span data-ttu-id="9731d-234">Chaque `Division` a un `Name` et une collection d’objets `Team` et chaque objet `Team` a un `Name`.</span><span class="sxs-lookup"><span data-stu-id="9731d-234">Each `Division` has a `Name` and a collection of `Team` objects, and each `Team` object has a `Name`.</span></span>  
  
 [!code-xaml[HierarchicalDataTemplateSnippet#HDT](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HierarchicalDataTemplateSnippet/CS/window1.xaml#hdt)]  
  
 <span data-ttu-id="9731d-235">L’exemple montre que l’utilisation de <xref:System.Windows.HierarchicalDataTemplate>, vous pouvez afficher facilement les données de liste qui contient d’autres listes.</span><span class="sxs-lookup"><span data-stu-id="9731d-235">The example shows that with the use of <xref:System.Windows.HierarchicalDataTemplate>, you can easily display list data that contains other lists.</span></span> <span data-ttu-id="9731d-236">Voici une capture d’écran de l’exemple.</span><span class="sxs-lookup"><span data-stu-id="9731d-236">The following is a screenshot of the example.</span></span>  
  
 <span data-ttu-id="9731d-237">![Capture d’écran de l’exemple HierarchicalDataTemplate](../../../../docs/framework/wpf/data/media/databinding-hierarchicaldatatemplate.png "DataBinding_HierarchicalDataTemplate")</span><span class="sxs-lookup"><span data-stu-id="9731d-237">![HierarchicalDataTemplate sample screen shot](../../../../docs/framework/wpf/data/media/databinding-hierarchicaldatatemplate.png "DataBinding_HierarchicalDataTemplate")</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="9731d-238">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="9731d-238">See Also</span></span>  
 [<span data-ttu-id="9731d-239">Liaison de données</span><span class="sxs-lookup"><span data-stu-id="9731d-239">Data Binding</span></span>](../../../../docs/framework/wpf/advanced/optimizing-performance-data-binding.md)  
 [<span data-ttu-id="9731d-240">Rechercher des éléments générés par DataTemplate</span><span class="sxs-lookup"><span data-stu-id="9731d-240">Find DataTemplate-Generated Elements</span></span>](../../../../docs/framework/wpf/data/how-to-find-datatemplate-generated-elements.md)  
 [<span data-ttu-id="9731d-241">Application d’un style et création de modèles</span><span class="sxs-lookup"><span data-stu-id="9731d-241">Styling and Templating</span></span>](../../../../docs/framework/wpf/controls/styling-and-templating.md)  
 [<span data-ttu-id="9731d-242">Vue d’ensemble de la liaison de données</span><span class="sxs-lookup"><span data-stu-id="9731d-242">Data Binding Overview</span></span>](../../../../docs/framework/wpf/data/data-binding-overview.md)  
 [<span data-ttu-id="9731d-243">Vue d’ensemble des modèles et styles d’en-tête de colonne GridView</span><span class="sxs-lookup"><span data-stu-id="9731d-243">GridView Column Header Styles and Templates Overview</span></span>](../../../../docs/framework/wpf/controls/gridview-column-header-styles-and-templates-overview.md)
