---
title: Vue d'ensemble de la gestion d'applications
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords: application management [WPF]
ms.assetid: 32b1c054-5aca-423b-b4b5-ed8dc4dc637d
caps.latest.revision: "56"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 9651b55741a607b1c99a813c0011db380dfd38f6
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/22/2017
---
# <a name="application-management-overview"></a><span data-ttu-id="3cb3c-102">Vue d'ensemble de la gestion d'applications</span><span class="sxs-lookup"><span data-stu-id="3cb3c-102">Application Management Overview</span></span>
<span data-ttu-id="3cb3c-103">Toutes les applications tendent à partager un jeu de fonctionnalités commun qui s’applique à l’implémentation et à la gestion.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-103">All applications tend to share a common set of functionality that applies to application implementation and management.</span></span> <span data-ttu-id="3cb3c-104">Cette rubrique fournit une vue d’ensemble des fonctionnalités de la <xref:System.Windows.Application> classe pour la création et la gestion des applications.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-104">This topic provides an overview of the functionality in the <xref:System.Windows.Application> class for creating and managing applications.</span></span>  
   
  
## <a name="the-application-class"></a><span data-ttu-id="3cb3c-105">Classe Application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-105">The Application Class</span></span>  
 <span data-ttu-id="3cb3c-106">Dans [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], des fonctionnalités communes de portée application sont encapsulées dans le <xref:System.Windows.Application> classe.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-106">In [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)], common application-scoped functionality is encapsulated in the <xref:System.Windows.Application> class.</span></span> <span data-ttu-id="3cb3c-107">La <xref:System.Windows.Application> classe inclut les fonctionnalités suivantes :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-107">The <xref:System.Windows.Application> class includes the following functionality:</span></span>  
  
-   <span data-ttu-id="3cb3c-108">Suivi et interaction avec la durée de vie d’une application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-108">Tracking and interacting with application lifetime.</span></span>  
  
-   <span data-ttu-id="3cb3c-109">Récupération et traitement des paramètres de ligne de commande.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-109">Retrieving and processing command-line parameters.</span></span>  
  
-   <span data-ttu-id="3cb3c-110">Détection et traitement des exceptions non gérées.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-110">Detecting and responding to unhandled exceptions.</span></span>  
  
-   <span data-ttu-id="3cb3c-111">Partage des propriétés de portée application et des ressources.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-111">Sharing application-scope properties and resources.</span></span>  
  
-   <span data-ttu-id="3cb3c-112">Gestion des fenêtres dans des applications autonomes.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-112">Managing windows in standalone applications.</span></span>  
  
-   <span data-ttu-id="3cb3c-113">Suivi et gestion de la navigation.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-113">Tracking and managing navigation.</span></span>  
  
<a name="The_Application_Class"></a>   
## <a name="how-to-perform-common-tasks-using-the-application-class"></a><span data-ttu-id="3cb3c-114">Comment effectuer des tâches courantes à l’aide de la classe Application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-114">How to Perform Common Tasks Using the Application Class</span></span>  
 <span data-ttu-id="3cb3c-115">Si vous ne souhaitez pas tous les détails de la <xref:System.Windows.Application> (classe), le tableau suivant répertorie certaines des tâches courantes pour <xref:System.Windows.Application> et comment y répondre.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-115">If you are not interested in all of the details of the <xref:System.Windows.Application> class, the following table lists some of the common tasks for <xref:System.Windows.Application> and how to accomplish them.</span></span> <span data-ttu-id="3cb3c-116">En affichant l’API et les rubriques connexes, vous pouvez obtenir davantage d’informations et des exemples de code.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-116">By viewing the related API and topics, you can find more information and sample code.</span></span>  
  
|<span data-ttu-id="3cb3c-117">Tâche</span><span class="sxs-lookup"><span data-stu-id="3cb3c-117">Task</span></span>|<span data-ttu-id="3cb3c-118">Approche</span><span class="sxs-lookup"><span data-stu-id="3cb3c-118">Approach</span></span>|  
|----------|--------------|  
|<span data-ttu-id="3cb3c-119">Obtenir un objet qui représente l’application actuelle</span><span class="sxs-lookup"><span data-stu-id="3cb3c-119">Get an object that represents the current application</span></span>|<span data-ttu-id="3cb3c-120">Utilisez la propriété <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-120">Use the <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="3cb3c-121">Ajouter un écran de démarrage à une application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-121">Add a startup screen to an application</span></span>|<span data-ttu-id="3cb3c-122">Consultez [ajouter un écran de démarrage pour une Application WPF](../../../../docs/framework/wpf/app-development/how-to-add-a-splash-screen-to-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-122">See [Add a Splash Screen to a WPF Application](../../../../docs/framework/wpf/app-development/how-to-add-a-splash-screen-to-a-wpf-application.md).</span></span>|  
|<span data-ttu-id="3cb3c-123">Démarrer une application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-123">Start an application</span></span>|<span data-ttu-id="3cb3c-124">Utilisez la méthode <xref:System.Windows.Application.Run%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-124">Use the <xref:System.Windows.Application.Run%2A?displayProperty=nameWithType> method.</span></span>|  
|<span data-ttu-id="3cb3c-125">Arrêter une application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-125">Stop an application</span></span>|<span data-ttu-id="3cb3c-126">Utilisez le <xref:System.Windows.Application.Shutdown%2A> méthode de la <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> objet.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-126">Use the <xref:System.Windows.Application.Shutdown%2A> method of the <xref:System.Windows.Application.Current%2A?displayProperty=nameWithType> object.</span></span>|  
|<span data-ttu-id="3cb3c-127">Obtenir des arguments de la ligne de commande</span><span class="sxs-lookup"><span data-stu-id="3cb3c-127">Get arguments from the command line</span></span>|<span data-ttu-id="3cb3c-128">Gérer les <xref:System.Windows.Application.Startup?displayProperty=nameWithType> événement et utilisez la <xref:System.Windows.StartupEventArgs.Args%2A?displayProperty=nameWithType> propriété.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-128">Handle the <xref:System.Windows.Application.Startup?displayProperty=nameWithType> event and use the <xref:System.Windows.StartupEventArgs.Args%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="3cb3c-129">Pour obtenir un exemple, consultez la <xref:System.Windows.Application.Startup?displayProperty=nameWithType> événement.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-129">For an example, see the <xref:System.Windows.Application.Startup?displayProperty=nameWithType> event.</span></span>|  
|<span data-ttu-id="3cb3c-130">Obtenir et définir le code de sortie d’application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-130">Get and set the application exit code</span></span>|<span data-ttu-id="3cb3c-131">Définir le <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A?displayProperty=nameWithType> propriété dans le <xref:System.Windows.Application.Exit?displayProperty=nameWithType> Gestionnaire d’événements ou appelez le <xref:System.Windows.Application.Shutdown%2A> méthode et passer un entier.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-131">Set the <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A?displayProperty=nameWithType> property in the <xref:System.Windows.Application.Exit?displayProperty=nameWithType> event handler or call the <xref:System.Windows.Application.Shutdown%2A> method and pass in an integer.</span></span>|  
|<span data-ttu-id="3cb3c-132">Détecter et traiter des exceptions non gérées</span><span class="sxs-lookup"><span data-stu-id="3cb3c-132">Detect and respond to unhandled exceptions</span></span>|<span data-ttu-id="3cb3c-133">Gérer les <xref:System.Windows.Application.DispatcherUnhandledException> événement.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-133">Handle the <xref:System.Windows.Application.DispatcherUnhandledException> event.</span></span>|  
|<span data-ttu-id="3cb3c-134">Obtenir et définir des ressources de portée application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-134">Get and set application-scoped resources</span></span>|<span data-ttu-id="3cb3c-135">Utilisez la propriété <xref:System.Windows.Application.Resources%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-135">Use the <xref:System.Windows.Application.Resources%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="3cb3c-136">Utiliser un dictionnaire de ressources de portée application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-136">Use an application-scope resource dictionary</span></span>|<span data-ttu-id="3cb3c-137">Consultez [utiliser un dictionnaire de ressources de portée Application](../../../../docs/framework/wpf/app-development/how-to-use-an-application-scope-resource-dictionary.md).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-137">See [Use an Application-Scope Resource Dictionary](../../../../docs/framework/wpf/app-development/how-to-use-an-application-scope-resource-dictionary.md).</span></span>|  
|<span data-ttu-id="3cb3c-138">Obtenir et définir les propriétés de portée application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-138">Get and set application-scoped properties</span></span>|<span data-ttu-id="3cb3c-139">Utilisez la propriété <xref:System.Windows.Application.Properties%2A?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-139">Use the <xref:System.Windows.Application.Properties%2A?displayProperty=nameWithType> property.</span></span>|  
|<span data-ttu-id="3cb3c-140">Obtenir et enregistrer l’état d’une application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-140">Get and save an application's state</span></span>|<span data-ttu-id="3cb3c-141">Consultez [conserver et restaurer les propriétés de l’étendue de l’Application entre les Sessions d’Application](../../../../docs/framework/wpf/app-development/persist-and-restore-application-scope-properties.md).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-141">See [Persist and Restore Application-Scope Properties Across Application Sessions](../../../../docs/framework/wpf/app-development/persist-and-restore-application-scope-properties.md).</span></span>|  
|<span data-ttu-id="3cb3c-142">Gérer les fichiers de données de non-code, dont les fichiers de ressources, les fichiers de contenu et les fichiers du site d’origine.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-142">Manage non-code data files, including resource files, content files, and site-of-origin files.</span></span>|<span data-ttu-id="3cb3c-143">Consultez [ressource d’Application WPF, contenu et les fichiers de données](../../../../docs/framework/wpf/app-development/wpf-application-resource-content-and-data-files.md).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-143">See [WPF Application Resource, Content, and Data Files](../../../../docs/framework/wpf/app-development/wpf-application-resource-content-and-data-files.md).</span></span>|  
|<span data-ttu-id="3cb3c-144">Gérer des fenêtres dans des applications autonomes</span><span class="sxs-lookup"><span data-stu-id="3cb3c-144">Manage windows in standalone applications</span></span>|<span data-ttu-id="3cb3c-145">Consultez [Vue d’ensemble des fenêtres WPF](../../../../docs/framework/wpf/app-development/wpf-windows-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-145">See [WPF Windows Overview](../../../../docs/framework/wpf/app-development/wpf-windows-overview.md).</span></span>|  
|<span data-ttu-id="3cb3c-146">Suivre et gérer la navigation</span><span class="sxs-lookup"><span data-stu-id="3cb3c-146">Track and manage navigation</span></span>|<span data-ttu-id="3cb3c-147">Consultez [vue d’ensemble de la Navigation](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-147">See [Navigation Overview](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span></span>|  
  
<a name="The_Application_Definition"></a>   
## <a name="the-application-definition"></a><span data-ttu-id="3cb3c-148">Définition d’application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-148">The Application Definition</span></span>  
 <span data-ttu-id="3cb3c-149">Pour utiliser les fonctionnalités de la <xref:System.Windows.Application> (classe), vous devez implémenter une définition d’application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-149">To utilize the functionality of the <xref:System.Windows.Application> class, you must implement an application definition.</span></span> <span data-ttu-id="3cb3c-150">A [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] définition d’application est une classe qui dérive de <xref:System.Windows.Application> et est configuré avec un spécial [!INCLUDE[TLA#tla_msbuild](../../../../includes/tlasharptla-msbuild-md.md)] paramètre.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-150">A [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application definition is a class that derives from <xref:System.Windows.Application> and is configured with a special [!INCLUDE[TLA#tla_msbuild](../../../../includes/tlasharptla-msbuild-md.md)] setting.</span></span>  
  
### <a name="implementing-an-application-definition"></a><span data-ttu-id="3cb3c-151">Implémentation d’une définition d’application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-151">Implementing an Application Definition</span></span>  
 <span data-ttu-id="3cb3c-152">Un type [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] définition d’application est implémentée à l’aide de balisage et code-behind.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-152">A typical [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application definition is implemented using both markup and code-behind.</span></span> <span data-ttu-id="3cb3c-153">Vous pouvez ainsi utiliser le balisage pour définir de façon déclarative les propriétés d’une application et les ressources ainsi que pour inscrire des événements, tout en gérant les événements et en implémentant le comportement spécifique à l’application dans un fichier code-behind.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-153">This allows you to use markup to declaratively set application properties, resources, and register events, while handling events and implementing application-specific behavior in code-behind.</span></span>  
  
 <span data-ttu-id="3cb3c-154">L’exemple suivant montre comment implémenter une définition d’application à l’aide de balisage et de code-behind :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-154">The following example shows how to implement an application definition using both markup and code-behind:</span></span>  
  
 [!code-xaml[ApplicationSnippets#ApplicationXAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSnippets/CSharp/App.xaml#applicationxaml)]  
  
 [!code-csharp[ApplicationSnippets#ApplicationCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSnippets/CSharp/App.xaml.cs#applicationcodebehind)]
 [!code-vb[ApplicationSnippets#ApplicationCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationSnippets/visualbasic/application.xaml.vb#applicationcodebehind)]  
  
 <span data-ttu-id="3cb3c-155">Pour permettre l’interopérabilité d’un fichier de balisage et d’un fichier code-behind, les conditions suivantes doivent être satisfaites :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-155">To allow a markup file and code-behind file to work together, the following needs to happen:</span></span>  
  
-   <span data-ttu-id="3cb3c-156">Dans le balisage, la `Application` élément doit inclure le `x:Class` attribut.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-156">In markup, the `Application` element must include the `x:Class` attribute.</span></span> <span data-ttu-id="3cb3c-157">Lorsque l’application est générée, l’existence de `x:Class` dans le balisage de fichier entraîne [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] pour créer un `partial` classe qui dérive de <xref:System.Windows.Application> et porte le nom spécifié par le `x:Class` attribut.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-157">When the application is built, the existence of `x:Class` in the markup file causes [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] to create a `partial` class that derives from <xref:System.Windows.Application> and has the name that is specified by the `x:Class` attribute.</span></span> <span data-ttu-id="3cb3c-158">Cela requiert l’ajout d’un [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] déclaration d’espace de noms pour le [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schéma ( `xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"` ).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-158">This requires the addition of an [!INCLUDE[TLA2#tla_xml](../../../../includes/tla2sharptla-xml-md.md)] namespace declaration for the [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] schema ( `xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"` ).</span></span>  
  
-   <span data-ttu-id="3cb3c-159">Dans le code-behind, la classe doit être un `partial` classe portant le même nom que celui spécifié par le `x:Class` l’attribut dans le balisage et doit dériver de <xref:System.Windows.Application>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-159">In code-behind, the class must be a `partial` class with the same name that is specified by the `x:Class` attribute in markup and must derive from <xref:System.Windows.Application>.</span></span> <span data-ttu-id="3cb3c-160">Cela permet au fichier code-behind à associer à la `partial` classe qui est généré pour le fichier de balisage lorsque l’application est générée (consultez [création d’une Application WPF](../../../../docs/framework/wpf/app-development/building-a-wpf-application-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-160">This allows the code-behind file to be associated with the `partial` class that is generated for the markup file when the application is built (see [Building a WPF Application](../../../../docs/framework/wpf/app-development/building-a-wpf-application-wpf.md)).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3cb3c-161">Lorsque vous créez un projet d’Application WPF ou un projet d’Application de navigateur WPF à l’aide [!INCLUDE[TLA#tla_visualstu](../../../../includes/tlasharptla-visualstu-md.md)], une définition d’application est incluse par défaut et est définie à l’aide de balisage et code-behind.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-161">When you create a new WPF Application project or WPF Browser Application project using [!INCLUDE[TLA#tla_visualstu](../../../../includes/tlasharptla-visualstu-md.md)], an application definition is included by default and is defined using both markup and code-behind.</span></span>  
  
 <span data-ttu-id="3cb3c-162">Ce code est le minimum requis pour implémenter une définition d’application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-162">This code is the minimum that is required to implement an application definition.</span></span> <span data-ttu-id="3cb3c-163">Toutefois, un autre [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] configuration doit être effectuée à la définition d’application avant de générer et exécuter l’application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-163">However, an additional [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] configuration needs to be made to the application definition before building and running the application.</span></span>  
  
### <a name="configuring-the-application-definition-for-msbuild"></a><span data-ttu-id="3cb3c-164">Configuration de la définition d’application pour MSBuild</span><span class="sxs-lookup"><span data-stu-id="3cb3c-164">Configuring the Application Definition for MSBuild</span></span>  
 <span data-ttu-id="3cb3c-165">Applications autonomes et [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)] requièrent l’implémentation d’un certain niveau d’infrastructure avant de pouvoir exécuter.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-165">Standalone applications and [!INCLUDE[TLA#tla_xbap#plural](../../../../includes/tlasharptla-xbapsharpplural-md.md)] require the implementation of a certain level of infrastructure before they can run.</span></span> <span data-ttu-id="3cb3c-166">La partie la plus importante de cette infrastructure est le point d’entrée.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-166">The most important part of this infrastructure is the entry point.</span></span> <span data-ttu-id="3cb3c-167">Quand une application est lancée par un utilisateur, le système d’exploitation appelle le point d’entrée, qui est une fonction connue pour démarrer les applications.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-167">When an application is launched by a user, the operating system calls the entry point, which is a well-known function for starting applications.</span></span>  
  
 <span data-ttu-id="3cb3c-168">En règle générale, les développeurs ont toujours dû écrire eux-mêmes une partie ou l’intégralité de ce code, selon la technologie employée.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-168">Traditionally, developers have needed to write some or all of this code for themselves, depending on the technology.</span></span> <span data-ttu-id="3cb3c-169">Toutefois, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] génère ce code lorsque le fichier de balisage de votre définition d’application est configuré comme un [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] `ApplicationDefinition` de l’élément, comme indiqué dans l’exemple suivant [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] fichier projet :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-169">However, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] generates this code for you when the markup file of your application definition is configured as an [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)]`ApplicationDefinition` item, as shown in the following [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] project file:</span></span>  
  
```xml  
<Project   
  DefaultTargets="Build"  
                        xmlns="http://schemas.microsoft.com/developer/msbuild/2003">  
  ...  
  <ApplicationDefinition Include="App.xaml" />  
  <Compile Include="App.xaml.cs" />  
  ...  
</Project>  
```  
  
 <span data-ttu-id="3cb3c-170">Étant donné que le fichier code-behind contient du code, il est marqué comme un [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] `Compile` de l’élément, qui est normal.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-170">Because the code-behind file contains code, it is marked as an [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)]`Compile` item, as is normal.</span></span>  
  
 <span data-ttu-id="3cb3c-171">L’application de ces [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] provoque des configurations pour les fichiers de balisage et code-behind d’une définition d’application [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] pour générer le code comme suit :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-171">The application of these [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] configurations to the markup and code-behind files of an application definition causes [!INCLUDE[TLA2#tla_msbuild](../../../../includes/tla2sharptla-msbuild-md.md)] to generate code like the following:</span></span>  
  
 [!code-csharp[AppDefAugSnippets#AppDefAugCODE1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/AppDefAugSnippets/CSharp/App.cs#appdefaugcode1)]
 [!code-vb[AppDefAugSnippets#AppDefAugCODE1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/AppDefAugSnippets/VisualBasic/App.vb#appdefaugcode1)]  
[!code-csharp[AppDefAugSnippets#AppDefAugCODE2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/AppDefAugSnippets/CSharp/App.cs#appdefaugcode2)]
[!code-vb[AppDefAugSnippets#AppDefAugCODE2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/AppDefAugSnippets/VisualBasic/App.vb#appdefaugcode2)]  
  
 <span data-ttu-id="3cb3c-172">Le code résultant ajoute à votre définition d’application avec le code d’infrastructure supplémentaire, qui inclut la méthode de point d’entrée `Main`.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-172">The resulting code augments your application definition with additional infrastructure code, which includes the entry-point method `Main`.</span></span> <span data-ttu-id="3cb3c-173">Le <xref:System.STAThreadAttribute> attribut est appliqué à la `Main` méthode pour indiquer que le principal [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] de thread pour le [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application est un thread STA, qui est nécessaire pour [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-173">The <xref:System.STAThreadAttribute> attribute is applied to the `Main` method to indicate that the main [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)] thread for the [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application is an STA thread, which is required for [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications.</span></span> <span data-ttu-id="3cb3c-174">Lorsqu’elle est appelée, `Main` crée une nouvelle instance de `App` avant d’appeler le `InitializeComponent` méthode pour enregistrer les événements et définir les propriétés qui sont implémentées dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-174">When called, `Main` creates a new instance of `App` before calling the `InitializeComponent` method to register the events and set the properties that are implemented in markup.</span></span> <span data-ttu-id="3cb3c-175">Étant donné que `InitializeComponent` est généré pour vous, vous n’avez pas besoin d’appeler explicitement `InitializeComponent` à partir d’une définition d’application comme vous le faites pour <xref:System.Windows.Controls.Page> et <xref:System.Windows.Window> implémentations.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-175">Because `InitializeComponent` is generated for you, you don't need to explicitly call `InitializeComponent` from an application definition like you do for <xref:System.Windows.Controls.Page> and <xref:System.Windows.Window> implementations.</span></span> <span data-ttu-id="3cb3c-176">Enfin, le <xref:System.Windows.Application.Run%2A> méthode est appelée pour démarrer l’application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-176">Finally, the <xref:System.Windows.Application.Run%2A> method is called to start the application.</span></span>  
  
<a name="Getting_the_Current_Application"></a>   
## <a name="getting-the-current-application"></a><span data-ttu-id="3cb3c-177">Obtention de l’application actuelle</span><span class="sxs-lookup"><span data-stu-id="3cb3c-177">Getting the Current Application</span></span>  
 <span data-ttu-id="3cb3c-178">Étant donné que les fonctionnalités de la <xref:System.Windows.Application> classe sont partagés dans une application, il peut y avoir qu’une seule instance de la <xref:System.Windows.Application> classe par <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-178">Because the functionality of the <xref:System.Windows.Application> class are shared across an application, there can be only one instance of the <xref:System.Windows.Application> class per <xref:System.AppDomain>.</span></span> <span data-ttu-id="3cb3c-179">Pour appliquer ceci, le <xref:System.Windows.Application> classe est implémentée comme une classe singleton (consultez [implémentation de Singleton en c#](http://go.microsoft.com/fwlink/?LinkId=100567)), qui crée une instance unique d’elle-même et fournit un accès partagé à avec le `static` <xref:System.Windows.Application.Current%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-179">To enforce this, the <xref:System.Windows.Application> class is implemented as a singleton class (see [Implementing Singleton in C#](http://go.microsoft.com/fwlink/?LinkId=100567)), which creates a single instance of itself and provides shared access to it with the `static`<xref:System.Windows.Application.Current%2A> property.</span></span>  
  
 <span data-ttu-id="3cb3c-180">Le code suivant montre comment acquérir une référence à la <xref:System.Windows.Application> objet en cours <xref:System.AppDomain>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-180">The following code shows how to acquire a reference to the <xref:System.Windows.Application> object for the current <xref:System.AppDomain>.</span></span>  
  
 [!code-csharp[ApplicationManagementOverviewSnippets#GetCurrentAppCODE](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/MainWindow.xaml.cs#getcurrentappcode)]
 [!code-vb[ApplicationManagementOverviewSnippets#GetCurrentAppCODE](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/VisualBasic/MainWindow.xaml.vb#getcurrentappcode)]  
  
 <span data-ttu-id="3cb3c-181"><xref:System.Windows.Application.Current%2A>Retourne une référence à une instance de la <xref:System.Windows.Application> classe.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-181"><xref:System.Windows.Application.Current%2A> returns a reference to an instance of the <xref:System.Windows.Application> class.</span></span> <span data-ttu-id="3cb3c-182">Si vous souhaitez une référence à votre <xref:System.Windows.Application> dérivée de classe, vous devez effectuer un cast de la valeur de la <xref:System.Windows.Application.Current%2A> la propriété, comme indiqué dans l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-182">If you want a reference to your <xref:System.Windows.Application> derived class you must cast the value of the <xref:System.Windows.Application.Current%2A> property, as shown in the following example.</span></span>  
  
 [!code-csharp[ApplicationManagementOverviewSnippets#GetSTCurrentAppCODE](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/MainWindow.xaml.cs#getstcurrentappcode)]
 [!code-vb[ApplicationManagementOverviewSnippets#GetSTCurrentAppCODE](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/VisualBasic/MainWindow.xaml.vb#getstcurrentappcode)]  
  
 <span data-ttu-id="3cb3c-183">Vous pouvez inspecter la valeur de <xref:System.Windows.Application.Current%2A> à tout moment dans la durée de vie d’un <xref:System.Windows.Application> objet.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-183">You can inspect the value of <xref:System.Windows.Application.Current%2A> at any point in the lifetime of an <xref:System.Windows.Application> object.</span></span> <span data-ttu-id="3cb3c-184">Toutefois, vous devez être vigilant.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-184">However, you should be careful.</span></span> <span data-ttu-id="3cb3c-185">Après le <xref:System.Windows.Application> classe est instancié, il existe une période pendant laquelle l’état de la <xref:System.Windows.Application> objet n’est pas cohérente.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-185">After the <xref:System.Windows.Application> class is instantiated, there is a period during which the state of the <xref:System.Windows.Application> object is inconsistent.</span></span> <span data-ttu-id="3cb3c-186">Pendant cette période, <xref:System.Windows.Application> effectue les diverses tâches d’initialisation qui sont requises par votre code à exécuter, notamment l’établissement de l’infrastructure d’application et définition des propriétés de l’inscription des événements.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-186">During this period, <xref:System.Windows.Application> is performing the various initialization tasks that are required by your code to run, including establishing application infrastructure, setting properties, and registering events.</span></span> <span data-ttu-id="3cb3c-187">Si vous essayez d’utiliser le <xref:System.Windows.Application> de l’objet pendant cette période, votre code peut avoir des résultats inattendus, en particulier s’il dépend des diverses <xref:System.Windows.Application> définition des propriétés.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-187">If you try to use the <xref:System.Windows.Application> object during this period, your code may have unexpected results, particularly if it depends on the various <xref:System.Windows.Application> properties being set.</span></span>  
  
 <span data-ttu-id="3cb3c-188">Lorsque <xref:System.Windows.Application> achève son initialisation, sa durée de vie commence réellement.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-188">When <xref:System.Windows.Application> completes its initialization work, its lifetime truly begins.</span></span>  
  
<a name="Application_Lifetime"></a>   
## <a name="application-lifetime"></a><span data-ttu-id="3cb3c-189">Durée de vie d’une application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-189">Application Lifetime</span></span>  
 <span data-ttu-id="3cb3c-190">La durée de vie d’un [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application est marquée par plusieurs événements déclenchés par <xref:System.Windows.Application> pour vous avertir lorsque votre application a démarré, a été activé et désactivé et a été arrêté.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-190">The lifetime of a [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] application is marked by several events that are raised by <xref:System.Windows.Application> to let you know when your application has started, has been activated and deactivated, and has been shut down.</span></span>  
  
  
<a name="Splash_Screen"></a>   
### <a name="splash-screen"></a><span data-ttu-id="3cb3c-191">Écran de démarrage</span><span class="sxs-lookup"><span data-stu-id="3cb3c-191">Splash Screen</span></span>  
 <span data-ttu-id="3cb3c-192">À compter de la [!INCLUDE[net_v35SP1_short](../../../../includes/net-v35sp1-short-md.md)], vous pouvez spécifier une image à utiliser dans une fenêtre de démarrage, ou *écran de démarrage*.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-192">Starting in the [!INCLUDE[net_v35SP1_short](../../../../includes/net-v35sp1-short-md.md)], you can specify an image to be used in a startup window, or *splash screen*.</span></span> <span data-ttu-id="3cb3c-193">La <xref:System.Windows.SplashScreen> classe facilite l’affichage d’une fenêtre de démarrage pendant le chargement de votre application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-193">The <xref:System.Windows.SplashScreen> class makes it easy to display a startup window while your application is loading.</span></span> <span data-ttu-id="3cb3c-194">Le <xref:System.Windows.SplashScreen> fenêtre est créée et affichée avant <xref:System.Windows.Application.Run%2A> est appelée.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-194">The <xref:System.Windows.SplashScreen> window is created and shown before <xref:System.Windows.Application.Run%2A> is called.</span></span> <span data-ttu-id="3cb3c-195">Pour plus d’informations, consultez [temps de démarrage d’Application](../../../../docs/framework/wpf/advanced/application-startup-time.md) et [ajouter un écran de démarrage pour une Application WPF](../../../../docs/framework/wpf/app-development/how-to-add-a-splash-screen-to-a-wpf-application.md).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-195">For more information, see [Application Startup Time](../../../../docs/framework/wpf/advanced/application-startup-time.md) and [Add a Splash Screen to a WPF Application](../../../../docs/framework/wpf/app-development/how-to-add-a-splash-screen-to-a-wpf-application.md).</span></span>  
  
<a name="Starting_an_Application"></a>   
### <a name="starting-an-application"></a><span data-ttu-id="3cb3c-196">Démarrage d’une application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-196">Starting an Application</span></span>  
 <span data-ttu-id="3cb3c-197">Après avoir <xref:System.Windows.Application.Run%2A> est appelée et que l’application est initialisée, l’application est prête à s’exécuter.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-197">After <xref:System.Windows.Application.Run%2A> is called and the application is initialized, the application is ready to run.</span></span> <span data-ttu-id="3cb3c-198">Ce moment est signifié le <xref:System.Windows.Application.Startup> événement est déclenché :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-198">This moment is signified when the <xref:System.Windows.Application.Startup> event is raised:</span></span>  
  
 [!code-csharp[ApplicationStartupSnippets#StartupCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml.cs#startupcodebehind1)]
 [!code-vb[ApplicationStartupSnippets#StartupCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationStartupSnippets/visualbasic/application.xaml.vb#startupcodebehind1)]  
[!code-csharp[ApplicationStartupSnippets#StartupCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml.cs#startupcodebehind2)]
[!code-vb[ApplicationStartupSnippets#StartupCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationStartupSnippets/visualbasic/application.xaml.vb#startupcodebehind2)]  
  
 <span data-ttu-id="3cb3c-199">À ce stade dans la durée de vie d’une application, la plus courante consiste à afficher un [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3cb3c-199">At this point in an application's lifetime, the most common thing to do is to show a [!INCLUDE[TLA2#tla_ui](../../../../includes/tla2sharptla-ui-md.md)].</span></span>  
  
<a name="Showing_a_User_Interface"></a>   
### <a name="showing-a-user-interface"></a><span data-ttu-id="3cb3c-200">Affichage d’une interface utilisateur</span><span class="sxs-lookup"><span data-stu-id="3cb3c-200">Showing a User Interface</span></span>  
 <span data-ttu-id="3cb3c-201">La plupart des autonome [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] applications ouvrir un <xref:System.Windows.Window> lorsqu’il démarre l’en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-201">Most standalone [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] applications open a <xref:System.Windows.Window> when they begin running.</span></span> <span data-ttu-id="3cb3c-202">Le <xref:System.Windows.Application.Startup> Gestionnaire d’événements est un emplacement à partir duquel vous pouvez effectuer, comme illustré dans le code suivant.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-202">The <xref:System.Windows.Application.Startup> event handler is one location from which you can do this, as demonstrated by the following code.</span></span>  
  
 [!code-xaml[AppShowWindowHardSnippets#StartupEventMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/AppShowWindowHardSnippets/CSharp/App.xaml#startupeventmarkup)]  
  
 [!code-csharp[AppShowWindowHardSnippets#StartupEventCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/AppShowWindowHardSnippets/CSharp/App.xaml.cs#startupeventcodebehind)]
 [!code-vb[AppShowWindowHardSnippets#StartupEventCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/AppShowWindowHardSnippets/VisualBasic/Application.xaml.vb#startupeventcodebehind)]  
  
> [!NOTE]
>  <span data-ttu-id="3cb3c-203">Le premier <xref:System.Windows.Window> pour être instancié dans un autonome application devient la fenêtre principale de l’application par défaut.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-203">The first <xref:System.Windows.Window> to be instantiated in a standalone application becomes the main application window by default.</span></span> <span data-ttu-id="3cb3c-204">Cela <xref:System.Windows.Window> objet est référencé par le <xref:System.Windows.Application.MainWindow%2A?displayProperty=nameWithType> propriété.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-204">This <xref:System.Windows.Window> object is referenced by the <xref:System.Windows.Application.MainWindow%2A?displayProperty=nameWithType> property.</span></span> <span data-ttu-id="3cb3c-205">La valeur de la <xref:System.Windows.Application.MainWindow%2A> propriété peut être modifiée par programme si une fenêtre différente de la première instancié <xref:System.Windows.Window> doit être la fenêtre principale.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-205">The value of the <xref:System.Windows.Application.MainWindow%2A> property can be changed programmatically if a different window than the first instantiated <xref:System.Windows.Window> should be the main window.</span></span>  
  
 <span data-ttu-id="3cb3c-206">Lorsqu’un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] démarre en premier, il accèdera très probablement à un <xref:System.Windows.Controls.Page>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-206">When an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] first starts, it will most likely navigate to a <xref:System.Windows.Controls.Page>.</span></span> <span data-ttu-id="3cb3c-207">Ceci est illustré dans le code suivant.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-207">This is shown in the following code.</span></span>  
  
 [!code-xaml[XBAPAppStartupSnippets#StartupXBAPMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppStartupSnippets/CSharp/App.xaml#startupxbapmarkup)]  
  
 [!code-csharp[XBAPAppStartupSnippets#StartupXBAPCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/XBAPAppStartupSnippets/CSharp/App.xaml.cs#startupxbapcodebehind)]
 [!code-vb[XBAPAppStartupSnippets#StartupXBAPCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/XBAPAppStartupSnippets/VisualBasic/Application.xaml.vb#startupxbapcodebehind)]  
  
 <span data-ttu-id="3cb3c-208">Si vous gérez <xref:System.Windows.Application.Startup> à ouvrir uniquement un <xref:System.Windows.Window> ou accédez à un <xref:System.Windows.Controls.Page>, vous pouvez définir le `StartupUri` à la place l’attribut dans le balisage.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-208">If you handle <xref:System.Windows.Application.Startup> to only open a <xref:System.Windows.Window> or navigate to a <xref:System.Windows.Controls.Page>, you can set the `StartupUri` attribute in markup instead.</span></span>  
  
 <span data-ttu-id="3cb3c-209">L’exemple suivant montre comment utiliser le <xref:System.Windows.Application.StartupUri%2A> à partir d’une application autonome pour ouvrir une <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-209">The following example shows how to use the <xref:System.Windows.Application.StartupUri%2A> from a standalone application to open a <xref:System.Windows.Window>.</span></span>  
  
 [!code-xaml[ApplicationManagementOverviewSnippets#OverviewStartupUriMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationManagementOverviewSnippets/CSharp/App.xaml#overviewstartupurimarkup)]  
  
 <span data-ttu-id="3cb3c-210">L’exemple suivant montre comment utiliser <xref:System.Windows.Application.StartupUri%2A> d’un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] pour accéder à un <xref:System.Windows.Controls.Page>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-210">The following example shows how to use <xref:System.Windows.Application.StartupUri%2A> from an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] to navigate to a <xref:System.Windows.Controls.Page>.</span></span>  
  
 [!code-xaml[PageSnippets#XBAPStartupUriMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/PageSnippets/CSharp/App.xaml#xbapstartupurimarkup)]  
  
 <span data-ttu-id="3cb3c-211">Ce balisage a le même effet que le code précédent pour ouvrir une fenêtre.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-211">This markup has the same effect as the previous code for opening a window.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3cb3c-212">Pour plus d’informations sur la navigation, consultez [vue d’ensemble de la Navigation](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-212">For more information on navigation, see [Navigation Overview](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span></span>  
  
 <span data-ttu-id="3cb3c-213">Vous devez gérer le <xref:System.Windows.Application.Startup> pour ouvrir un <xref:System.Windows.Window> si vous devez instancier à l’aide d’un constructeur par défaut, ou vous devez définir ses propriétés ou s’abonner à ses événements avant de les afficher, ou vous devez traiter tous les arguments de ligne de commande qui a été fourni lorsque l’application a été lancée.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-213">You need to handle the <xref:System.Windows.Application.Startup> event to open a <xref:System.Windows.Window> if you need to instantiate it using a non-default constructor, or you need to set its properties or subscribe to its events before showing it, or you need to process any command-line arguments that were supplied when the application was launched.</span></span>  
  
<a name="Processing_Command_Line_Arguments"></a>   
### <a name="processing-command-line-arguments"></a><span data-ttu-id="3cb3c-214">Traitement des arguments de ligne de commande</span><span class="sxs-lookup"><span data-stu-id="3cb3c-214">Processing Command-Line Arguments</span></span>  
 <span data-ttu-id="3cb3c-215">Dans [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)], applications autonomes peuvent être lancées à partir d’une invite de commandes ou sur le bureau.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-215">In [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)], standalone applications can be launched from either a command prompt or the desktop.</span></span> <span data-ttu-id="3cb3c-216">Dans les deux cas, les arguments de ligne de commande peuvent être passés à l’application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-216">In both cases, command-line arguments can be passed to the application.</span></span> <span data-ttu-id="3cb3c-217">L’exemple suivant montre une application qui est lancée avec un seul argument de ligne de commande, « /StartMinimized » :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-217">The following example shows an application that is launched with a single command-line argument, "/StartMinimized":</span></span>  
  
 `wpfapplication.exe /StartMinimized`  
  
 <span data-ttu-id="3cb3c-218">Pendant l’initialisation d’application, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] récupère les arguments de ligne de commande du système d’exploitation et les transmet à la <xref:System.Windows.Application.Startup> Gestionnaire d’événements via la <xref:System.Windows.StartupEventArgs.Args%2A> propriété de le <xref:System.Windows.StartupEventArgs> paramètre.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-218">During application initialization, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] retrieves the command-line arguments from the operating system and passes them to the <xref:System.Windows.Application.Startup> event handler via the <xref:System.Windows.StartupEventArgs.Args%2A> property of the <xref:System.Windows.StartupEventArgs> parameter.</span></span> <span data-ttu-id="3cb3c-219">Vous pouvez récupérer et stocker les arguments de ligne de commande à l’aide de code similaire au suivant.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-219">You can retrieve and store the command-line arguments using code like the following.</span></span>  
  
 [!code-xaml[ApplicationStartupSnippets#HandleStartupXAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml#handlestartupxaml)]  
  
 [!code-csharp[ApplicationStartupSnippets#HandleStartupCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationStartupSnippets/CSharp/App.xaml.cs#handlestartupcodebehind)]
 [!code-vb[ApplicationStartupSnippets#HandleStartupCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationStartupSnippets/visualbasic/application.xaml.vb#handlestartupcodebehind)]  
  
 <span data-ttu-id="3cb3c-220">Le code gère <xref:System.Windows.Application.Startup> pour vérifier si le **/StartMinimized** argument de ligne de commande a été fourni, dans ce cas, il ouvre la fenêtre principale avec un <xref:System.Windows.WindowState> de <xref:System.Windows.WindowState.Minimized>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-220">The code handles <xref:System.Windows.Application.Startup> to check whether the **/StartMinimized** command-line argument was provided; if so, it opens the main window with a <xref:System.Windows.WindowState> of <xref:System.Windows.WindowState.Minimized>.</span></span> <span data-ttu-id="3cb3c-221">Étant donné que la <xref:System.Windows.Window.WindowState%2A> propriété doit être définie par programme, le principal <xref:System.Windows.Window> doit être ouverte explicitement dans le code.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-221">Note that because the <xref:System.Windows.Window.WindowState%2A> property must be set programmatically, the main <xref:System.Windows.Window> must be opened explicitly in code.</span></span>  
  
 [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)]<span data-ttu-id="3cb3c-222">ne peut pas récupérer et traiter des arguments de ligne de commande, car elles sont lancées à l’aide de [!INCLUDE[TLA#tla_clickonce](../../../../includes/tlasharptla-clickonce-md.md)] déploiement (voir [déploiement d’une Application WPF](../../../../docs/framework/wpf/app-development/deploying-a-wpf-application-wpf.md)).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-222"> cannot retrieve and process command-line arguments because they are launched using [!INCLUDE[TLA#tla_clickonce](../../../../includes/tlasharptla-clickonce-md.md)] deployment (see [Deploying a WPF Application](../../../../docs/framework/wpf/app-development/deploying-a-wpf-application-wpf.md)).</span></span> <span data-ttu-id="3cb3c-223">En revanche, ils peuvent récupérer et traiter des paramètres de chaîne de requête à partir des URL servant à les lancer.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-223">However, they can retrieve and process query string parameters from the URLs that are used to launch them.</span></span>  
  
<a name="Application_Activation_and_Deactivation"></a>   
### <a name="application-activation-and-deactivation"></a><span data-ttu-id="3cb3c-224">Activation et désactivation d’une application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-224">Application Activation and Deactivation</span></span>  
 [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)]<span data-ttu-id="3cb3c-225"> permet aux utilisateurs de basculer entre les applications.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-225"> allows users to switch between applications.</span></span> <span data-ttu-id="3cb3c-226">La façon la plus courante consiste à utiliser la combinaison de touches ALT+TAB.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-226">The most common way is to use the ALT+TAB key combination.</span></span> <span data-ttu-id="3cb3c-227">Une application ne peut être basculée vers s’il a un visible <xref:System.Windows.Window> que l’utilisateur peut sélectionner.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-227">An application can only be switched to if it has a visible <xref:System.Windows.Window> that a user can select.</span></span> <span data-ttu-id="3cb3c-228">Actuellement sélectionné <xref:System.Windows.Window> est la *fenêtre active* (également connu sous le *fenêtre de premier plan*) et est le <xref:System.Windows.Window> qui reçoit l’entrée d’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-228">The currently selected <xref:System.Windows.Window> is the *active window* (also known as the *foreground window*) and is the <xref:System.Windows.Window> that receives user input.</span></span> <span data-ttu-id="3cb3c-229">L’application à la fenêtre active est la *application active* (ou *application de premier plan*).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-229">The application with the active window is the *active application* (or *foreground application*).</span></span> <span data-ttu-id="3cb3c-230">Une application devient l’application active dans les circonstances suivantes :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-230">An application becomes the active application in the following circumstances:</span></span>  
  
-   <span data-ttu-id="3cb3c-231">Elle est lancée et affiche un <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-231">It is launched and shows a <xref:System.Windows.Window>.</span></span>  
  
-   <span data-ttu-id="3cb3c-232">Un utilisateur bascule d’une autre application en sélectionnant un <xref:System.Windows.Window> dans l’application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-232">A user switches from another application by selecting a <xref:System.Windows.Window> in the application.</span></span>  
  
 <span data-ttu-id="3cb3c-233">Vous pouvez détecter qu’une application devient active en gérant le <xref:System.Windows.Application.Activated?displayProperty=nameWithType> événement.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-233">You can detect when an application becomes active by handling the <xref:System.Windows.Application.Activated?displayProperty=nameWithType> event.</span></span>  
  
 <span data-ttu-id="3cb3c-234">De même, une application peut devenir inactive dans les circonstances suivantes :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-234">Likewise, an application can become inactive in the following circumstances:</span></span>  
  
-   <span data-ttu-id="3cb3c-235">Un utilisateur bascule vers une autre application à partir de l’application active.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-235">A user switches to another application from the current one.</span></span>  
  
-   <span data-ttu-id="3cb3c-236">L’application s’arrête.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-236">When the application shuts down.</span></span>  
  
 <span data-ttu-id="3cb3c-237">Vous pouvez détecter qu’une application est devenue inactive en gérant le <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> événement.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-237">You can detect when an application becomes inactive by handling the <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> event.</span></span>  
  
 <span data-ttu-id="3cb3c-238">Le code suivant montre comment gérer les <xref:System.Windows.Application.Activated> et <xref:System.Windows.Application.Deactivated> événements afin de déterminer si une application est active.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-238">The following code shows how to handle the <xref:System.Windows.Application.Activated> and <xref:System.Windows.Application.Deactivated> events to determine whether an application is active.</span></span>  
  
 [!code-xaml[ApplicationActivationSnippets#DetectActivationStateXAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationActivationSnippets/CSharp/App.xaml#detectactivationstatexaml)]  
  
 [!code-csharp[ApplicationActivationSnippets#DetectActivationStateCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationActivationSnippets/CSharp/App.xaml.cs#detectactivationstatecodebehind)]
 [!code-vb[ApplicationActivationSnippets#DetectActivationStateCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationActivationSnippets/visualbasic/application.xaml.vb#detectactivationstatecodebehind)]  
  
 <span data-ttu-id="3cb3c-239">Un <xref:System.Windows.Window> peut également être activée et désactivée.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-239">A <xref:System.Windows.Window> can also be activated and deactivated.</span></span> <span data-ttu-id="3cb3c-240">Pour plus d'informations, consultez <xref:System.Windows.Window.Activated?displayProperty=nameWithType> et <xref:System.Windows.Window.Deactivated?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-240">See <xref:System.Windows.Window.Activated?displayProperty=nameWithType> and <xref:System.Windows.Window.Deactivated?displayProperty=nameWithType> for more information.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3cb3c-241">Ni <xref:System.Windows.Application.Activated?displayProperty=nameWithType> ni <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> est déclenché pour [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3cb3c-241">Neither <xref:System.Windows.Application.Activated?displayProperty=nameWithType> nor <xref:System.Windows.Application.Deactivated?displayProperty=nameWithType> is raised for [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span>  
  
<a name="Application_Shutdown"></a>   
### <a name="application-shutdown"></a><span data-ttu-id="3cb3c-242">Arrêt d’une application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-242">Application Shutdown</span></span>  
 <span data-ttu-id="3cb3c-243">La durée de vie d’une application s’achève quand elle est arrêtée, ce qui peut se produire pour les raisons suivantes :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-243">The life of an application ends when it is shut down, which can occur for the following reasons:</span></span>  
  
-   <span data-ttu-id="3cb3c-244">Un utilisateur ferme chaque <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-244">A user closes every <xref:System.Windows.Window>.</span></span>  
  
-   <span data-ttu-id="3cb3c-245">Un utilisateur ferme le principal <xref:System.Windows.Window>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-245">A user closes the main <xref:System.Windows.Window>.</span></span>  
  
-   <span data-ttu-id="3cb3c-246">Un utilisateur met fin à la [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session par session ou l’arrêt.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-246">A user ends the [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session by logging off or shutting down.</span></span>  
  
-   <span data-ttu-id="3cb3c-247">Une condition spécifique à l’application a été remplie.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-247">An application-specific condition has been met.</span></span>  
  
 <span data-ttu-id="3cb3c-248">Pour vous aider à gérer l’arrêt de l’application, <xref:System.Windows.Application> fournit le <xref:System.Windows.Application.Shutdown%2A> (méthode), la <xref:System.Windows.Application.ShutdownMode%2A> propriété et le <xref:System.Windows.Application.SessionEnding> et <xref:System.Windows.Application.Exit> les événements.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-248">To help you manage application shutdown, <xref:System.Windows.Application> provides the <xref:System.Windows.Application.Shutdown%2A> method, the <xref:System.Windows.Application.ShutdownMode%2A> property, and the <xref:System.Windows.Application.SessionEnding> and <xref:System.Windows.Application.Exit> events.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3cb3c-249"><xref:System.Windows.Application.Shutdown%2A>peut uniquement être appelée à partir d’applications qui ont <xref:System.Security.Permissions.UIPermission>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-249"><xref:System.Windows.Application.Shutdown%2A> can only be called from applications that have <xref:System.Security.Permissions.UIPermission>.</span></span> <span data-ttu-id="3cb3c-250">Autonome [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications ont toujours cette autorisation.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-250">Standalone [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications always have this permission.</span></span> <span data-ttu-id="3cb3c-251">Toutefois, [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] en cours d’exécution dans le bac à sable de la sécurité de confiance partielle de la zone Internet ne sont pas.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-251">However, [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] running in the Internet zone partial-trust security sandbox do not.</span></span>  
  
#### <a name="shutdown-mode"></a><span data-ttu-id="3cb3c-252">Mode d’arrêt</span><span class="sxs-lookup"><span data-stu-id="3cb3c-252">Shutdown Mode</span></span>  
 <span data-ttu-id="3cb3c-253">La plupart des applications s’arrêtent à la fermeture de toutes les fenêtres ou de la fenêtre principale.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-253">Most applications shut down either when all the windows are closed or when the main window is closed.</span></span> <span data-ttu-id="3cb3c-254">Toutefois, d’autres conditions spécifiques à l’application peuvent parfois déterminer l’arrêt d’une application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-254">Sometimes, however, other application-specific conditions may determine when an application shuts down.</span></span> <span data-ttu-id="3cb3c-255">Vous pouvez spécifier les conditions dans lesquelles votre application s’arrête en définissant <xref:System.Windows.Application.ShutdownMode%2A> avec l’une des opérations suivantes <xref:System.Windows.ShutdownMode> valeurs d’énumération :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-255">You can specify the conditions under which your application will shut down by setting <xref:System.Windows.Application.ShutdownMode%2A> with one of the following <xref:System.Windows.ShutdownMode> enumeration values:</span></span>  
  
-   <xref:System.Windows.ShutdownMode.OnLastWindowClose>  
  
-   <xref:System.Windows.ShutdownMode.OnMainWindowClose>  
  
-   <xref:System.Windows.ShutdownMode.OnExplicitShutdown>  
  
 <span data-ttu-id="3cb3c-256">La valeur par défaut <xref:System.Windows.Application.ShutdownMode%2A> est <xref:System.Windows.ShutdownMode.OnLastWindowClose>, ce qui signifie qu’une application s’arrête automatiquement lorsque la dernière fenêtre de l’application est fermée par l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-256">The default value of <xref:System.Windows.Application.ShutdownMode%2A> is <xref:System.Windows.ShutdownMode.OnLastWindowClose>, which means that an application automatically shuts down when the last window in the application is closed by the user.</span></span> <span data-ttu-id="3cb3c-257">Toutefois, si votre application doit s’arrêter lorsque la fenêtre principale est fermée, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] qui effectue automatiquement si vous définissez <xref:System.Windows.Application.ShutdownMode%2A> à <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-257">However, if your application should be shut down when the main window is closed, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] automatically does that if you set <xref:System.Windows.Application.ShutdownMode%2A> to <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span></span> <span data-ttu-id="3cb3c-258">L'exemple suivant le démontre.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-258">This is shown in the following example.</span></span>  
  
 [!code-xaml[ApplicationShutdownModeSnippets#OnMainWindowCloseMARKUP](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationShutdownModeSnippets/CS/Page1.xaml#onmainwindowclosemarkup)]  
  
 <span data-ttu-id="3cb3c-259">Lorsque vous avez des conditions d’arrêt spécifiques à l’application, vous définissez <xref:System.Windows.Application.ShutdownMode%2A> à <xref:System.Windows.ShutdownMode.OnExplicitShutdown>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-259">When you have application-specific shutdown conditions, you set <xref:System.Windows.Application.ShutdownMode%2A> to <xref:System.Windows.ShutdownMode.OnExplicitShutdown>.</span></span> <span data-ttu-id="3cb3c-260">Dans ce cas, il vous incombe d’arrêter une application en appelant explicitement la <xref:System.Windows.Application.Shutdown%2A> méthode ; sinon, votre application continue à s’exécuter même si toutes les fenêtres sont fermées.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-260">In this case, it is your responsibility to shut an application down by explicitly calling the <xref:System.Windows.Application.Shutdown%2A> method; otherwise, your application will continue running even if all the windows are closed.</span></span> <span data-ttu-id="3cb3c-261">Notez que <xref:System.Windows.Application.Shutdown%2A> est appelée implicitement lorsque le <xref:System.Windows.Application.ShutdownMode%2A> est <xref:System.Windows.ShutdownMode.OnLastWindowClose> ou <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-261">Note that <xref:System.Windows.Application.Shutdown%2A> is called implicitly when the <xref:System.Windows.Application.ShutdownMode%2A> is either <xref:System.Windows.ShutdownMode.OnLastWindowClose> or <xref:System.Windows.ShutdownMode.OnMainWindowClose>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3cb3c-262"><xref:System.Windows.Application.ShutdownMode%2A>peut être définie à partir d’un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], mais elle est ignorée ; un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] est toujours arrêté quand elle est source de la navigation dans un navigateur ou lorsque le navigateur qui héberge le [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] est fermé.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-262"><xref:System.Windows.Application.ShutdownMode%2A> can be set from an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], but it is ignored; an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is always shut down when it is navigated away from in a browser or when the browser that hosts the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is closed.</span></span> <span data-ttu-id="3cb3c-263">Pour plus d’informations, consultez [Vue d’ensemble de la navigation](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-263">For more information, see [Navigation Overview](../../../../docs/framework/wpf/app-development/navigation-overview.md).</span></span>  
  
#### <a name="session-ending"></a><span data-ttu-id="3cb3c-264">Fin de session</span><span class="sxs-lookup"><span data-stu-id="3cb3c-264">Session Ending</span></span>  
 <span data-ttu-id="3cb3c-265">Les conditions d’arrêt qui sont décrits par le <xref:System.Windows.Application.ShutdownMode%2A> propriété sont spécifiques à une application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-265">The shutdown conditions that are described by the <xref:System.Windows.Application.ShutdownMode%2A> property are specific to an application.</span></span> <span data-ttu-id="3cb3c-266">Dans certains cas, pourtant, une application peut s’arrêter à la suite d’une condition externe.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-266">In some cases, though, an application may shut down as a result of an external condition.</span></span> <span data-ttu-id="3cb3c-267">La condition externe la plus courante se produit lorsqu’un utilisateur termine le [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session par les actions suivantes :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-267">The most common external condition occurs when a user ends the [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session by the following actions:</span></span>  
  
-   <span data-ttu-id="3cb3c-268">Déconnexion</span><span class="sxs-lookup"><span data-stu-id="3cb3c-268">Logging off</span></span>  
  
-   <span data-ttu-id="3cb3c-269">Arrêt</span><span class="sxs-lookup"><span data-stu-id="3cb3c-269">Shutting down</span></span>  
  
-   <span data-ttu-id="3cb3c-270">Redémarrage</span><span class="sxs-lookup"><span data-stu-id="3cb3c-270">Restarting</span></span>  
  
-   <span data-ttu-id="3cb3c-271">Mise en veille prolongée</span><span class="sxs-lookup"><span data-stu-id="3cb3c-271">Hibernating</span></span>  
  
 <span data-ttu-id="3cb3c-272">Pour détecter un [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] fin de la session, vous pouvez gérer le <xref:System.Windows.Application.SessionEnding> événement, comme illustré dans l’exemple suivant.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-272">To detect when a [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session ends, you can handle the <xref:System.Windows.Application.SessionEnding> event, as illustrated in the following example.</span></span>  
  
 [!code-xaml[ApplicationSessionEndingSnippets#HandlingSessionEndingXAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/CSharp/App.xaml#handlingsessionendingxaml)]  
  
 [!code-csharp[ApplicationSessionEndingSnippets#HandlingSessionEndingCODEBEHIND](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/CSharp/App.xaml.cs#handlingsessionendingcodebehind)]
 [!code-vb[ApplicationSessionEndingSnippets#HandlingSessionEndingCODEBEHIND](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationSessionEndingSnippets/visualbasic/application.xaml.vb#handlingsessionendingcodebehind)]  
  
 <span data-ttu-id="3cb3c-273">Dans cet exemple, le code inspecte le <xref:System.Windows.SessionEndingCancelEventArgs.ReasonSessionEnding%2A> propriété pour déterminer comment la [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session prend fin.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-273">In this example, the code inspects the <xref:System.Windows.SessionEndingCancelEventArgs.ReasonSessionEnding%2A> property to determine how the [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session is ending.</span></span> <span data-ttu-id="3cb3c-274">Il utilise cette valeur pour afficher un message de confirmation à l’attention de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-274">It uses this value to display a confirmation message to the user.</span></span> <span data-ttu-id="3cb3c-275">Si l’utilisateur ne souhaite pas que la session se termine, le code définit <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> à `true` pour empêcher la [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session à partir de la fin.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-275">If the user does not want the session to end, the code sets <xref:System.ComponentModel.CancelEventArgs.Cancel%2A> to `true` to prevent the [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] session from ending.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3cb3c-276"><xref:System.Windows.Application.SessionEnding>n’est pas déclenché pour [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3cb3c-276"><xref:System.Windows.Application.SessionEnding> is not raised for [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span>  
  
#### <a name="exit"></a><span data-ttu-id="3cb3c-277">Exit</span><span class="sxs-lookup"><span data-stu-id="3cb3c-277">Exit</span></span>  
 <span data-ttu-id="3cb3c-278">Quand une application s’arrête, il peut s’avérer nécessaire d’effectuer quelque traitement final, par exemple rendre persistant l’état de l’application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-278">When an application shuts down, it may need to perform some final processing, such as persisting application state.</span></span> <span data-ttu-id="3cb3c-279">Pour ces situations, vous pouvez gérer le <xref:System.Windows.Application.Exit> événement.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-279">For these situations, you can handle the <xref:System.Windows.Application.Exit> event.</span></span>  
  
 [!code-xaml[HOWTOApplicationModelSnippets#PersistRestoreAppScopePropertiesXAML1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml#persistrestoreappscopepropertiesxaml1)]  
[!code-xaml[HOWTOApplicationModelSnippets#PersistRestoreAppScopePropertiesXAML2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml#persistrestoreappscopepropertiesxaml2)]  
  
 [!code-csharp[HOWTOApplicationModelSnippets#PersistAppScopePropertiesCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml.cs#persistappscopepropertiescodebehind1)]
 [!code-vb[HOWTOApplicationModelSnippets#PersistAppScopePropertiesCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/visualbasic/application.xaml.vb#persistappscopepropertiescodebehind1)]  
[!code-csharp[HOWTOApplicationModelSnippets#PersistAppScopePropertiesCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/CSharp/App.xaml.cs#persistappscopepropertiescodebehind2)]
[!code-vb[HOWTOApplicationModelSnippets#PersistAppScopePropertiesCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/HOWTOApplicationModelSnippets/visualbasic/application.xaml.vb#persistappscopepropertiescodebehind2)]  
  
 <span data-ttu-id="3cb3c-280">Pour obtenir un exemple complet, consultez [conserver et restaurer de portée Application propriétés entre les Sessions de l’Application](../../../../docs/framework/wpf/app-development/persist-and-restore-application-scope-properties.md).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-280">For the complete example, see [Persist and Restore Application-Scope Properties Across Application Sessions](../../../../docs/framework/wpf/app-development/persist-and-restore-application-scope-properties.md).</span></span>  
  
 <span data-ttu-id="3cb3c-281"><xref:System.Windows.Application.Exit>peut être gérée par les applications autonomes et [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3cb3c-281"><xref:System.Windows.Application.Exit> can be handled by both standalone applications and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span> <span data-ttu-id="3cb3c-282">Pour [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], <xref:System.Windows.Application.Exit> est déclenché dans les circonstances suivantes :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-282">For [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)], <xref:System.Windows.Application.Exit> is raised when in the following circumstances:</span></span>  
  
-   <span data-ttu-id="3cb3c-283">Un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] utilisateur quitte.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-283">An [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is navigated away from.</span></span>  
  
-   <span data-ttu-id="3cb3c-284">Dans [!INCLUDE[TLA2#tla_ie7](../../../../includes/tla2sharptla-ie7-md.md)], lorsque l’onglet qui héberge le [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] est fermé.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-284">In [!INCLUDE[TLA2#tla_ie7](../../../../includes/tla2sharptla-ie7-md.md)], when the tab that is hosting the [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)] is closed.</span></span>  
  
-   <span data-ttu-id="3cb3c-285">Le navigateur est fermé.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-285">When the browser is closed.</span></span>  
  
#### <a name="exit-code"></a><span data-ttu-id="3cb3c-286">Code de sortie</span><span class="sxs-lookup"><span data-stu-id="3cb3c-286">Exit Code</span></span>  
 <span data-ttu-id="3cb3c-287">Les applications sont principalement lancées par le système d’exploitation en réponse à une requête de l’utilisateur.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-287">Applications are mostly launched by the operating system in response to a user request.</span></span> <span data-ttu-id="3cb3c-288">Toutefois, une application peut être lancée par une autre application pour effectuer une tâche spécifique.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-288">However, an application can be launched by another application to perform some specific task.</span></span> <span data-ttu-id="3cb3c-289">Quand l’application lancée s’arrête, il est possible que l’application de lancement souhaite connaître la condition dans laquelle s’est effectué cet arrêt.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-289">When the launched application shuts down, the launching application may want to know the condition under which the launched application shut down.</span></span> <span data-ttu-id="3cb3c-290">Dans ces situations, [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] permet aux applications de retourner un code de sortie d’application à l’arrêt.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-290">In these situations, [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] allows applications to return an application exit code on shutdown.</span></span> <span data-ttu-id="3cb3c-291">Par défaut, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications retournent une valeur de code de sortie de 0.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-291">By default, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] applications return an exit code value of 0.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3cb3c-292">Lorsque vous déboguez à partir de [!INCLUDE[TLA2#tla_visualstu](../../../../includes/tla2sharptla-visualstu-md.md)], le code de sortie d’application s’affiche dans le **sortie** fenêtre lorsque l’application s’arrête, dans un message qui ressemble à ce qui suit :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-292">When you debug from [!INCLUDE[TLA2#tla_visualstu](../../../../includes/tla2sharptla-visualstu-md.md)], the application exit code is displayed in the     **Output** window when the application shuts down, in a message that looks like the following:</span></span>  
>   
>  `The program '[5340] AWPFApp.vshost.exe: Managed' has exited with code 0 (0x0).`  
>   
>  <span data-ttu-id="3cb3c-293">Vous ouvrez le **sortie** fenêtre en cliquant sur **sortie** sur la **vue** menu.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-293">You open the     **Output** window by clicking     **Output** on the     **View** menu.</span></span>  
  
 <span data-ttu-id="3cb3c-294">Pour modifier le code de sortie, vous pouvez appeler la <xref:System.Windows.Application.Shutdown%28System.Int32%29> surcharge qui accepte un argument entier soit le code de sortie :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-294">To change the exit code, you can call the <xref:System.Windows.Application.Shutdown%28System.Int32%29> overload, which accepts an integer argument to be the exit code:</span></span>  
  
 [!code-csharp[ApplicationExitSnippets#AppExitCODE](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationExitSnippets/CSharp/MainWindow.xaml.cs#appexitcode)]
 [!code-vb[ApplicationExitSnippets#AppExitCODE](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationExitSnippets/visualbasic/mainwindow.xaml.vb#appexitcode)]  
  
 <span data-ttu-id="3cb3c-295">Vous pouvez détecter la valeur de code de sortie et remplacez-la par la gestion de la <xref:System.Windows.Application.Exit> événement.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-295">You can detect the value of the exit code, and change it, by handling the <xref:System.Windows.Application.Exit> event.</span></span> <span data-ttu-id="3cb3c-296">Le <xref:System.Windows.Application.Exit> Gestionnaire d’événements reçoit un <xref:System.Windows.ExitEventArgs> qui fournit l’accès au code de sortie avec la <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A> propriété.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-296">The <xref:System.Windows.Application.Exit> event handler is passed an <xref:System.Windows.ExitEventArgs> which provides access to the exit code with the <xref:System.Windows.ExitEventArgs.ApplicationExitCode%2A> property.</span></span> <span data-ttu-id="3cb3c-297">Pour plus d'informations, consultez <xref:System.Windows.Application.Exit>.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-297">For more information, see <xref:System.Windows.Application.Exit>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="3cb3c-298">Vous pouvez définir le code de sortie dans les applications autonomes et [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3cb3c-298">You can set the exit code in both standalone applications and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span> <span data-ttu-id="3cb3c-299">Toutefois, la valeur de code de sortie est ignorée pour [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span><span class="sxs-lookup"><span data-stu-id="3cb3c-299">However, the exit code value is ignored for [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)].</span></span>  
  
<a name="Unhandled_Exceptions"></a>   
### <a name="unhandled-exceptions"></a><span data-ttu-id="3cb3c-300">Exceptions non gérées</span><span class="sxs-lookup"><span data-stu-id="3cb3c-300">Unhandled Exceptions</span></span>  
 <span data-ttu-id="3cb3c-301">Il peut parfois arriver qu’une application s’arrête anormalement, par exemple en cas d’exception inattendue.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-301">Sometimes an application may shut down under abnormal conditions, such as when an unanticipated exception is thrown.</span></span> <span data-ttu-id="3cb3c-302">Dans ce cas, il est possible qu’elle n’ait pas le code nécessaire à la détection et au traitement de l’exception.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-302">In this case, the application may not have the code to detect and process the exception.</span></span> <span data-ttu-id="3cb3c-303">Ce type d’exception est une exception non gérée ; une notification similaire à celle illustrée dans la figure ci-dessous s’affiche avant la fermeture de l’application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-303">This type of exception is an unhandled exception; a notification similar to that shown in the following figure is displayed before the application is closed.</span></span>  
  
 <span data-ttu-id="3cb3c-304">![Notification d’exception non gérée](../../../../docs/framework/wpf/app-development/media/applicationmanagementoverviewfigure2.png "ApplicationManagementOverviewFigure2")</span><span class="sxs-lookup"><span data-stu-id="3cb3c-304">![Unhandled exception notification](../../../../docs/framework/wpf/app-development/media/applicationmanagementoverviewfigure2.png "ApplicationManagementOverviewFigure2")</span></span>  
  
 <span data-ttu-id="3cb3c-305">Du point de vue de l’expérience utilisateur, il est préférable pour une application d’éviter ce comportement par défaut en effectuant certaines ou l’ensemble des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="3cb3c-305">From the user experience perspective, it is better for an application to avoid this default behavior by doing some or all of the following:</span></span>  
  
-   <span data-ttu-id="3cb3c-306">Affichage d’informations conviviales.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-306">Displaying user-friendly information.</span></span>  
  
-   <span data-ttu-id="3cb3c-307">Tentative de maintenir une application en cours d’exécution.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-307">Attempting to keep an application running.</span></span>  
  
-   <span data-ttu-id="3cb3c-308">L’enregistrement des informations détaillées, conviviales et des exceptions dans les [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] journal des événements.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-308">Recording detailed, developer-friendly, exception information in the [!INCLUDE[TLA2#tla_mswin](../../../../includes/tla2sharptla-mswin-md.md)] event log.</span></span>  
  
 <span data-ttu-id="3cb3c-309">Implémentation de cette prise en charge dépend de qui est en mesure de détecter les exceptions non gérées, qui est ce que le <xref:System.Windows.Application.DispatcherUnhandledException> événement est déclenché pour.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-309">Implementing this support depends on being able to detect unhandled exceptions, which is what the <xref:System.Windows.Application.DispatcherUnhandledException> event is raised for.</span></span>  
  
 [!code-xaml[ApplicationDispatcherUnhandledExceptionSnippets#HandleDispatcherUnhandledExceptionXAML](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/CSharp/App.xaml#handledispatcherunhandledexceptionxaml)]  
  
 [!code-csharp[ApplicationDispatcherUnhandledExceptionSnippets#HandleDispatcherUnhandledExceptionCODEBEHIND1](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/CSharp/App.xaml.cs#handledispatcherunhandledexceptioncodebehind1)]
 [!code-vb[ApplicationDispatcherUnhandledExceptionSnippets#HandleDispatcherUnhandledExceptionCODEBEHIND1](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/visualbasic/application.xaml.vb#handledispatcherunhandledexceptioncodebehind1)]  
[!code-csharp[ApplicationDispatcherUnhandledExceptionSnippets#HandleDispatcherUnhandledExceptionCODEBEHIND2](../../../../samples/snippets/csharp/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/CSharp/App.xaml.cs#handledispatcherunhandledexceptioncodebehind2)]
[!code-vb[ApplicationDispatcherUnhandledExceptionSnippets#HandleDispatcherUnhandledExceptionCODEBEHIND2](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/ApplicationDispatcherUnhandledExceptionSnippets/visualbasic/application.xaml.vb#handledispatcherunhandledexceptioncodebehind2)]  
  
 <span data-ttu-id="3cb3c-310">Le <xref:System.Windows.Application.DispatcherUnhandledException> Gestionnaire d’événements reçoit un <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs> paramètre qui contient des informations contextuelles concernant l’exception non gérée, y compris l’exception proprement dit (<xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Exception%2A?displayProperty=nameWithType>).</span><span class="sxs-lookup"><span data-stu-id="3cb3c-310">The <xref:System.Windows.Application.DispatcherUnhandledException> event handler is passed a <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs> parameter that contains contextual information regarding the unhandled exception, including the exception itself (<xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Exception%2A?displayProperty=nameWithType>).</span></span> <span data-ttu-id="3cb3c-311">Vous pouvez utiliser ces informations pour déterminer comment gérer l’exception.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-311">You can use this information to determine how to handle the exception.</span></span>  
  
 <span data-ttu-id="3cb3c-312">Lorsque vous gérez <xref:System.Windows.Application.DispatcherUnhandledException>, vous devez définir le <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A?displayProperty=nameWithType> propriété `true`; sinon, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] toujours considère que l’exception non gérée et rétablit le comportement par défaut décrit précédemment.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-312">When you handle <xref:System.Windows.Application.DispatcherUnhandledException>, you should set the <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A?displayProperty=nameWithType> property to `true`; otherwise, [!INCLUDE[TLA2#tla_wpf](../../../../includes/tla2sharptla-wpf-md.md)] still considers the exception to be unhandled and reverts to the default behavior described earlier.</span></span> <span data-ttu-id="3cb3c-313">Si une exception non gérée est levée et la <xref:System.Windows.Application.DispatcherUnhandledException> événement n’est pas géré, ou l’événement est géré et <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A> a la valeur `false`, l’application s’arrête immédiatement.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-313">If an unhandled exception is raised and either the <xref:System.Windows.Application.DispatcherUnhandledException> event is not handled, or the event is handled and <xref:System.Windows.Threading.DispatcherUnhandledExceptionEventArgs.Handled%2A> is set to `false`, the application shuts down immediately.</span></span> <span data-ttu-id="3cb3c-314">En outre, aucun autre <xref:System.Windows.Application> sont déclenchés.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-314">Furthermore, no other <xref:System.Windows.Application> events are raised.</span></span> <span data-ttu-id="3cb3c-315">Par conséquent, vous devez gérer <xref:System.Windows.Application.DispatcherUnhandledException> si votre application comporte du code qui doit s’exécuter avant l’arrêt de l’application.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-315">Consequently, you need to handle <xref:System.Windows.Application.DispatcherUnhandledException> if your application has code that must run before the application shuts down.</span></span>  
  
 <span data-ttu-id="3cb3c-316">Bien qu’une application puisse s’arrêter à la suite d’une exception non gérée, elle s’arrête habituellement en réponse à une requête de l’utilisateur, comme décrit dans la section suivante.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-316">Although an application may shut down as a result of an unhandled exception, an application usually shuts down in response to a user request, as discussed in the next section.</span></span>  
  
<a name="Application_Lifetime_Events"></a>   
### <a name="application-lifetime-events"></a><span data-ttu-id="3cb3c-317">Événements de durée de vie de l'application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-317">Application Lifetime Events</span></span>  
 <span data-ttu-id="3cb3c-318">Applications autonomes et [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] n’avez pas exactement la même durée de vie.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-318">Standalone applications and [!INCLUDE[TLA2#tla_xbap#plural](../../../../includes/tla2sharptla-xbapsharpplural-md.md)] don't have exactly the same lifetimes.</span></span> <span data-ttu-id="3cb3c-319">La figure suivante illustre les principaux événements de la durée de vie d’une application autonome et indique l’ordre dans lequel ils sont déclenchés.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-319">The following figure illustrates the key events in the lifetime of a standalone application and shows the sequence in which they are raised.</span></span>  
  
 <span data-ttu-id="3cb3c-320">![Application autonome &#45; Événements d’objets d’application](../../../../docs/framework/wpf/app-development/media/applicationmodeloverview-applicationobjectevents.png "ApplicationModelOverview_ApplicationObjectEvents")</span><span class="sxs-lookup"><span data-stu-id="3cb3c-320">![Standalone Application &#45; Application Object Events](../../../../docs/framework/wpf/app-development/media/applicationmodeloverview-applicationobjectevents.png "ApplicationModelOverview_ApplicationObjectEvents")</span></span>  
  
 <span data-ttu-id="3cb3c-321">De même, la figure suivante illustre les principaux événements dans la durée de vie d’un [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)]et indique l’ordre dans lequel ils sont déclenchés.</span><span class="sxs-lookup"><span data-stu-id="3cb3c-321">Likewise, the following figure illustrates the key events in the lifetime of an [!INCLUDE[TLA2#tla_xbap](../../../../includes/tla2sharptla-xbap-md.md)], and shows the sequence in which they are raised.</span></span>  
  
 <span data-ttu-id="3cb3c-322">![XBAP &#45; Événements d’objets d’application](../../../../docs/framework/wpf/app-development/media/applicationmodeloverview-applicationobjectevents-xbap.png "ApplicationModelOverview_ApplicationObjectEvents_xbap")</span><span class="sxs-lookup"><span data-stu-id="3cb3c-322">![XBAP &#45; Application Object Events](../../../../docs/framework/wpf/app-development/media/applicationmodeloverview-applicationobjectevents-xbap.png "ApplicationModelOverview_ApplicationObjectEvents_xbap")</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="3cb3c-323">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="3cb3c-323">See Also</span></span>  
 <xref:System.Windows.Application>  
 [<span data-ttu-id="3cb3c-324">Vue d'ensemble des fenêtres WPF</span><span class="sxs-lookup"><span data-stu-id="3cb3c-324">WPF Windows Overview</span></span>](../../../../docs/framework/wpf/app-development/wpf-windows-overview.md)  
 [<span data-ttu-id="3cb3c-325">Vue d’ensemble de la navigation</span><span class="sxs-lookup"><span data-stu-id="3cb3c-325">Navigation Overview</span></span>](../../../../docs/framework/wpf/app-development/navigation-overview.md)  
 [<span data-ttu-id="3cb3c-326">Fichiers de ressources, de contenu et de données d’une application WPF</span><span class="sxs-lookup"><span data-stu-id="3cb3c-326">WPF Application Resource, Content, and Data Files</span></span>](../../../../docs/framework/wpf/app-development/wpf-application-resource-content-and-data-files.md)  
 [<span data-ttu-id="3cb3c-327">URI à en-tête pack dans WPF</span><span class="sxs-lookup"><span data-stu-id="3cb3c-327">Pack URIs in WPF</span></span>](../../../../docs/framework/wpf/app-development/pack-uris-in-wpf.md)  
 [<span data-ttu-id="3cb3c-328">Modèle d’application : Les rubriques de procédures</span><span class="sxs-lookup"><span data-stu-id="3cb3c-328">Application Model: How-to Topics</span></span>](http://msdn.microsoft.com/en-us/76771b09-3688-4d1c-8818-9b3f4cf39a30)  
 [<span data-ttu-id="3cb3c-329">Développement de l’application</span><span class="sxs-lookup"><span data-stu-id="3cb3c-329">Application Development</span></span>](../../../../docs/framework/wpf/app-development/index.md)
