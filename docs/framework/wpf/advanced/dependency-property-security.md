---
title: "Sécurité de propriété de dépendance"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- wrappers [WPF], access
- wrappers [WPF], security
- dependency properties [WPF], security
- security [WPF], wrappers
- validation [WPF], dependency properties
- dependency properties [WPF], access
- security [WPF], dependency properties
ms.assetid: d10150ec-90c5-4571-8d35-84bafa2429a4
caps.latest.revision: "8"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: 9cd6f9d7025de9f5deb836d48a8ce9c7134973d6
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/22/2017
---
# <a name="dependency-property-security"></a><span data-ttu-id="fc5f8-102">Sécurité de propriété de dépendance</span><span class="sxs-lookup"><span data-stu-id="fc5f8-102">Dependency Property Security</span></span>
<span data-ttu-id="fc5f8-103">Les propriétés de dépendance doivent généralement être considérées comme des propriétés publiques.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-103">Dependency properties should generally be considered to be public properties.</span></span> <span data-ttu-id="fc5f8-104">La nature du système de propriétés [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] empêche de pouvoir garantir la sécurité d’une valeur de propriété de dépendance.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-104">The nature of the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] property system prevents the ability to make security guarantees about a dependency property value.</span></span>  
  
  
<a name="AccessSecurity"></a>   
## <a name="access-and-security-of-wrappers-and-dependency-properties"></a><span data-ttu-id="fc5f8-105">Accès et sécurité des wrappers et des propriétés de dépendance</span><span class="sxs-lookup"><span data-stu-id="fc5f8-105">Access and Security of Wrappers and Dependency Properties</span></span>  
 <span data-ttu-id="fc5f8-106">En règle générale, les propriétés de dépendance sont implémentées avec des propriétés [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] « wrappers » qui simplifient l’obtention ou la définition de la propriété à partir d’une instance.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-106">Typically, dependency properties are implemented along with "wrapper" [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] properties that simplify getting or setting the property from an instance.</span></span> <span data-ttu-id="fc5f8-107">Mais les wrappers sont des méthodes pratiques simplement qu’implémentent sous-jacent <xref:System.Windows.DependencyObject.GetValue%2A> et <xref:System.Windows.DependencyObject.SetValue%2A> appels statiques qui sont utilisés lors de l’interaction avec les propriétés de dépendance.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-107">But the wrappers are really just convenience methods that implement the underlying <xref:System.Windows.DependencyObject.GetValue%2A> and <xref:System.Windows.DependencyObject.SetValue%2A> static calls that are used when interacting with dependency properties.</span></span> <span data-ttu-id="fc5f8-108">Pris d’un autre point de vue, les propriétés sont exposées en tant que propriétés [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] stockées par une propriété de dépendance plutôt que par un champ privé.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-108">Thinking of it in another way, the properties are exposed as [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] properties that happen to be backed by a dependency property rather than by a private field.</span></span> <span data-ttu-id="fc5f8-109">Les mécanismes de sécurité appliqués aux wrappers ne sont pas identiques au comportement du système de propriétés et au niveau d’accès de la propriété de dépendance sous-jacente.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-109">Security mechanisms applied to the wrappers do not parallel the property system behavior and access of the underlying dependency property.</span></span> <span data-ttu-id="fc5f8-110">Placer une demande de sécurité sur le wrapper empêchera seulement l’utilisation de la méthode pratique mais n’empêchera pas les appels à <xref:System.Windows.DependencyObject.GetValue%2A> ou <xref:System.Windows.DependencyObject.SetValue%2A>.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-110">Placing a security demand on the wrapper will only prevent the usage of the convenience method but will not prevent calls to <xref:System.Windows.DependencyObject.GetValue%2A> or <xref:System.Windows.DependencyObject.SetValue%2A>.</span></span> <span data-ttu-id="fc5f8-111">De même, placer un niveau d’accès privé ou protégé sur les wrappers ne procure pas une sécurité efficace.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-111">Similarly, placing protected or private access level on the wrappers does not provide any effective security.</span></span>  
  
 <span data-ttu-id="fc5f8-112">Si vous écrivez vos propres propriétés de dépendance, vous devez déclarer les wrappers et <xref:System.Windows.DependencyProperty> identificateur de champ en tant que membres publics, afin que les appelants ne pas obtenir trompeuses plus d’informations sur le niveau d’accès réel de cette propriété (en raison de son magasin en cours implémenté comme une propriété de dépendance).</span><span class="sxs-lookup"><span data-stu-id="fc5f8-112">If you are writing your own dependency properties, you should declare the wrappers and the <xref:System.Windows.DependencyProperty> identifier field as public members, so that callers do not get misleading information about the true access level of that property (because of its store being implemented as a dependency property).</span></span>  
  
 <span data-ttu-id="fc5f8-113">Pour une propriété de dépendance personnalisée, vous pouvez enregistrer votre propriété comme une propriété de dépendance en lecture seule, et il fournit un moyen efficace d’empêcher une propriété définie par toute personne qui ne possède pas une référence à la <xref:System.Windows.DependencyPropertyKey> pour cette propriété.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-113">For a custom dependency property, you can register your property as a read-only dependency property, and this does provide an effective means of preventing a property being set by anyone that does not hold a reference to the <xref:System.Windows.DependencyPropertyKey> for that property.</span></span> <span data-ttu-id="fc5f8-114">Pour plus d’informations, consultez [Propriétés de dépendance en lecture seule](../../../../docs/framework/wpf/advanced/read-only-dependency-properties.md).</span><span class="sxs-lookup"><span data-stu-id="fc5f8-114">For more information, see [Read-Only Dependency Properties](../../../../docs/framework/wpf/advanced/read-only-dependency-properties.md).</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fc5f8-115">Déclaration d’un <xref:System.Windows.DependencyProperty> identificateur champ privé n’est pas interdit et il peut éventuellement être utilisé afin de réduire l’espace de noms immédiatement exposé d’une classe personnalisée, mais une telle propriété n’est pas « private » dans le même sens que le [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] définitions de la langue définissent ce niveau d’accès, pour les raisons détaillées dans la section suivante.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-115">Declaring a <xref:System.Windows.DependencyProperty> identifier field private is not forbidden, and it can conceivably be used to help reduce the immediately exposed namespace of a custom class, but such a property should not be considered "private" in the same sense as the [!INCLUDE[TLA#tla_clr](../../../../includes/tlasharptla-clr-md.md)] language definitions define that access level, for reasons described in the next section.</span></span>  
  
<a name="PropertySystemExposure"></a>   
## <a name="property-system-exposure-of-dependency-properties"></a><span data-ttu-id="fc5f8-116">Exposition des propriétés de dépendance par le système de propriétés</span><span class="sxs-lookup"><span data-stu-id="fc5f8-116">Property System Exposure of Dependency Properties</span></span>  
 <span data-ttu-id="fc5f8-117">Il est généralement pas utile, et il est potentiellement trompeur, de déclarer un <xref:System.Windows.DependencyProperty> niveau d’accès autre que public.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-117">It is not generally useful, and it is potentially misleading, to declare a <xref:System.Windows.DependencyProperty> as any access level other than public.</span></span> <span data-ttu-id="fc5f8-118">Ce paramètre de niveau d’accès empêche seulement une personne d’obtenir une référence à l’instance à partir de la classe de déclaration.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-118">That access level setting only prevents someone from being able to get a reference to the instance from the declaring class.</span></span> <span data-ttu-id="fc5f8-119">Mais il existe plusieurs aspects du système de propriétés qui retournera un <xref:System.Windows.DependencyProperty> en tant que moyen d’identifier une propriété particulière, il existe sur une instance d’une classe ou une instance de la classe dérivée, cet identificateur est encore utilisable dans un <xref:System.Windows.DependencyObject.SetValue%2A> appeler même Si l’identificateur statique d’origine est déclaré comme non public.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-119">But there are several aspects of the property system that will return a <xref:System.Windows.DependencyProperty> as the means of identifying a particular property as it exists on an instance of a class or a derived class instance, and this identifier is still usable in a <xref:System.Windows.DependencyObject.SetValue%2A> call even if the original static identifier is declared as nonpublic.</span></span> <span data-ttu-id="fc5f8-120">En outre, <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> méthodes virtuelles reçoivent des informations de n’importe quelle propriété de dépendance existant qui a changé de valeur.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-120">Also, <xref:System.Windows.DependencyObject.OnPropertyChanged%2A> virtual methods receive information of any existing dependency property that changed value.</span></span> <span data-ttu-id="fc5f8-121">En outre, le <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> méthode retourne des identificateurs pour n’importe quelle propriété sur des instances avec définie localement valeur.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-121">In addition, the <xref:System.Windows.DependencyObject.GetLocalValueEnumerator%2A> method returns identifiers for any property on instances with a locally set value.</span></span>  
  
### <a name="validation-and-security"></a><span data-ttu-id="fc5f8-122">Validation et sécurité</span><span class="sxs-lookup"><span data-stu-id="fc5f8-122">Validation and Security</span></span>  
 <span data-ttu-id="fc5f8-123">Application d’une demande à un <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> et attendu de l’échec de validation sur l’échec d’une demande pour empêcher une propriété d’être définie n’est pas un mécanisme de sécurité adéquat.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-123">Applying a demand to a <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> and expecting the validation failure on a demand failure to prevent a property from being set is not an adequate security mechanism.</span></span> <span data-ttu-id="fc5f8-124">Invalidation de la valeur définie appliquée via <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> pourrait également être supprimée par des appelants malveillants, si ces derniers opèrent dans le domaine d’application.</span><span class="sxs-lookup"><span data-stu-id="fc5f8-124">Set-value invalidation enforced through <xref:System.Windows.DependencyProperty.ValidateValueCallback%2A> could also be suppressed by malicious callers, if those callers are operating within the application domain.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fc5f8-125">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fc5f8-125">See Also</span></span>  
 [<span data-ttu-id="fc5f8-126">Propriétés de dépendance personnalisées</span><span class="sxs-lookup"><span data-stu-id="fc5f8-126">Custom Dependency Properties</span></span>](../../../../docs/framework/wpf/advanced/custom-dependency-properties.md)
