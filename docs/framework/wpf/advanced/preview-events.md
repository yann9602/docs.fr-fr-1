---
title: "Aperçu des événements"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Preview events [WPF]
- suppressing events [WPF]
- events [WPF], Preview
- events [WPF], suppressing
ms.assetid: b5032308-aa9c-4d02-af11-630ecec8df7e
caps.latest.revision: "7"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 04bdf32ea329ff25fd62255b4512d8a9d5703b8f
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/21/2017
---
# <a name="preview-events"></a><span data-ttu-id="af40a-102">Aperçu des événements</span><span class="sxs-lookup"><span data-stu-id="af40a-102">Preview Events</span></span>
<span data-ttu-id="af40a-103">Événements d’aperçu, également connus sous le tunneling forcé, les événements sont des événements routés où la direction de l’itinéraire se déplace à partir de la racine de l’application vers l’élément qui a déclenché l’événement et est signalé comme étant la source de données d’événement.</span><span class="sxs-lookup"><span data-stu-id="af40a-103">Preview events, also known as tunneling events, are routed events where the direction of the route travels from the application root towards the element that raised the event and is reported as the source in event data.</span></span> <span data-ttu-id="af40a-104">Pas tous les scénarios d’événement prend en charge ou exiger des événements d’aperçu. Cette rubrique décrit les situations où les événements d’aperçu existent, comment les applications ou les composants doivent les gérer et les cas où la création d’événements d’aperçu dans des composants personnalisés ou des classes peut être appropriée.</span><span class="sxs-lookup"><span data-stu-id="af40a-104">Not all event scenarios support or require preview events; this topic describes the situations where preview events exist, how applications or components should handle them, and cases where creating preview events in custom components or classes might be appropriate.</span></span>  
  
## <a name="preview-events-and-input"></a><span data-ttu-id="af40a-105">Événements d’aperçu et entrée</span><span class="sxs-lookup"><span data-stu-id="af40a-105">Preview Events and Input</span></span>  
 <span data-ttu-id="af40a-106">Lorsque vous gérez l’aperçu d’événements, en général, soyez prudent quant à marquer les événements gérés événements dans les données.</span><span class="sxs-lookup"><span data-stu-id="af40a-106">When you handle Preview events in general, be cautious about marking the events handled in the event data.</span></span> <span data-ttu-id="af40a-107">Gestion d’un événement de la version d’évaluation sur tout élément autre que l’élément qui l’a déclenché (l’élément qui est signalé comme source dans les données d’événement) a pour effet de ne pas fournir un élément de la possibilité de gérer l’événement qu’il a.</span><span class="sxs-lookup"><span data-stu-id="af40a-107">Handling a Preview event on any element other than the element that raised it (the element that is reported as the source in the event data) has the effect of not providing an element the opportunity to handle the event that it originated.</span></span> <span data-ttu-id="af40a-108">Parfois, voici le résultat souhaité, en particulier si l’élément en question existe dans des relations dans la composition d’un contrôle.</span><span class="sxs-lookup"><span data-stu-id="af40a-108">Sometimes this is the desired result, particularly if the elements in question exist in relationships within the compositing of a control.</span></span>  
  
 <span data-ttu-id="af40a-109">Pour les événements d’entrée en particulier, les événements d’aperçu également partagent instances de données d’événement avec l’événement de propagation équivalent.</span><span class="sxs-lookup"><span data-stu-id="af40a-109">For input events specifically, Preview events also share event data instances with the equivalent bubbling event.</span></span> <span data-ttu-id="af40a-110">Si vous utilisez un gestionnaire de classe d’événements Aperçu pour marquer l’événement d’entrée géré, le Gestionnaire de classe d’événements d’entrée propagation ne sera pas appelé.</span><span class="sxs-lookup"><span data-stu-id="af40a-110">If you use a Preview event class handler to mark the input event handled, the bubbling input event class handler will not be invoked.</span></span> <span data-ttu-id="af40a-111">Ou, si vous utilisez un gestionnaire d’instance événements Aperçu pour marquer l’événement géré, gestionnaires pour l’événement de propagation ne seront pas généralement appelées.</span><span class="sxs-lookup"><span data-stu-id="af40a-111">Or, if you use a Preview event instance handler to mark the event handled, handlers for the bubbling event will not typically be invoked.</span></span> <span data-ttu-id="af40a-112">Gestionnaires de classe ou les gestionnaires d’instance peuvent être inscrit ou attachés avec une option à appeler même si l’événement est marqué comme géré, mais cette technique n’est pas couramment utilisé.</span><span class="sxs-lookup"><span data-stu-id="af40a-112">Class handlers or instance handlers can be registered or attached with an option to be invoked even if the event is marked handled, but that technique is not commonly used.</span></span>  
  
 <span data-ttu-id="af40a-113">Pour plus d’informations sur la gestion de classe et sa relation avec les événements d’aperçu consultez [le marquage des événements routés comme Handled et de gestion de la classe](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md).</span><span class="sxs-lookup"><span data-stu-id="af40a-113">For more information about class handling and how it relates to Preview events see [Marking Routed Events as Handled, and Class Handling](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md).</span></span>  
  
### <a name="working-around-event-suppression-by-controls"></a><span data-ttu-id="af40a-114">Résolution des problèmes liés à la suppression d’événements par des contrôles</span><span class="sxs-lookup"><span data-stu-id="af40a-114">Working Around Event Suppression by Controls</span></span>  
 <span data-ttu-id="af40a-115">Un scénario où les événements d’aperçu sont couramment utilisées est pour la gestion de contrôle composite d’événements d’entrée.</span><span class="sxs-lookup"><span data-stu-id="af40a-115">One scenario where Preview events are commonly used is for composited control handling of input events.</span></span> <span data-ttu-id="af40a-116">Dans certains cas, l’auteur du contrôle supprime un certain événement d’origine à partir de leur contrôle, peut-être pour remplacer un événement défini par le composant qui comporte plus d’informations ou implique un comportement plus spécifique.</span><span class="sxs-lookup"><span data-stu-id="af40a-116">Sometimes, the author of the control suppresses a certain event from originating from their control, perhaps in order to substitute a component-defined event that carries more information or implies a more specific behavior.</span></span> <span data-ttu-id="af40a-117">Par exemple, un [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <xref:System.Windows.Controls.Button> supprime <xref:System.Windows.UIElement.MouseLeftButtonDown> et <xref:System.Windows.UIElement.MouseLeftButtonDown> propagation des événements déclenchés par le <xref:System.Windows.Controls.Button> ou ses éléments composites en faveur de la capture de la souris et le déclenchement d’un <xref:System.Windows.Controls.Primitives.ButtonBase.Click> événement est toujours déclenché par le <xref:System.Windows.Controls.Button> lui-même.</span><span class="sxs-lookup"><span data-stu-id="af40a-117">For instance, a [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <xref:System.Windows.Controls.Button> suppresses <xref:System.Windows.UIElement.MouseLeftButtonDown> and <xref:System.Windows.UIElement.MouseLeftButtonDown> bubbling events raised by the <xref:System.Windows.Controls.Button> or its composite elements in favor of capturing the mouse and raising a <xref:System.Windows.Controls.Primitives.ButtonBase.Click> event that is always raised by the <xref:System.Windows.Controls.Button> itself.</span></span> <span data-ttu-id="af40a-118">L’événement et ses données poursuivent l’itinéraire, mais comme le <xref:System.Windows.Controls.Button> marque les données d’événement en tant que <xref:System.Windows.RoutedEventArgs.Handled%2A>, seuls les gestionnaires de l’événement qui indiquait spécifiquement qu’ils doivent agir dans le `handledEventsToo` cas sont appelées.</span><span class="sxs-lookup"><span data-stu-id="af40a-118">The event and its data still continue along the route, but because the <xref:System.Windows.Controls.Button> marks the event data as <xref:System.Windows.RoutedEventArgs.Handled%2A>, only handlers for the event that specifically indicated they should act in the `handledEventsToo` case  are invoked.</span></span>  <span data-ttu-id="af40a-119">Si d’autres éléments vers la racine de votre application souhaitaient encore pour gérer un événement supprimé par le contrôle, une autre solution consiste à attacher des gestionnaires dans le code avec `handledEventsToo` spécifié en tant que `true`.</span><span class="sxs-lookup"><span data-stu-id="af40a-119">If other elements towards the root of your application still wanted an opportunity to handle a control-suppressed event, one alternative is to attach handlers in code with `handledEventsToo` specified as `true`.</span></span> <span data-ttu-id="af40a-120">Mais souvent une technique plus simple consiste à modifier la direction de routage que vous gérez à l’équivalent de l’aperçu d’un événement d’entrée.</span><span class="sxs-lookup"><span data-stu-id="af40a-120">But often a simpler technique is to change the routing direction you handle to be the Preview equivalent of an input event.</span></span> <span data-ttu-id="af40a-121">Par exemple, si un contrôle supprime <xref:System.Windows.UIElement.MouseLeftButtonDown>, essayez de joindre un gestionnaire pour <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> à la place.</span><span class="sxs-lookup"><span data-stu-id="af40a-121">For instance, if a control suppresses <xref:System.Windows.UIElement.MouseLeftButtonDown>, try attaching a handler for <xref:System.Windows.UIElement.PreviewMouseLeftButtonDown> instead.</span></span> <span data-ttu-id="af40a-122">Cette technique fonctionne uniquement pour les événements d’entrée d’élément de base tels que <xref:System.Windows.UIElement.MouseLeftButtonDown>.</span><span class="sxs-lookup"><span data-stu-id="af40a-122">This technique only works for base element input events such as <xref:System.Windows.UIElement.MouseLeftButtonDown>.</span></span> <span data-ttu-id="af40a-123">Ces événements d’entrée utilisent des paires tunneling/propagation, déclenchent les deux événements et partagent les données d’événement.</span><span class="sxs-lookup"><span data-stu-id="af40a-123">These input events use tunnel/bubble pairs, raise both events, and share the event data.</span></span>  
  
 <span data-ttu-id="af40a-124">Chacune de ces techniques a des effets secondaires ou des limitations.</span><span class="sxs-lookup"><span data-stu-id="af40a-124">Each of these techniques has either side effects or limitations.</span></span> <span data-ttu-id="af40a-125">L’effet secondaire de gestion de l’événement d’aperçu est que gestion de l’événement à ce stade peut désactiver les gestionnaires qui s’attendent à gérer l’événement de propagation, et par conséquent, la limitation est qu’il n’est généralement pas judicieux de marquer l’événement géré alors qu’il est toujours sur le Previ partie de la nouvelle de l’itinéraire.</span><span class="sxs-lookup"><span data-stu-id="af40a-125">The side effect of handling the Preview event is that handling the event at that point might disable handlers that expect to handle the bubbling event, and therefore the limitation is that it is usually not a good idea to mark the event handled while it is still on the Preview part of the route.</span></span> <span data-ttu-id="af40a-126">La limitation de la `handledEventsToo` technique est que vous ne pouvez pas spécifier un `handledEventsToo` gestionnaire dans [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] en tant qu’attribut, vous devez inscrire le Gestionnaire d’événements dans le code après avoir obtenu une référence d’objet à l’élément où le gestionnaire doit être attaché.</span><span class="sxs-lookup"><span data-stu-id="af40a-126">The limitation of the `handledEventsToo` technique is that you cannot specify a `handledEventsToo` handler in [!INCLUDE[TLA2#tla_xaml](../../../../includes/tla2sharptla-xaml-md.md)] as an attribute, you must register the event handler in code after obtaining an object reference to the element where the handler is to be attached.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="af40a-127">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="af40a-127">See Also</span></span>  
 [<span data-ttu-id="af40a-128">Marquage des événements routés comme gérés et gestion de classe</span><span class="sxs-lookup"><span data-stu-id="af40a-128">Marking Routed Events as Handled, and Class Handling</span></span>](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md)  
 [<span data-ttu-id="af40a-129">Vue d’ensemble des événements routés</span><span class="sxs-lookup"><span data-stu-id="af40a-129">Routed Events Overview</span></span>](../../../../docs/framework/wpf/advanced/routed-events-overview.md)
