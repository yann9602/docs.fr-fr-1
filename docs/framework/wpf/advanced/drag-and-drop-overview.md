---
title: "Vue d'ensemble du glisser-déplacer"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-wpf
ms.tgt_pltfrm: 
ms.topic: article
dev_langs:
- csharp
- vb
helpviewer_keywords:
- drag-and-drop [WPF], implementing
- drag sources [WPF], drag-and-drop
- data transfer [WPF], drag-and-drop
- drag-and-drop [WPF], about
- drag-and-drop [WPF], events
- drop targets [WPF], drag-and-drop
ms.assetid: 1a5b27b0-0ac5-4cdf-86c0-86ac0271fa64
caps.latest.revision: "31"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: b7a69a4dcd5fc39b700bf9c3404e70d581509ebc
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/22/2017
---
# <a name="drag-and-drop-overview"></a><span data-ttu-id="de12c-102">Vue d'ensemble du glisser-déplacer</span><span class="sxs-lookup"><span data-stu-id="de12c-102">Drag and Drop Overview</span></span>
<span data-ttu-id="de12c-103">Cette rubrique offre une vue d'ensemble de la prise en charge du glisser-déplacer dans les applications [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span><span class="sxs-lookup"><span data-stu-id="de12c-103">This topic provides an overview of drag-and-drop support in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] applications.</span></span> <span data-ttu-id="de12c-104">Le glisser-déplacer fait généralement référence à une méthode de transfert de données qui implique l'utilisation d'une souris (ou d'un autre dispositif de pointage) pour sélectionner un ou plusieurs objets, les faire glisser vers une cible de déplacement souhaitée dans l'[!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)] et les y déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-104">Drag-and-drop commonly refers to a method of data transfer that involves using a mouse (or some other pointing device) to select one or more objects, dragging these objects over some desired drop target in the [!INCLUDE[TLA#tla_ui](../../../../includes/tlasharptla-ui-md.md)], and dropping them.</span></span>  
  
  
<a name="Drag_and_Drop_Support"></a>   
## <a name="drag-and-drop-support-in-wpf"></a><span data-ttu-id="de12c-105">Prise en charge du glisser-déplacer dans WPF</span><span class="sxs-lookup"><span data-stu-id="de12c-105">Drag-and-Drop Support in WPF</span></span>  
 <span data-ttu-id="de12c-106">Les opérations de glisser-déplacer se composent généralement de deux parties : une source de glissement d'où provient l'objet glissé et une cible de déplacement qui reçoit l'objet déplacé.</span><span class="sxs-lookup"><span data-stu-id="de12c-106">Drag-and-drop operations typically involve two parties: a drag source from which the dragged object originates and a drop target which receives the dropped object.</span></span>  <span data-ttu-id="de12c-107">La source de glissement et la cible de déplacement peuvent être des éléments d'interface utilisateur d'une même application ou d'une application différente.</span><span class="sxs-lookup"><span data-stu-id="de12c-107">The drag source and drop target may be UI elements in the same application or a different application.</span></span>  
  
 <span data-ttu-id="de12c-108">Le type et le nombre d'objets qui peuvent être manipulés par glisser-déplacer sont totalement aléatoires.</span><span class="sxs-lookup"><span data-stu-id="de12c-108">The type and number of objects that can be manipulated with drag-and-drop is completely arbitrary.</span></span> <span data-ttu-id="de12c-109">Par exemple, les fichiers, dossiers et sélections de contenu font partie des objets les plus couramment manipulés par les opérations de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-109">For example, files, folders, and selections of content are some of the more common objects manipulated through drag-and-drop operations.</span></span>  
  
 <span data-ttu-id="de12c-110">Les actions particulières exécutées pendant une opération de glisser-déplacer varient en fonction de l'application et sont souvent déterminées par le contexte.</span><span class="sxs-lookup"><span data-stu-id="de12c-110">The particular actions performed during a drag-and-drop operation are application specific, and often determined by context.</span></span>  <span data-ttu-id="de12c-111">Par exemple, le glissement d'une sélection de fichiers d'un dossier vers un autre sur un même dispositif de stockage déplace les fichiers par défaut, alors que le glissement de fichiers d'un partage [!INCLUDE[TLA#tla_unc](../../../../includes/tlasharptla-unc-md.md)] vers un dossier local copie les fichiers par défaut.</span><span class="sxs-lookup"><span data-stu-id="de12c-111">For example, dragging a selection of files from one folder to another on the same storage device moves the files by default, whereas dragging files from a [!INCLUDE[TLA#tla_unc](../../../../includes/tlasharptla-unc-md.md)] share to a local folder copies the files by default.</span></span>  
  
 <span data-ttu-id="de12c-112">Les fonctionnalités de glisser-déplacer fournies par [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] ont été conçues pour être très souples et personnalisables et ainsi prendre en charge un large éventail de scénarios de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-112">The drag-and-drop facilities provided by [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] are designed to be highly flexible and customizable to support a wide variety of drag-and-drop scenarios.</span></span>  <span data-ttu-id="de12c-113">Le glisser-déplacer prend en charge la manipulation d'objets au sein d'une même application ou entre différentes applications.</span><span class="sxs-lookup"><span data-stu-id="de12c-113">Drag-and-drop supports manipulating objects within a single application, or between different applications.</span></span> <span data-ttu-id="de12c-114">Les opérations de glisser-déplacer entre des applications [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] et d'autres applications [!INCLUDE[TLA2#tla_win](../../../../includes/tla2sharptla-win-md.md)] sont, elles aussi, entièrement prises en charge.</span><span class="sxs-lookup"><span data-stu-id="de12c-114">Dragging-and-dropping between [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)] applications and other [!INCLUDE[TLA2#tla_win](../../../../includes/tla2sharptla-win-md.md)] applications is also fully supported.</span></span>  
  
 <span data-ttu-id="de12c-115">Dans [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], tout <xref:System.Windows.UIElement> ou <xref:System.Windows.ContentElement> peut participer à l'opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-115">In [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], any <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> can participate in drag-and-drop.</span></span> <span data-ttu-id="de12c-116">Les événements et méthodes nécessaires aux opérations de glisser-déplacer sont définis dans la classe <xref:System.Windows.DragDrop>.</span><span class="sxs-lookup"><span data-stu-id="de12c-116">The events and methods required for drag-and-drop operations are defined in the <xref:System.Windows.DragDrop> class.</span></span> <span data-ttu-id="de12c-117">Les classes <xref:System.Windows.UIElement> et <xref:System.Windows.ContentElement> contiennent des alias pour les événements attachés <xref:System.Windows.DragDrop>, si bien que les événements apparaissent dans la liste des membres de classe quand un <xref:System.Windows.UIElement> ou un <xref:System.Windows.ContentElement> est hérité en tant qu'élément de base.</span><span class="sxs-lookup"><span data-stu-id="de12c-117">The <xref:System.Windows.UIElement> and <xref:System.Windows.ContentElement> classes contain aliases for the <xref:System.Windows.DragDrop> attached events so that the events appear in the class members list when a <xref:System.Windows.UIElement> or <xref:System.Windows.ContentElement> is inherited as a base element.</span></span> <span data-ttu-id="de12c-118">Les gestionnaires d'événements attachés à ces événements sont attachés à l'événement attaché <xref:System.Windows.DragDrop> sous-jacent et reçoivent la même instance de données d'événement.</span><span class="sxs-lookup"><span data-stu-id="de12c-118">Event handlers that are attached to these events are attached to the underlying <xref:System.Windows.DragDrop> attached event and receive the same event data instance.</span></span> <span data-ttu-id="de12c-119">Pour plus d'informations, consultez l'événement <xref:System.Windows.UIElement.Drop?displayProperty=nameWithType>.</span><span class="sxs-lookup"><span data-stu-id="de12c-119">For more information, see the <xref:System.Windows.UIElement.Drop?displayProperty=nameWithType> event.</span></span>  
  
> [!IMPORTANT]
>  <span data-ttu-id="de12c-120">Le glisser-déplacer OLE ne fonctionne pas dans la zone Internet.</span><span class="sxs-lookup"><span data-stu-id="de12c-120">OLE drag-and-drop does not work while in the Internet zone.</span></span>  
  
<a name="Data_Transfer"></a>   
## <a name="data-transfer"></a><span data-ttu-id="de12c-121">Transfert de données</span><span class="sxs-lookup"><span data-stu-id="de12c-121">Data Transfer</span></span>  
 <span data-ttu-id="de12c-122">Le glisser-déplacer fait partie du domaine plus général du transfert de données.</span><span class="sxs-lookup"><span data-stu-id="de12c-122">Drag-and-drop is part of the more general area of data transfer.</span></span> <span data-ttu-id="de12c-123">Le transfert de données comprend les opérations de glisser-déplacer et de copier-coller.</span><span class="sxs-lookup"><span data-stu-id="de12c-123">Data transfer includes drag-and-drop and copy-and-paste operations.</span></span> <span data-ttu-id="de12c-124">L'opération de glisser-déplacer est similaire aux opérations de copier-coller et de couper-coller utilisées pour transférer des données d'un objet ou d'une application à l'autre, à l'aide du presse-papiers du système.</span><span class="sxs-lookup"><span data-stu-id="de12c-124">A drag-and-drop operation is analogous to a copy-and-paste or cut-and-paste operation that is used to transfer data from one object or application to another by using the system clipboard.</span></span> <span data-ttu-id="de12c-125">Ces deux types d'opération nécessitent :</span><span class="sxs-lookup"><span data-stu-id="de12c-125">Both types of operations require:</span></span>  
  
-   <span data-ttu-id="de12c-126">un objet source qui fournit les données ;</span><span class="sxs-lookup"><span data-stu-id="de12c-126">A source object that provides the data.</span></span>  
  
-   <span data-ttu-id="de12c-127">un moyen de stockage temporaire des données transférées ;</span><span class="sxs-lookup"><span data-stu-id="de12c-127">A way to temporarily store the transferred data.</span></span>  
  
-   <span data-ttu-id="de12c-128">un objet cible qui reçoit les données.</span><span class="sxs-lookup"><span data-stu-id="de12c-128">A target object that receives the data.</span></span>  
  
 <span data-ttu-id="de12c-129">Dans une opération de copier-coller, le presse-papiers du système est utilisé pour stocker temporairement les données transférées ; dans une opération de glisser-déplacer, <xref:System.Windows.DataObject> est utilisé pour stocker les données.</span><span class="sxs-lookup"><span data-stu-id="de12c-129">In a copy-and-paste operation, the system clipboard is used to temporarily store the transferred data; in a drag-and-drop operation, a <xref:System.Windows.DataObject> is used to store the data.</span></span> <span data-ttu-id="de12c-130">Par concept, un objet de données se compose d'une ou plusieurs paires de <xref:System.Object> qui contient les données réelles et un identificateur de format de données correspondant.</span><span class="sxs-lookup"><span data-stu-id="de12c-130">Conceptually, a data object consists of one or more pairs of an <xref:System.Object> that contains the actual data, and a corresponding data format identifier.</span></span>  
  
 <span data-ttu-id="de12c-131">La source de glissement initie l'opération de glisser-déplacer en appelant la méthode statique <xref:System.Windows.DragDrop.DoDragDrop%2A?displayProperty=nameWithType> et en lui passant les données transférées.</span><span class="sxs-lookup"><span data-stu-id="de12c-131">The drag source initiates a drag-and-drop operation by calling the static <xref:System.Windows.DragDrop.DoDragDrop%2A?displayProperty=nameWithType> method and passing the transferred data to it.</span></span> <span data-ttu-id="de12c-132">La méthode <xref:System.Windows.DragDrop.DoDragDrop%2A> inclut automatiquement les données d'un <xref:System.Windows.DataObject> dans un wrapper, si nécessaire.</span><span class="sxs-lookup"><span data-stu-id="de12c-132">The <xref:System.Windows.DragDrop.DoDragDrop%2A> method will automatically wrap the data in a <xref:System.Windows.DataObject> if necessary.</span></span> <span data-ttu-id="de12c-133">Pour mieux contrôler le format de données, vous pouvez inclure les données d'un <xref:System.Windows.DataObject> dans un wrapper avant de les passer à la méthode <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="de12c-133">For greater control over the data format, you can wrap the data in a <xref:System.Windows.DataObject> before passing it to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="de12c-134">La cible de déplacement est chargée d'extraire les données du <xref:System.Windows.DataObject>.</span><span class="sxs-lookup"><span data-stu-id="de12c-134">The drop target is responsible for extracting the data from the <xref:System.Windows.DataObject>.</span></span> <span data-ttu-id="de12c-135">Pour plus d’informations sur l’utilisation des objets de données, consultez [Données et objets de données](../../../../docs/framework/wpf/advanced/data-and-data-objects.md).</span><span class="sxs-lookup"><span data-stu-id="de12c-135">For more information about working with data objects, see [Data and Data Objects](../../../../docs/framework/wpf/advanced/data-and-data-objects.md).</span></span>  
  
 <span data-ttu-id="de12c-136">La source et la cible d'une opération de glisser-déplacer sont des éléments d'interface utilisateur ; cependant, les données réellement transférées ne sont généralement pas représentées visuellement.</span><span class="sxs-lookup"><span data-stu-id="de12c-136">The source and target of a drag-and-drop operation are UI elements; however, the data that is actually being transferred typically does not have a visual representation.</span></span> <span data-ttu-id="de12c-137">Vous pouvez écrire du code pour fournir une représentation visuelle des données déplacées, à l'instar de ce qui se produit quand vous faites glisser des fichiers dans l'Explorateur Windows.</span><span class="sxs-lookup"><span data-stu-id="de12c-137">You can write code to provide a visual representation of the data that is dragged, such as occurs when dragging files in Windows Explorer.</span></span> <span data-ttu-id="de12c-138">Par défaut, l'utilisateur est tenu au courant de l'effet de son action par la modification du curseur, par la représentation de l'effet que l'opération de glisser-déplacer aura sur les données si ces dernières sont déplacées ou copiées.</span><span class="sxs-lookup"><span data-stu-id="de12c-138">By default, feedback is provided to the user by changing the cursor to represent the effect that the drag-and-drop operation will have on the data, such as whether the data will be moved or copied.</span></span>  
  
### <a name="drag-and-drop-effects"></a><span data-ttu-id="de12c-139">Effets de glisser-déplacer</span><span class="sxs-lookup"><span data-stu-id="de12c-139">Drag-and-Drop Effects</span></span>  
 <span data-ttu-id="de12c-140">Les opérations de glisser-déplacer peuvent avoir différents effets sur les données transférées.</span><span class="sxs-lookup"><span data-stu-id="de12c-140">Drag-and-drop operations can have different effects on the transferred data.</span></span> <span data-ttu-id="de12c-141">Par exemple, vous pouvez copier les données ou bien les déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-141">For example, you can copy the data or you can move the data.</span></span> [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)]<span data-ttu-id="de12c-142"> définit une énumération <xref:System.Windows.DragDropEffects> que vous pouvez utiliser pour spécifier l'effet d'une opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-142"> defines a <xref:System.Windows.DragDropEffects> enumeration that you can use to specify the effect of a drag-and-drop operation.</span></span> <span data-ttu-id="de12c-143">Dans la source de glissement, vous pouvez spécifier les effets que la source autorisera dans la méthode <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="de12c-143">In the drag source, you can specify the effects that the source will allow in the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="de12c-144">Dans la cible de déplacement, vous pouvez spécifier l'effet attendu de la cible dans la propriété <xref:System.Windows.DragEventArgs.Effects%2A> de la classe <xref:System.Windows.DragEventArgs>.</span><span class="sxs-lookup"><span data-stu-id="de12c-144">In the drop target, you can specify the effect that the target intends in the <xref:System.Windows.DragEventArgs.Effects%2A> property of the <xref:System.Windows.DragEventArgs> class.</span></span> <span data-ttu-id="de12c-145">Quand la cible de déplacement spécifie son effet prévu dans l'événement <xref:System.Windows.DragDrop.DragOver>, ces informations sont passées à la source de glissement dans l'événement <xref:System.Windows.DragDrop.GiveFeedback>.</span><span class="sxs-lookup"><span data-stu-id="de12c-145">When the drop target specifies its intended effect in the <xref:System.Windows.DragDrop.DragOver> event, that information is passed back to the drag source in the <xref:System.Windows.DragDrop.GiveFeedback> event.</span></span> <span data-ttu-id="de12c-146">La source de glissement utilise ces informations pour informer l'utilisateur de l'effet prévu de la cible de déplacement sur les données.</span><span class="sxs-lookup"><span data-stu-id="de12c-146">The drag source uses this information to inform the user what effect the drop target intends to have on the data.</span></span> <span data-ttu-id="de12c-147">Quand les données sont déplacées, la cible de déplacement spécifie son effet réel dans l'événement <xref:System.Windows.DragDrop.Drop>.</span><span class="sxs-lookup"><span data-stu-id="de12c-147">When the data is dropped, the drop target specifies its actual effect in the <xref:System.Windows.DragDrop.Drop> event.</span></span> <span data-ttu-id="de12c-148">Ces informations sont passées à la source de glissement en tant que valeur de retour de la méthode <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="de12c-148">That information is passed back to the drag source as the return value of the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="de12c-149">Si la cible de déplacement retourne un effet qui n'est pas dans la liste des sources de glissement de `allowedEffects`, l'opération de glisser-déplacer est annulée sans que le transfert de données soit effectué.</span><span class="sxs-lookup"><span data-stu-id="de12c-149">If the drop target returns an effect that is not in the drag sources list of `allowedEffects`, the drag-and-drop operation is cancelled without any data transfer occurring.</span></span>  
  
 <span data-ttu-id="de12c-150">Il est important de se rappeler que dans [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], les valeurs <xref:System.Windows.DragDropEffects> servent uniquement à établir une communication entre la source de glissement et la cible de déplacement au sujet des effets de l'opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-150">It is important to remember that in [!INCLUDE[TLA2#tla_winclient](../../../../includes/tla2sharptla-winclient-md.md)], the <xref:System.Windows.DragDropEffects> values are only used to provide communication between the drag source and the drop target regarding the effects of the drag-and-drop operation.</span></span> <span data-ttu-id="de12c-151">L'effet réel de l'opération de glisser-déplacer dépend de la façon dont vous aurez écrit le code de votre application.</span><span class="sxs-lookup"><span data-stu-id="de12c-151">The actual effect of the drag-and-drop operation depends on you to write the appropriate code in your application.</span></span>  
  
 <span data-ttu-id="de12c-152">Par exemple, la cible du déplacement peut spécifier que le déplacement de données vers celle-ci a pour effet de déplacer les données.</span><span class="sxs-lookup"><span data-stu-id="de12c-152">For example, the drop target might specify that the effect of dropping data on it is to move the data.</span></span> <span data-ttu-id="de12c-153">Cependant, pour être déplacées, les données doivent être à la fois ajoutées à l'élément cible et supprimées de l'élément source.</span><span class="sxs-lookup"><span data-stu-id="de12c-153">However, to move the data, it must be both added to the target element and removed from the source element.</span></span> <span data-ttu-id="de12c-154">L'élément source peut indiquer qu'il permet le déplacement des données, mais si vous ne fournissez pas de code pour supprimer les données de l'élément source, cette action se traduit par la copie des données et non par leur déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-154">The source element might indicate that it allows moving the data, but if you do not provide the code to remove the data from the source element, the end result will be that the data is copied, and not moved.</span></span>  
  
<a name="Drag_and_Drop_Events"></a>   
## <a name="drag-and-drop-events"></a><span data-ttu-id="de12c-155">Événements de glisser-déplacer</span><span class="sxs-lookup"><span data-stu-id="de12c-155">Drag-and-Drop Events</span></span>  
 <span data-ttu-id="de12c-156">Les opérations de glisser-déplacer prennent en charge un modèle piloté par les événements.</span><span class="sxs-lookup"><span data-stu-id="de12c-156">Drag-and-drop operations support an event driven model.</span></span>  <span data-ttu-id="de12c-157">La source du glissement et la cible du déplacement utilisent toutes deux un ensemble standard d'événements pour gérer les opérations de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-157">Both the drag source and the drop target use a standard set of events to handle drag-and-drop operations.</span></span>  <span data-ttu-id="de12c-158">Les tableaux suivants résument les événements de glisser-déplacer standard.</span><span class="sxs-lookup"><span data-stu-id="de12c-158">The following tables summarize the standard drag-and-drop events.</span></span> <span data-ttu-id="de12c-159">Il s'agit d'événements attachés de la classe <xref:System.Windows.DragDrop>.</span><span class="sxs-lookup"><span data-stu-id="de12c-159">These are attached events on the <xref:System.Windows.DragDrop> class.</span></span> <span data-ttu-id="de12c-160">Pour plus d’informations sur les événements attachés, consultez [Vue d’ensemble des événements attachés](../../../../docs/framework/wpf/advanced/attached-events-overview.md).</span><span class="sxs-lookup"><span data-stu-id="de12c-160">For more information about attached events, see [Attached Events Overview](../../../../docs/framework/wpf/advanced/attached-events-overview.md).</span></span>  
  
### <a name="drag-source-events"></a><span data-ttu-id="de12c-161">Événements de la source du glissement</span><span class="sxs-lookup"><span data-stu-id="de12c-161">Drag Source Events</span></span>  
  
|<span data-ttu-id="de12c-162">Événement</span><span class="sxs-lookup"><span data-stu-id="de12c-162">Event</span></span>|<span data-ttu-id="de12c-163">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="de12c-163">Summary</span></span>|  
|-----------|-------------|  
|<xref:System.Windows.DragDrop.GiveFeedback>|<span data-ttu-id="de12c-164">Cet événement se produit continuellement pendant une opération de glisser-déplacer et permet à la source du déplacement de fournir une rétroaction visuelle à l'utilisateur.</span><span class="sxs-lookup"><span data-stu-id="de12c-164">This event occurs continuously during a drag-and-drop operation, and enables the drop source to give feedback information to the user.</span></span> <span data-ttu-id="de12c-165">Cette rétroaction est généralement fournie par la modification de l'apparence du pointeur de la souris, indiquant les effets autorisés par la cible du déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-165">This feedback is commonly given by changing the appearance of the mouse pointer to indicate the effects allowed by the drop target.</span></span>  <span data-ttu-id="de12c-166">Il s'agit d'une propagation d'événements.</span><span class="sxs-lookup"><span data-stu-id="de12c-166">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.QueryContinueDrag>|<span data-ttu-id="de12c-167">Cet événement se produit quand il y a une modification dans les états du clavier ou du bouton de la souris pendant une opération de glisser-déplacer ; il permet à la source du déplacement d'annuler l'opération de glisser-déplacer selon les états de la touche/du bouton.</span><span class="sxs-lookup"><span data-stu-id="de12c-167">This event occurs when there is a change in the keyboard or mouse button states during a drag-and-drop operation, and enables the drop source to cancel the drag-and-drop operation depending on the key/button states.</span></span> <span data-ttu-id="de12c-168">Il s'agit d'une propagation d'événements.</span><span class="sxs-lookup"><span data-stu-id="de12c-168">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewGiveFeedback>|<span data-ttu-id="de12c-169">Version de tunneling de <xref:System.Windows.DragDrop.GiveFeedback>.</span><span class="sxs-lookup"><span data-stu-id="de12c-169">Tunneling version of <xref:System.Windows.DragDrop.GiveFeedback>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewQueryContinueDrag>|<span data-ttu-id="de12c-170">Version de tunneling de <xref:System.Windows.DragDrop.QueryContinueDrag>.</span><span class="sxs-lookup"><span data-stu-id="de12c-170">Tunneling version of <xref:System.Windows.DragDrop.QueryContinueDrag>.</span></span>|  
  
### <a name="drop-target-events"></a><span data-ttu-id="de12c-171">Événements de cible de déplacement</span><span class="sxs-lookup"><span data-stu-id="de12c-171">Drop Target Events</span></span>  
  
|<span data-ttu-id="de12c-172">Événement</span><span class="sxs-lookup"><span data-stu-id="de12c-172">Event</span></span>|<span data-ttu-id="de12c-173">Récapitulatif</span><span class="sxs-lookup"><span data-stu-id="de12c-173">Summary</span></span>|  
|-----------|-------------|  
|<xref:System.Windows.DragDrop.DragEnter>|<span data-ttu-id="de12c-174">Cet événement se produit quand vous faites glisser un objet dans les limites de la cible du déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-174">This event occurs when an object is dragged into the drop target's boundary.</span></span> <span data-ttu-id="de12c-175">Il s'agit d'une propagation d'événements.</span><span class="sxs-lookup"><span data-stu-id="de12c-175">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.DragLeave>|<span data-ttu-id="de12c-176">Cet événement se produit quand vous faites glisser un objet hors des limites de la cible du déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-176">This event occurs when an object is dragged out of the drop target's boundary.</span></span>  <span data-ttu-id="de12c-177">Il s'agit d'une propagation d'événements.</span><span class="sxs-lookup"><span data-stu-id="de12c-177">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.DragOver>|<span data-ttu-id="de12c-178">Cet événement se produit continuellement pendant le glissement (déplacement) d'un objet dans les limites de la cible du déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-178">This event occurs continuously while an object is dragged (moved) within the drop target's boundary.</span></span> <span data-ttu-id="de12c-179">Il s'agit d'une propagation d'événements.</span><span class="sxs-lookup"><span data-stu-id="de12c-179">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.Drop>|<span data-ttu-id="de12c-180">Cet événement se produit quand vous déplacez un objet sur la cible du déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-180">This event occurs when an object is dropped on the drop target.</span></span>  <span data-ttu-id="de12c-181">Il s'agit d'une propagation d'événements.</span><span class="sxs-lookup"><span data-stu-id="de12c-181">This is a bubbling event.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragEnter>|<span data-ttu-id="de12c-182">Version de tunneling de <xref:System.Windows.DragDrop.DragEnter>.</span><span class="sxs-lookup"><span data-stu-id="de12c-182">Tunneling version of <xref:System.Windows.DragDrop.DragEnter>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragLeave>|<span data-ttu-id="de12c-183">Version de tunneling de <xref:System.Windows.DragDrop.DragLeave>.</span><span class="sxs-lookup"><span data-stu-id="de12c-183">Tunneling version of <xref:System.Windows.DragDrop.DragLeave>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDragOver>|<span data-ttu-id="de12c-184">Version de tunneling de <xref:System.Windows.DragDrop.DragOver>.</span><span class="sxs-lookup"><span data-stu-id="de12c-184">Tunneling version of <xref:System.Windows.DragDrop.DragOver>.</span></span>|  
|<xref:System.Windows.DragDrop.PreviewDrop>|<span data-ttu-id="de12c-185">Version de tunneling de <xref:System.Windows.DragDrop.Drop>.</span><span class="sxs-lookup"><span data-stu-id="de12c-185">Tunneling version of <xref:System.Windows.DragDrop.Drop>.</span></span>|  
  
 <span data-ttu-id="de12c-186">Pour gérer les événements de glisser-déplacer des instances d'un objet, ajoutez des gestionnaires pour les événements répertoriés dans les tableaux précédents.</span><span class="sxs-lookup"><span data-stu-id="de12c-186">To handle drag-and-drop events for instances of an object, add handlers for the events listed in the preceding tables.</span></span> <span data-ttu-id="de12c-187">Pour gérer des événements de glisser-déplacer au niveau de la classe, substituez les méthodes virtuelles On*Event et On\*PreviewEvent correspondantes.</span><span class="sxs-lookup"><span data-stu-id="de12c-187">To handle drag-and-drop events at the class level, override the corresponding virtual On*Event and On\*PreviewEvent methods.</span></span> <span data-ttu-id="de12c-188">Pour plus d’informations, consultez [Gestion de classe des événements routés par les classes de base de contrôle](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md#Class_Handling_of_Routed_Events).</span><span class="sxs-lookup"><span data-stu-id="de12c-188">For more information, see [Class Handling of Routed Events by Control Base Classes](../../../../docs/framework/wpf/advanced/marking-routed-events-as-handled-and-class-handling.md#Class_Handling_of_Routed_Events).</span></span>  
  
<a name="Implementing_Drag_And_Drop"></a>   
## <a name="implementing-drag-and-drop"></a><span data-ttu-id="de12c-189">Implémentation du glisser-déplacer</span><span class="sxs-lookup"><span data-stu-id="de12c-189">Implementing Drag-and-Drop</span></span>  
 <span data-ttu-id="de12c-190">Un élément d'interface utilisateur peut être une source du glissement, une cible du déplacement ou les deux à la fois.</span><span class="sxs-lookup"><span data-stu-id="de12c-190">A UI element can be a drag source, a drop target, or both.</span></span> <span data-ttu-id="de12c-191">Pour implémenter le glisser-déplacer de base, écrivez du code pour initier l'opération de glisser-déplacer et traiter les données déplacées.</span><span class="sxs-lookup"><span data-stu-id="de12c-191">To implement basic drag-and-drop, you write code to initiate the drag-and-drop operation and to process the dropped data.</span></span> <span data-ttu-id="de12c-192">Vous pouvez améliorer le glisser-déplacer en gérant les événements de glisser-déplacer facultatifs.</span><span class="sxs-lookup"><span data-stu-id="de12c-192">You can enhance the drag-and-drop experience by handling optional drag-and-drop events.</span></span>  
  
 <span data-ttu-id="de12c-193">Pour implémenter le glisser-déplacer de base, effectuez les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="de12c-193">To implement basic drag-and-drop, you will complete the following tasks:</span></span>  
  
-   <span data-ttu-id="de12c-194">Identifiez l'élément destiné à être la source de glissement.</span><span class="sxs-lookup"><span data-stu-id="de12c-194">Identify the element that will be a drag source.</span></span> <span data-ttu-id="de12c-195">Une source de glissement peut être un <xref:System.Windows.UIElement> ou un <xref:System.Windows.ContentElement>.</span><span class="sxs-lookup"><span data-stu-id="de12c-195">A drag source can be a <xref:System.Windows.UIElement> or a <xref:System.Windows.ContentElement>.</span></span>  
  
-   <span data-ttu-id="de12c-196">Créez un gestionnaire d'événements pour la source de glissement qui sera chargé d'initier l'opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-196">Create an event handler on the drag source that will initiate the drag-and-drop operation.</span></span> <span data-ttu-id="de12c-197">L'événement est généralement un événement <xref:System.Windows.UIElement.MouseMove>.</span><span class="sxs-lookup"><span data-stu-id="de12c-197">The event is typically the <xref:System.Windows.UIElement.MouseMove> event.</span></span>  
  
-   <span data-ttu-id="de12c-198">Dans le gestionnaire d'événements de la source de glissement, appelez la méthode <xref:System.Windows.DragDrop.DoDragDrop%2A> pour initier l'opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-198">In the drag source event handler, call the <xref:System.Windows.DragDrop.DoDragDrop%2A> method to initiate the drag-and-drop operation.</span></span> <span data-ttu-id="de12c-199">Dans l'appel <xref:System.Windows.DragDrop.DoDragDrop%2A>, spécifiez la source de glissement, les données à transférer et les effets autorisés.</span><span class="sxs-lookup"><span data-stu-id="de12c-199">In the <xref:System.Windows.DragDrop.DoDragDrop%2A> call, specify the drag source, the data to be transferred, and the allowed effects.</span></span>  
  
-   <span data-ttu-id="de12c-200">Identifiez l'élément destiné à être la cible de glissement.</span><span class="sxs-lookup"><span data-stu-id="de12c-200">Identify the element that will be a drop target.</span></span> <span data-ttu-id="de12c-201">Une cible de déplacement peut être un <xref:System.Windows.UIElement> ou un <xref:System.Windows.ContentElement>.</span><span class="sxs-lookup"><span data-stu-id="de12c-201">A drop target can be <xref:System.Windows.UIElement> or a <xref:System.Windows.ContentElement>.</span></span>  
  
-   <span data-ttu-id="de12c-202">Sur la cible de déplacement, attribuez la valeur <xref:System.Windows.UIElement.AllowDrop%2A> à la propriété `true`.</span><span class="sxs-lookup"><span data-stu-id="de12c-202">On the drop target, set the <xref:System.Windows.UIElement.AllowDrop%2A> property to `true`.</span></span>  
  
-   <span data-ttu-id="de12c-203">Dans la cible de déplacement, créez un gestionnaire d'événements <xref:System.Windows.DragDrop.Drop>  pour traiter les données déplacées.</span><span class="sxs-lookup"><span data-stu-id="de12c-203">In the drop target, create a <xref:System.Windows.DragDrop.Drop> event handler to process the dropped data.</span></span>  
  
-   <span data-ttu-id="de12c-204">Dans le gestionnaire d'événements <xref:System.Windows.DragDrop.Drop>, extrayez les données de <xref:System.Windows.DragEventArgs> à l'aide des méthodes <xref:System.Windows.DataObject.GetDataPresent%2A> et <xref:System.Windows.DataObject.GetData%2A>.</span><span class="sxs-lookup"><span data-stu-id="de12c-204">In the <xref:System.Windows.DragDrop.Drop> event handler, extract the data from the <xref:System.Windows.DragEventArgs> by using the <xref:System.Windows.DataObject.GetDataPresent%2A> and <xref:System.Windows.DataObject.GetData%2A> methods.</span></span>  
  
-   <span data-ttu-id="de12c-205">Dans le gestionnaire d'événements <xref:System.Windows.DragDrop.Drop>, utilisez les données pour effectuer l'opération de glisser-déplacer souhaitée.</span><span class="sxs-lookup"><span data-stu-id="de12c-205">In the <xref:System.Windows.DragDrop.Drop> event handler, use the data to perform the desired drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="de12c-206">Vous pouvez améliorer votre implémentation du glisser-déplacer en créant un <xref:System.Windows.DataObject> personnalisé et en gérant des événements facultatifs de source de glissement et de cible de déplacement, comme le montrent les tâches suivantes :</span><span class="sxs-lookup"><span data-stu-id="de12c-206">You can enhance your drag-and-drop implementation by creating a custom <xref:System.Windows.DataObject> and by handling optional drag source and drop target events, as shown in the following tasks:</span></span>  
  
-   <span data-ttu-id="de12c-207">Pour transférer des données personnalisées ou plusieurs éléments de données, créez un <xref:System.Windows.DataObject> à passer à la méthode <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="de12c-207">To transfer custom data or multiple data items, create a <xref:System.Windows.DataObject> to pass to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span>  
  
-   <span data-ttu-id="de12c-208">Pour effectuer des actions supplémentaires pendant une opération de glissement, gérez les événements <xref:System.Windows.DragDrop.DragEnter>, <xref:System.Windows.DragDrop.DragOver> et <xref:System.Windows.DragDrop.DragLeave> sur la cible de déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-208">To perform additional actions during a drag, handle the <xref:System.Windows.DragDrop.DragEnter>, <xref:System.Windows.DragDrop.DragOver>, and <xref:System.Windows.DragDrop.DragLeave> events on the drop target.</span></span>  
  
-   <span data-ttu-id="de12c-209">Pour modifier l'apparence du pointeur de la souris, gérez l'événement <xref:System.Windows.DragDrop.GiveFeedback> sur la source de glissement.</span><span class="sxs-lookup"><span data-stu-id="de12c-209">To change the appearance of the mouse pointer, handle the <xref:System.Windows.DragDrop.GiveFeedback> event on the drag source.</span></span>  
  
-   <span data-ttu-id="de12c-210">Pour modifier la façon dont l'opération de glisser-déplacer est annulée, gérez l'événement <xref:System.Windows.DragDrop.QueryContinueDrag> sur la source de glissement.</span><span class="sxs-lookup"><span data-stu-id="de12c-210">To change how the drag-and-drop operation is canceled, handle the <xref:System.Windows.DragDrop.QueryContinueDrag> event on the drag source.</span></span>  
  
<a name="Drag_And_Drop_Example"></a>   
## <a name="drag-and-drop-example"></a><span data-ttu-id="de12c-211">Exemple de glisser-déplacer</span><span class="sxs-lookup"><span data-stu-id="de12c-211">Drag-and-Drop Example</span></span>  
 <span data-ttu-id="de12c-212">Cette section explique comment implémenter le glisser-déplacer pour un élément <xref:System.Windows.Shapes.Ellipse>.</span><span class="sxs-lookup"><span data-stu-id="de12c-212">This section describes how to implement drag-and-drop for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="de12c-213"><xref:System.Windows.Shapes.Ellipse> est à la fois une source de glissement et une cible de déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-213">The <xref:System.Windows.Shapes.Ellipse> is both a drag source and a drop target.</span></span> <span data-ttu-id="de12c-214">Les données transférées sont la représentation sous forme de chaîne de la propriété <xref:System.Windows.Shapes.Shape.Fill%2A> de l'ellipse.</span><span class="sxs-lookup"><span data-stu-id="de12c-214">The transferred data is the string representation of the ellipse’s <xref:System.Windows.Shapes.Shape.Fill%2A> property.</span></span> <span data-ttu-id="de12c-215">Le code XAML suivant illustre l'élément <xref:System.Windows.Shapes.Ellipse> et les événements de glisser-déplacer associés qu'il gère.</span><span class="sxs-lookup"><span data-stu-id="de12c-215">The following XAML shows the <xref:System.Windows.Shapes.Ellipse> element and the drag-and-drop related events that it handles.</span></span> <span data-ttu-id="de12c-216">Pour obtenir les procédures complètes d’implémentation du glisser-déplacer, consultez [Procédure pas à pas : activation de la fonction glisser-déplacer sur un contrôle utilisateur](../../../../docs/framework/wpf/advanced/walkthrough-enabling-drag-and-drop-on-a-user-control.md).</span><span class="sxs-lookup"><span data-stu-id="de12c-216">For complete steps on how to implement drag-and-drop, see [Walkthrough: Enabling Drag and Drop on a User Control](../../../../docs/framework/wpf/advanced/walkthrough-enabling-drag-and-drop-on-a-user-control.md).</span></span>  
  
 [!code-xaml[DragDropSnippets#EllipseXaml](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml#ellipsexaml)]  
  
### <a name="enabling-an-element-to-be-a-drag-source"></a><span data-ttu-id="de12c-217">Autoriser un élément à être une source de glissement</span><span class="sxs-lookup"><span data-stu-id="de12c-217">Enabling an Element to be a Drag Source</span></span>  
 <span data-ttu-id="de12c-218">Un objet qui devient source de glissement est chargé des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="de12c-218">An object that is a drag source is responsible for:</span></span>  
  
-   <span data-ttu-id="de12c-219">Identification du moment où se produit le glissement.</span><span class="sxs-lookup"><span data-stu-id="de12c-219">Identifying when a drag occurs.</span></span>  
  
-   <span data-ttu-id="de12c-220">Lancement de l’opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-220">Initiating the drag-and-drop operation.</span></span>  
  
-   <span data-ttu-id="de12c-221">Identification des données à transférer.</span><span class="sxs-lookup"><span data-stu-id="de12c-221">Identifying the data to be transferred.</span></span>  
  
-   <span data-ttu-id="de12c-222">Spécification des effets que l’opération de glisser-déplacer est autorisée à avoir sur les données transférées.</span><span class="sxs-lookup"><span data-stu-id="de12c-222">Specifying the effects that the drag-and-drop operation is allowed to have on the transferred data.</span></span>  
  
 <span data-ttu-id="de12c-223">La source de glissement peut aussi fournir une rétroaction visuelle au sujet des actions autorisées (déplacement, copie, aucune) et peut annuler l'opération de glisser-déplacer en fonction d'autres entrées utilisateur, comme par exemple, appuyer sur la touche Échap durant l'opération de glissement.</span><span class="sxs-lookup"><span data-stu-id="de12c-223">The drag source may also give feedback to the user regarding the allowed actions (move, copy, none), and can cancel the drag-and-drop operation based on additional user input, such as pressing the ESC key during the drag.</span></span>  
  
 <span data-ttu-id="de12c-224">Il revient à votre application de déterminer à quel moment une opération de glissement se produit et d'initier l'opération de glisser-déplacer en appelant la méthode <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="de12c-224">It is the responsibility of your application to determine when a drag occurs, and then initiate the drag-and-drop operation by calling the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="de12c-225">Il s'agit en général d'un événement <xref:System.Windows.UIElement.MouseMove> qui se produit sur l'élément à faire glisser pendant que l'utilisateur appuie sur un bouton de la souris.</span><span class="sxs-lookup"><span data-stu-id="de12c-225">Typically, this is when a <xref:System.Windows.UIElement.MouseMove> event occurs over the element to be dragged while a mouse button is pressed.</span></span> <span data-ttu-id="de12c-226">L'exemple suivant montre comment initier une opération de glisser-déplacer à partir du gestionnaire d'événements<xref:System.Windows.UIElement.MouseMove><xref:System.Windows.Shapes.Ellipse> d'un élément   pour faire de ce dernier la source de glissement.</span><span class="sxs-lookup"><span data-stu-id="de12c-226">The following example shows how to initiate a drag-and-drop operation from the <xref:System.Windows.UIElement.MouseMove> event handler of an <xref:System.Windows.Shapes.Ellipse> element to make it a drag source.</span></span> <span data-ttu-id="de12c-227">Les données transférées sont la représentation sous forme de chaîne de la propriété <xref:System.Windows.Shapes.Shape.Fill%2A> de l'ellipse.</span><span class="sxs-lookup"><span data-stu-id="de12c-227">The transferred data is the string representation of the ellipse’s <xref:System.Windows.Shapes.Shape.Fill%2A> property.</span></span>  
  
 [!code-csharp[DragDropSnippets#DoDragDrop](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dodragdrop)]
 [!code-vb[DragDropSnippets#DoDragDrop](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dodragdrop)]  
  
 <span data-ttu-id="de12c-228">Dans le gestionnaire d'événements <xref:System.Windows.UIElement.MouseMove>, appelez la méthode <xref:System.Windows.DragDrop.DoDragDrop%2A> pour initier l'opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-228">Inside of the <xref:System.Windows.UIElement.MouseMove> event handler, call the <xref:System.Windows.DragDrop.DoDragDrop%2A> method to initiate the drag-and-drop operation.</span></span> <span data-ttu-id="de12c-229">La méthode <xref:System.Windows.DragDrop.DoDragDrop%2A> accepte trois paramètres :</span><span class="sxs-lookup"><span data-stu-id="de12c-229">The <xref:System.Windows.DragDrop.DoDragDrop%2A> method takes three parameters:</span></span>  
  
-   <span data-ttu-id="de12c-230">`dragSource` : référence à l'objet de dépendance correspondant à la source des données transférées ; il s'agit généralement de la source de l'événement <xref:System.Windows.UIElement.MouseMove>.</span><span class="sxs-lookup"><span data-stu-id="de12c-230">`dragSource` – A reference to the dependency object that is the source of the transferred data; this is typically the source of the <xref:System.Windows.UIElement.MouseMove> event.</span></span>  
  
-   <span data-ttu-id="de12c-231">`data` : objet qui contient les données transférées, inclus dans un wrapper dans un <xref:System.Windows.DataObject>.</span><span class="sxs-lookup"><span data-stu-id="de12c-231">`data` - An object that contains the transferred data, wrapped in a <xref:System.Windows.DataObject>.</span></span>  
  
-   <span data-ttu-id="de12c-232">`allowedEffects` : une des valeurs d'énumération <xref:System.Windows.DragDropEffects> qui spécifie les effets autorisés de l'opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-232">`allowedEffects` - One of the <xref:System.Windows.DragDropEffects> enumeration values that specifies the permitted effects of the drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="de12c-233">N'importe quel objet sérialisable peut être passé dans le paramètre `data`.</span><span class="sxs-lookup"><span data-stu-id="de12c-233">Any serializable object can be passed in the `data` parameter.</span></span> <span data-ttu-id="de12c-234">Si les données ne sont pas déjà incluses dans un wrapper dans un <xref:System.Windows.DataObject>, elles sont automatiquement incluses dans un wrapper dans un nouveau <xref:System.Windows.DataObject>.</span><span class="sxs-lookup"><span data-stu-id="de12c-234">If the data is not already wrapped in a <xref:System.Windows.DataObject>, it will automatically be wrapped in a new <xref:System.Windows.DataObject>.</span></span> <span data-ttu-id="de12c-235">Pour passer plusieurs éléments de données, vous devez créer vous-même le <xref:System.Windows.DataObject> et le passer à la méthode <xref:System.Windows.DragDrop.DoDragDrop%2A>.</span><span class="sxs-lookup"><span data-stu-id="de12c-235">To pass multiple data items, you must create the <xref:System.Windows.DataObject> yourself, and pass it to the <xref:System.Windows.DragDrop.DoDragDrop%2A> method.</span></span> <span data-ttu-id="de12c-236">Pour plus d’informations, consultez [Données et objets de données](../../../../docs/framework/wpf/advanced/data-and-data-objects.md).</span><span class="sxs-lookup"><span data-stu-id="de12c-236">For more information, see [Data and Data Objects](../../../../docs/framework/wpf/advanced/data-and-data-objects.md).</span></span>  
  
 <span data-ttu-id="de12c-237">Le paramètre `allowedEffects` est utilisé pour spécifier ce que la source du glissement autorise la cible du glissement à faire des données transférées.</span><span class="sxs-lookup"><span data-stu-id="de12c-237">The `allowedEffects` parameter is used to specify what the drag source will allow the drop target to do with the transferred data.</span></span> <span data-ttu-id="de12c-238">Les valeurs courantes pour une source de glissement sont <xref:System.Windows.DragDropEffects.Copy>, <xref:System.Windows.DragDropEffects.Move> et <xref:System.Windows.DragDropEffects.All>.</span><span class="sxs-lookup"><span data-stu-id="de12c-238">The common values for a drag source are <xref:System.Windows.DragDropEffects.Copy>, <xref:System.Windows.DragDropEffects.Move>, and <xref:System.Windows.DragDropEffects.All>.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="de12c-239">La cible de déplacement peut aussi spécifier les effets prévus en réponse aux données déplacées.</span><span class="sxs-lookup"><span data-stu-id="de12c-239">The drop target is also able to specify what effects it intends in response to the dropped data.</span></span> <span data-ttu-id="de12c-240">Par exemple, si la cible de déplacement ne reconnaît pas le type de données à déplacer, elle peut refuser les données en attribuant à ses effets autorisés la valeur <xref:System.Windows.DragDropEffects.None>.</span><span class="sxs-lookup"><span data-stu-id="de12c-240">For example, if the drop target does not recognize the data type to be dropped, it can refuse the data by setting its allowed effects to <xref:System.Windows.DragDropEffects.None>.</span></span> <span data-ttu-id="de12c-241">C'est généralement le cas de son gestionnaire d'événements <xref:System.Windows.DragDrop.DragOver>.</span><span class="sxs-lookup"><span data-stu-id="de12c-241">It typically does this in its <xref:System.Windows.DragDrop.DragOver> event handler.</span></span>  
  
 <span data-ttu-id="de12c-242">Une source de glissement peut éventuellement gérer les événements <xref:System.Windows.DragDrop.GiveFeedback> et <xref:System.Windows.DragDrop.QueryContinueDrag>.</span><span class="sxs-lookup"><span data-stu-id="de12c-242">A drag source can optionally handle the <xref:System.Windows.DragDrop.GiveFeedback> and <xref:System.Windows.DragDrop.QueryContinueDrag> events.</span></span> <span data-ttu-id="de12c-243">Ces événements possèdent des gestionnaires par défaut qui sont utilisés, à moins que vous marquiez les événements comme gérés.</span><span class="sxs-lookup"><span data-stu-id="de12c-243">These events have default handlers that are used unless you mark the events as handled.</span></span> <span data-ttu-id="de12c-244">En général, vous pouvez ignorer ces événements, sauf si vous avez besoin de modifier leur comportement par défaut.</span><span class="sxs-lookup"><span data-stu-id="de12c-244">You will typically ignore these events unless you have a specific need to change their default behavior.</span></span>  
  
 <span data-ttu-id="de12c-245">L'événement <xref:System.Windows.DragDrop.GiveFeedback> est déclenché en continu pendant l'opération de glissement de la source.</span><span class="sxs-lookup"><span data-stu-id="de12c-245">The <xref:System.Windows.DragDrop.GiveFeedback> event is raised continuously while the drag source is being dragged.</span></span> <span data-ttu-id="de12c-246">Le gestionnaire par défaut de cet événement vérifie que la source de glissement se trouve sur une cible de déplacement valide.</span><span class="sxs-lookup"><span data-stu-id="de12c-246">The default handler for this event checks whether the drag source is over a valid drop target.</span></span> <span data-ttu-id="de12c-247">Si c'est le cas, il vérifie les effets autorisés de la cible du déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-247">If it is, it checks the allowed effects of the drop target.</span></span> <span data-ttu-id="de12c-248">Il fournit ensuite une rétroaction visuelle au sujet des effets de déplacement autorisés.</span><span class="sxs-lookup"><span data-stu-id="de12c-248">It then gives feedback to the end user regarding the allowed drop effects.</span></span> <span data-ttu-id="de12c-249">Cette rétroaction visuelle se traduit généralement par le changement du curseur de la souris en curseur ne permettant ni copie, ni déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-249">This is typically done by changing the mouse cursor to a no-drop, copy, or move cursor.</span></span> <span data-ttu-id="de12c-250">Cet événement doit uniquement être géré si vous avez besoin d'utiliser des curseurs personnalisés pour fournir une rétroaction visuelle.</span><span class="sxs-lookup"><span data-stu-id="de12c-250">You should only handle this event if you need to use custom cursors to provide feedback to the user.</span></span> <span data-ttu-id="de12c-251">Si vous gérez cet événement, assurez-vous de le marquer comme étant géré de sorte que le gestionnaire par défaut ne substitue pas à votre gestionnaire.</span><span class="sxs-lookup"><span data-stu-id="de12c-251">If you handle this event, be sure to mark it as handled so that the default handler does not override your handler.</span></span>  
  
 <span data-ttu-id="de12c-252">L'événement <xref:System.Windows.DragDrop.QueryContinueDrag> est déclenché en continu pendant l'opération de glissement de la source.</span><span class="sxs-lookup"><span data-stu-id="de12c-252">The <xref:System.Windows.DragDrop.QueryContinueDrag> event is raised continuously while the drag source is being dragged.</span></span> <span data-ttu-id="de12c-253">Vous pouvez gérer cet événement pour déterminer l'action qui doit terminer l'opération de glisser-déplacer, en fonction de l'état des touches Échap, Maj, Ctrl et Alt, ainsi que de l'état des boutons de la souris.</span><span class="sxs-lookup"><span data-stu-id="de12c-253">You can handle this event to determine what action ends the drag-and-drop operation based on the state of the ESC, SHIFT, CTRL, and ALT keys, as well as the state of the mouse buttons.</span></span> <span data-ttu-id="de12c-254">Le gestionnaire par défaut de cet événement annule l'opération de glisser-déplacer si la touche Échap est enfoncée et déplace les données si le bouton de la souris est relâché.</span><span class="sxs-lookup"><span data-stu-id="de12c-254">The default handler for this event cancels the drag-and-drop operation if the ESC key is pressed, and drops the data if the mouse button is released.</span></span>  
  
> [!CAUTION]
>  <span data-ttu-id="de12c-255">Ces événements sont déclenchés en continu pendant l'opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-255">These events are raised continuously during the drag-and-drop operation.</span></span> <span data-ttu-id="de12c-256">Par conséquent, vous devez éviter les tâches nécessitant de nombreuses ressources dans les gestionnaires d'événements.</span><span class="sxs-lookup"><span data-stu-id="de12c-256">Therefore, you should avoid resource-intensive tasks in the event handlers.</span></span>  <span data-ttu-id="de12c-257">Utilisez, par exemple, un curseur mis en cache au lieu de créer un nouveau curseur chaque fois qu'un événement <xref:System.Windows.DragDrop.GiveFeedback> est déclenché.</span><span class="sxs-lookup"><span data-stu-id="de12c-257">For example, use a cached cursor instead of creating a new cursor each time the <xref:System.Windows.DragDrop.GiveFeedback> event is raised.</span></span>  
  
### <a name="enabling-an-element-to-be-a-drop-target"></a><span data-ttu-id="de12c-258">Activation d'un élément en tant que cible de déplacement</span><span class="sxs-lookup"><span data-stu-id="de12c-258">Enabling an Element to be a Drop Target</span></span>  
 <span data-ttu-id="de12c-259">Un objet qui devient cible de déplacement est chargé des opérations suivantes :</span><span class="sxs-lookup"><span data-stu-id="de12c-259">An object that is a drop target is responsible for:</span></span>  
  
-   <span data-ttu-id="de12c-260">Confirmation qu’il s’agit d’une cible de déplacement valide.</span><span class="sxs-lookup"><span data-stu-id="de12c-260">Specifying that it is a valid drop target.</span></span>  
  
-   <span data-ttu-id="de12c-261">Réponse à la source du glissement quand elle effectue le glissement vers la cible.</span><span class="sxs-lookup"><span data-stu-id="de12c-261">Responding to the drag source when it drags over the target.</span></span>  
  
-   <span data-ttu-id="de12c-262">Vérification que les données transférées sont dans un format qu’elle peut recevoir.</span><span class="sxs-lookup"><span data-stu-id="de12c-262">Checking that the transferred data is in a format that it can receive.</span></span>  
  
-   <span data-ttu-id="de12c-263">de traiter les données déplacées.</span><span class="sxs-lookup"><span data-stu-id="de12c-263">Processing the dropped data.</span></span>  
  
 <span data-ttu-id="de12c-264">Pour spécifier un élément en tant que cible de déplacement, attribuez la valeur <xref:System.Windows.UIElement.AllowDrop%2A> à la propriété `true`.</span><span class="sxs-lookup"><span data-stu-id="de12c-264">To specify that an element is a drop target, you set its <xref:System.Windows.UIElement.AllowDrop%2A> property to `true`.</span></span> <span data-ttu-id="de12c-265">Les événements de cible de déplacement seront ensuite déclenchés sur cet élément pour que vous puissiez les gérer.</span><span class="sxs-lookup"><span data-stu-id="de12c-265">The drop target events will then be raised on the element so that you can handle them.</span></span> <span data-ttu-id="de12c-266">Pendant une opération de glisser-déplacer, la séquence d'événements suivante se produit sur la cible du déplacement :</span><span class="sxs-lookup"><span data-stu-id="de12c-266">During a drag-and-drop operation, the following sequence of events occurs on the drop target:</span></span>  
  
1.  <xref:System.Windows.DragDrop.DragEnter>  
  
2.  <xref:System.Windows.DragDrop.DragOver>  
  
3.  <span data-ttu-id="de12c-267"><xref:System.Windows.DragDrop.DragLeave> ou <xref:System.Windows.DragDrop.Drop></span><span class="sxs-lookup"><span data-stu-id="de12c-267"><xref:System.Windows.DragDrop.DragLeave> or <xref:System.Windows.DragDrop.Drop></span></span>  
  
 <span data-ttu-id="de12c-268">L'événement <xref:System.Windows.DragDrop.DragEnter> se produit quand les données sont glissées dans les limites de la cible de déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-268">The <xref:System.Windows.DragDrop.DragEnter> event occurs when the data is dragged into the drop target's boundary.</span></span> <span data-ttu-id="de12c-269">En général, la gestion de cet événement vous permet d'obtenir un aperçu des effets de l'opération de glisser-déplacer, si cela est adapté à votre application.</span><span class="sxs-lookup"><span data-stu-id="de12c-269">You typically handle this event to provide a preview of the effects of the drag-and-drop operation, if appropriate for your application.</span></span> <span data-ttu-id="de12c-270">Ne définissez pas la propriété <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> dans l'événement <xref:System.Windows.DragDrop.DragEnter>, car elle sera remplacée dans l'événement <xref:System.Windows.DragDrop.DragOver>.</span><span class="sxs-lookup"><span data-stu-id="de12c-270">Do not set the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property in the <xref:System.Windows.DragDrop.DragEnter> event, as it will be overwritten in the <xref:System.Windows.DragDrop.DragOver> event.</span></span>  
  
 <span data-ttu-id="de12c-271">L'exemple suivant illustre le gestionnaire d'événements <xref:System.Windows.DragDrop.DragEnter> pour un élément <xref:System.Windows.Shapes.Ellipse>.</span><span class="sxs-lookup"><span data-stu-id="de12c-271">The following example shows the <xref:System.Windows.DragDrop.DragEnter> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="de12c-272">Ce code permet d'obtenir un aperçu des effets de l'opération de glisser-déplacer en enregistrant le pinceau <xref:System.Windows.Shapes.Shape.Fill%2A> actif.</span><span class="sxs-lookup"><span data-stu-id="de12c-272">This code previews the effects of the drag-and-drop operation by saving the current <xref:System.Windows.Shapes.Shape.Fill%2A> brush.</span></span> <span data-ttu-id="de12c-273">Il utilise ensuite la méthode <xref:System.Windows.DataObject.GetDataPresent%2A> pour vérifier que le <xref:System.Windows.DataObject> déplacé sur l'ellipse contient bien les données de chaîne qui peuvent être converties en <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="de12c-273">It then uses the <xref:System.Windows.DataObject.GetDataPresent%2A> method to check whether the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="de12c-274">Si tel est le cas, les données sont extraites à l'aide de la méthode <xref:System.Windows.DataObject.GetData%2A>.</span><span class="sxs-lookup"><span data-stu-id="de12c-274">If so, the data is extracted using the <xref:System.Windows.DataObject.GetData%2A> method.</span></span> <span data-ttu-id="de12c-275">Elles sont ensuite converties en <xref:System.Windows.Media.Brush> avant d'être appliquées à l'ellipse.</span><span class="sxs-lookup"><span data-stu-id="de12c-275">It is then converted to a <xref:System.Windows.Media.Brush> and applied to the ellipse.</span></span> <span data-ttu-id="de12c-276">La modification peut être annulée dans le gestionnaire d'événements <xref:System.Windows.DragDrop.DragLeave>.</span><span class="sxs-lookup"><span data-stu-id="de12c-276">The change is reverted in the <xref:System.Windows.DragDrop.DragLeave> event handler.</span></span> <span data-ttu-id="de12c-277">Si les données ne peuvent pas être converties en <xref:System.Windows.Media.Brush>, aucune action n'est effectuée.</span><span class="sxs-lookup"><span data-stu-id="de12c-277">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, no action is performed.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragEnter](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragenter)]
 [!code-vb[DragDropSnippets#DragEnter](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragenter)]  
  
 <span data-ttu-id="de12c-278">L'événement <xref:System.Windows.DragDrop.DragOver> se produit en continu pendant le déplacement des données sur la cible de déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-278">The <xref:System.Windows.DragDrop.DragOver> event occurs continuously while the data is dragged over the drop target.</span></span> <span data-ttu-id="de12c-279">Cet événement est couplé à l'événement <xref:System.Windows.DragDrop.GiveFeedback> sur la source de glissement.</span><span class="sxs-lookup"><span data-stu-id="de12c-279">This event is paired with the <xref:System.Windows.DragDrop.GiveFeedback> event on the drag source.</span></span> <span data-ttu-id="de12c-280">Dans le gestionnaire d'événements <xref:System.Windows.DragDrop.DragOver>, les méthodes <xref:System.Windows.DataObject.GetDataPresent%2A> et <xref:System.Windows.DataObject.GetData%2A> sont généralement utilisées pour vérifier que les données transférées sont dans un format que la cible de déplacement peut traiter.</span><span class="sxs-lookup"><span data-stu-id="de12c-280">In the <xref:System.Windows.DragDrop.DragOver> event handler, you typically use the <xref:System.Windows.DataObject.GetDataPresent%2A> and <xref:System.Windows.DataObject.GetData%2A> methods to check whether the transferred data is in a format that the drop target can process.</span></span> <span data-ttu-id="de12c-281">Vous pouvez aussi vérifier si des touches de modification sont enfoncées, ce qui indique en général que l'utilisateur a l'intention d'opérer une copie ou un déplacement.</span><span class="sxs-lookup"><span data-stu-id="de12c-281">You can also check whether any modifier keys are pressed, which will typically indicate whether the user intends a move or copy action.</span></span> <span data-ttu-id="de12c-282">Une fois ces vérifications effectuées, définissez la propriété <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> pour notifier la source de glissement de l'effet prévu du déplacement des données.</span><span class="sxs-lookup"><span data-stu-id="de12c-282">After these checks are performed, you set the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property to notify the drag source what effect dropping the data will have.</span></span> <span data-ttu-id="de12c-283">La source de glissement reçoit ces informations dans les arguments de l'événement <xref:System.Windows.DragDrop.GiveFeedback> et peut définir un curseur approprié de façon à fournir une rétroaction visuelle.</span><span class="sxs-lookup"><span data-stu-id="de12c-283">The drag source receives this information in the <xref:System.Windows.DragDrop.GiveFeedback> event args, and can set an appropriate cursor to give feedback to the user.</span></span>  
  
 <span data-ttu-id="de12c-284">L'exemple suivant illustre le gestionnaire d'événements <xref:System.Windows.DragDrop.DragOver> d'un élément <xref:System.Windows.Shapes.Ellipse>.</span><span class="sxs-lookup"><span data-stu-id="de12c-284">The following example shows the <xref:System.Windows.DragDrop.DragOver> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="de12c-285">Ce code vérifie que le <xref:System.Windows.DataObject> déplacé sur l'ellipse contient bien des données de chaîne qui peuvent être converties en <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="de12c-285">This code checks to see if the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="de12c-286">Si tel est le cas, il attribue à la propriété <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> la valeur <xref:System.Windows.DragDropEffects.Copy>.</span><span class="sxs-lookup"><span data-stu-id="de12c-286">If so, it sets the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property to <xref:System.Windows.DragDropEffects.Copy>.</span></span> <span data-ttu-id="de12c-287">Cela indique à la source de glissement que les données peuvent être copiées vers l'ellipse.</span><span class="sxs-lookup"><span data-stu-id="de12c-287">This indicates to the drag source that the data can be copied to the ellipse.</span></span> <span data-ttu-id="de12c-288">Si les données ne peuvent pas être converties en <xref:System.Windows.Media.Brush>, la propriété <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> prend la valeur <xref:System.Windows.DragDropEffects.None>.</span><span class="sxs-lookup"><span data-stu-id="de12c-288">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, the <xref:System.Windows.DragEventArgs.Effects%2A?displayProperty=nameWithType> property is set to <xref:System.Windows.DragDropEffects.None>.</span></span> <span data-ttu-id="de12c-289">Cela indique à la source du glissement que l’ellipse n’est pas une cible de dépôt valide pour les données.</span><span class="sxs-lookup"><span data-stu-id="de12c-289">This indicates to the drag source that the ellipse is not a valid drop target for the data.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragOver](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragover)]
 [!code-vb[DragDropSnippets#DragOver](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragover)]  
  
 <span data-ttu-id="de12c-290">L'événement <xref:System.Windows.DragDrop.DragLeave> se produit quand les données sont glissées hors des limites de la cible sans être déplacées.</span><span class="sxs-lookup"><span data-stu-id="de12c-290">The <xref:System.Windows.DragDrop.DragLeave> event occurs when the data is dragged out of the target's boundary without being dropped.</span></span> <span data-ttu-id="de12c-291">Cet événement permet d'annuler toutes vos actions dans le gestionnaire d'événements <xref:System.Windows.DragDrop.DragEnter>.</span><span class="sxs-lookup"><span data-stu-id="de12c-291">You handle this event to undo anything that you did in the <xref:System.Windows.DragDrop.DragEnter> event handler.</span></span>  
  
 <span data-ttu-id="de12c-292">L'exemple suivant illustre le gestionnaire d'événements <xref:System.Windows.DragDrop.DragLeave> d'un élément <xref:System.Windows.Shapes.Ellipse>.</span><span class="sxs-lookup"><span data-stu-id="de12c-292">The following example shows the <xref:System.Windows.DragDrop.DragLeave> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="de12c-293">Ce code annule l'aperçu fourni par le gestionnaire d'événements <xref:System.Windows.DragDrop.DragEnter> en appliquant le <xref:System.Windows.Media.Brush> enregistré à l'ellipse.</span><span class="sxs-lookup"><span data-stu-id="de12c-293">This code undoes the preview performed in the <xref:System.Windows.DragDrop.DragEnter> event handler by applying the saved <xref:System.Windows.Media.Brush> to the ellipse.</span></span>  
  
 [!code-csharp[DragDropSnippets#DragLeave](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#dragleave)]
 [!code-vb[DragDropSnippets#DragLeave](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#dragleave)]  
  
 <span data-ttu-id="de12c-294">L'événement <xref:System.Windows.DragDrop.Drop>  se produit quand les données sont déplacées sur la cible de déplacement ; par défaut, cela se produit quand le bouton de la souris est relâché.</span><span class="sxs-lookup"><span data-stu-id="de12c-294">The <xref:System.Windows.DragDrop.Drop> event occurs when the data is dropped over the drop target; by default, this happens when the mouse button is released.</span></span> <span data-ttu-id="de12c-295">Dans le gestionnaire d'événements <xref:System.Windows.DragDrop.Drop>, utilisez la méthode <xref:System.Windows.DataObject.GetData%2A> pour extraire les données transférées à partir du <xref:System.Windows.DataObject> et exécuter tout traitement de données requis par votre application.</span><span class="sxs-lookup"><span data-stu-id="de12c-295">In the <xref:System.Windows.DragDrop.Drop> event handler, you use the <xref:System.Windows.DataObject.GetData%2A> method to extract the transferred data from the <xref:System.Windows.DataObject> and perform any data processing that your application requires.</span></span> <span data-ttu-id="de12c-296">L'événement <xref:System.Windows.DragDrop.Drop> met fin à l'opération de glisser-déplacer.</span><span class="sxs-lookup"><span data-stu-id="de12c-296">The <xref:System.Windows.DragDrop.Drop> event ends the drag-and-drop operation.</span></span>  
  
 <span data-ttu-id="de12c-297">L'exemple suivant illustre le gestionnaire d'événements <xref:System.Windows.DragDrop.Drop> d'un élément <xref:System.Windows.Shapes.Ellipse>.</span><span class="sxs-lookup"><span data-stu-id="de12c-297">The following example shows the <xref:System.Windows.DragDrop.Drop> event handler for an <xref:System.Windows.Shapes.Ellipse> element.</span></span> <span data-ttu-id="de12c-298">Ce code applique les effets de l'opération de glisser-déplacer et est similaire à celui du gestionnaire d'événements <xref:System.Windows.DragDrop.DragEnter>.</span><span class="sxs-lookup"><span data-stu-id="de12c-298">This code applies the effects of the drag-and-drop operation, and is similar to the code in the <xref:System.Windows.DragDrop.DragEnter> event handler.</span></span> <span data-ttu-id="de12c-299">Il vérifie que le <xref:System.Windows.DataObject> déplacé sur l'ellipse contient bien des données de chaîne qui peuvent être converties en <xref:System.Windows.Media.Brush>.</span><span class="sxs-lookup"><span data-stu-id="de12c-299">It checks to see if the <xref:System.Windows.DataObject> being dragged over the ellipse contains string data that can be converted to a <xref:System.Windows.Media.Brush>.</span></span> <span data-ttu-id="de12c-300">Dans ce cas, le <xref:System.Windows.Media.Brush> est appliqué à l'ellipse.</span><span class="sxs-lookup"><span data-stu-id="de12c-300">If so, the <xref:System.Windows.Media.Brush> is applied to the ellipse.</span></span> <span data-ttu-id="de12c-301">Si les données ne peuvent pas être converties en <xref:System.Windows.Media.Brush>, aucune action n'est effectuée.</span><span class="sxs-lookup"><span data-stu-id="de12c-301">If the data cannot be converted to a <xref:System.Windows.Media.Brush>, no action is performed.</span></span>  
  
 [!code-csharp[DragDropSnippets#Drop](../../../../samples/snippets/csharp/VS_Snippets_Wpf/dragdropsnippets/cs/mainwindow.xaml.cs#drop)]
 [!code-vb[DragDropSnippets#Drop](../../../../samples/snippets/visualbasic/VS_Snippets_Wpf/dragdropsnippets/vb/mainwindow.xaml.vb#drop)]  
  
## <a name="see-also"></a><span data-ttu-id="de12c-302">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="de12c-302">See Also</span></span>  
 <xref:System.Windows.Clipboard>  
 [<span data-ttu-id="de12c-303">Procédure pas à pas : activation de la fonction glisser-déplacer sur un contrôle utilisateur</span><span class="sxs-lookup"><span data-stu-id="de12c-303">Walkthrough: Enabling Drag and Drop on a User Control</span></span>](../../../../docs/framework/wpf/advanced/walkthrough-enabling-drag-and-drop-on-a-user-control.md)  
 [<span data-ttu-id="de12c-304">Rubriques de guide pratique</span><span class="sxs-lookup"><span data-stu-id="de12c-304">How-to Topics</span></span>](../../../../docs/framework/wpf/advanced/drag-and-drop-how-to-topics.md)  
 [<span data-ttu-id="de12c-305">Glisser-déposer</span><span class="sxs-lookup"><span data-stu-id="de12c-305">Drag and Drop</span></span>](../../../../docs/framework/wpf/advanced/drag-and-drop.md)
