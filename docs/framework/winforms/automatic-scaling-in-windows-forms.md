---
title: "Mise à l'échelle automatique dans les Windows Forms"
ms.date: 06/15/2017
ms.prod: .net-framework
ms.technology: dotnet-winforms
ms.topic: article
helpviewer_keywords:
- scalability [Windows Forms], automatic in Windows Forms
- Windows Forms, automatic scaling
ms.assetid: 68fad25b-afbc-44bd-8e1b-966fc43507a4
caps.latest.revision: "9"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.openlocfilehash: 4eefab1dccc295557d95485d6f38add41e634fa4
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/21/2017
---
# <a name="automatic-scaling-in-windows-forms"></a><span data-ttu-id="fd550-102">Automatique de mise à l’échelle dans les Windows Forms</span><span class="sxs-lookup"><span data-stu-id="fd550-102">Automatic scaling in Windows Forms</span></span>
<span data-ttu-id="fd550-103">La mise à l’échelle automatique permet d’afficher correctement un formulaire et ses contrôles conçus sur un ordinateur avec une certaine police système et une certaine résolution d’affichage sur un autre ordinateur avec une police système ou une résolution d’affichage différente.</span><span class="sxs-lookup"><span data-stu-id="fd550-103">Automatic scaling enables a form and its controls, designed on one machine with a certain display resolution or system font, to be displayed appropriately on another machine with a different display resolution or system font.</span></span> <span data-ttu-id="fd550-104">Elle garantit que le formulaire et ses contrôles seront redimensionnés intelligemment et de manière cohérente avec les fenêtres natives et d'autres applications sur les ordinateurs des utilisateurs et d'autres développeurs.</span><span class="sxs-lookup"><span data-stu-id="fd550-104">It assures that the form and its controls will intelligently resize to be consistent with native windows and other applications on both the users' and other developers' machines.</span></span> <span data-ttu-id="fd550-105">La prise en charge dans [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] de la mise à l'échelle automatique et des styles visuels permet aux applications [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] de conserver une apparence cohérente avec les applications Windows natives sur l'ordinateur de chaque utilisateur.</span><span class="sxs-lookup"><span data-stu-id="fd550-105">The support of the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] for automatic scaling and visual styles enables [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] applications to maintain a consistent look and feel when compared to native Windows applications on each user's machine.</span></span>
  
<span data-ttu-id="fd550-106">La plupart du temps, la mise à l’échelle automatique fonctionne comme prévu dans [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] version 2.0 et versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="fd550-106">For the most part, automatic scaling works as expected in [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] version 2.0 and later.</span></span> <span data-ttu-id="fd550-107">Toutefois, les modifications de schéma de police peuvent être problématiques.</span><span class="sxs-lookup"><span data-stu-id="fd550-107">However, font scheme changes can be problematic.</span></span> <span data-ttu-id="fd550-108">Pour voir un exemple montrant comment résoudre ce problème, consultez [Comment : répondre aux modifications de jeu de polices dans une Application Windows Forms](how-to-respond-to-font-scheme-changes-in-a-windows-forms-application.md).</span><span class="sxs-lookup"><span data-stu-id="fd550-108">To see an example of how to resolve this, see [How to: Respond to Font Scheme Changes in a Windows Forms Application](how-to-respond-to-font-scheme-changes-in-a-windows-forms-application.md).</span></span>
  
## <a name="need-for-automatic-scaling"></a><span data-ttu-id="fd550-109">Besoin de mise à l’échelle automatique</span><span class="sxs-lookup"><span data-stu-id="fd550-109">Need for automatic scaling</span></span>  
<span data-ttu-id="fd550-110">Sans mise à l'échelle automatique, une application conçue pour une résolution d'écran ou une police particulière apparaîtra trop petite ou trop grande en cas de modification de cette résolution ou police.</span><span class="sxs-lookup"><span data-stu-id="fd550-110">Without automatic scaling, an application designed for one display resolution or font will either appear too small or too large when that resolution or font is changed.</span></span> <span data-ttu-id="fd550-111">Par exemple, si l'application est conçue à l'aide de la police Tahoma 9 points comme ligne de base, sans réglage elle apparaîtra trop petite si vous l'exécutez sur un ordinateur où la police système est Tahoma 12 points.</span><span class="sxs-lookup"><span data-stu-id="fd550-111">For example, if the application is designed using Tahoma 9 point as a baseline, without adjustment it will appear too small if run on a machine where the system font is Tahoma 12 point.</span></span> <span data-ttu-id="fd550-112">Les éléments de texte (tels que les titres, les menus, le contenu des zones de texte et ainsi de suite) apparaîtront plus petits que dans les autres applications.</span><span class="sxs-lookup"><span data-stu-id="fd550-112">Text elements, such as titles, menus, text box contents, and so on will render smaller than other applications.</span></span> <span data-ttu-id="fd550-113">En outre, la taille des éléments d'interface utilisateur qui contiennent du texte (comme la barre de titre, les menus et de nombreux contrôles) dépend de la police utilisée.</span><span class="sxs-lookup"><span data-stu-id="fd550-113">Furthermore, the size of user interface (UI) elements that contain text, such as the title bar, menus, and many controls are dependent on the font used.</span></span> <span data-ttu-id="fd550-114">Dans cet exemple, ces éléments apparaîtront aussi relativement plus petits.</span><span class="sxs-lookup"><span data-stu-id="fd550-114">In this example, these elements will also appear relatively smaller.</span></span>

<span data-ttu-id="fd550-115">Une situation analogue se produit quand une application est conçue pour une certaine résolution d'écran.</span><span class="sxs-lookup"><span data-stu-id="fd550-115">An analogous situation occurs when an application is designed for a certain display resolution.</span></span> <span data-ttu-id="fd550-116">Résolution d’affichage la plus courante est de 96 points par pouce (PPP), ce qui équivaut à l’échelle de l’affichage 100 %, mais affiche de résolution plus élevée prise en charge de 125 %, 150 %, 200 % (les 120 respectivement égales, 144 et 192 PPP) et ci-dessus sont de plus en plus courant.</span><span class="sxs-lookup"><span data-stu-id="fd550-116">The most common display resolution is 96 dots per inch (DPI), which equals 100% display scaling, but higher resolution displays supporting 125%, 150%, 200% (which respectively equal 120, 144 and 192 DPI) and above are becoming more common.</span></span> <span data-ttu-id="fd550-117">Sans réglage, une application (en particulier basée sur des graphismes) conçue pour une résolution spécifique apparaîtra trop grande ou trop petite en cas d'exécution dans une autre résolution.</span><span class="sxs-lookup"><span data-stu-id="fd550-117">Without adjustment, an application, especially a graphics-based one, designed for one resolution will appear either too large or too small when run at another resolution.</span></span>

<span data-ttu-id="fd550-118">La mise à l'échelle automatique vise à améliorer ces problèmes en redimensionnant automatiquement le formulaire et ses contrôles enfants en fonction de la taille de police ou résolution d'affichage relative.</span><span class="sxs-lookup"><span data-stu-id="fd550-118">Automatic scaling seeks to ameliorate these problems by automatically resizing the form and its child controls according to the relative font size or display resolution.</span></span> <span data-ttu-id="fd550-119">Le système d'exploitation Windows prend en charge la mise à l'échelle automatique des boîtes de dialogue à l'aide d'une unité de mesure relative appelée unité de boîte de dialogue.</span><span class="sxs-lookup"><span data-stu-id="fd550-119">The Windows operating system supports automatic scaling of dialog boxes using a relative unit of measurement called dialog units.</span></span> <span data-ttu-id="fd550-120">Une unité de boîte de dialogue est basée sur la police système et sa relation aux pixels peut être déterminée à l'aide de la fonction du SDK Win32 `GetDialogBaseUnits`.</span><span class="sxs-lookup"><span data-stu-id="fd550-120">A dialog unit is based on the system font and its relationship to pixels can be determined though the Win32 SDK function `GetDialogBaseUnits`.</span></span> <span data-ttu-id="fd550-121">Quand un utilisateur change le thème utilisé par Windows, toutes les boîtes de dialogue sont automatiquement ajustés en conséquence.</span><span class="sxs-lookup"><span data-stu-id="fd550-121">When a user changes the theme used by Windows, all dialog boxes are automatically adjusted accordingly.</span></span> <span data-ttu-id="fd550-122">En outre, le [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] prend en charge la mise à l’échelle automatique en fonction de la police système par défaut ou la résolution d’affichage.</span><span class="sxs-lookup"><span data-stu-id="fd550-122">In addition, the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] supports automatic scaling either according to the default system font or the display resolution.</span></span> <span data-ttu-id="fd550-123">Le cas échéant, la mise à l'échelle automatique peut être désactivée dans une application.</span><span class="sxs-lookup"><span data-stu-id="fd550-123">Optionally, automatic scaling can be disabled in an application.</span></span>

## <a name="original-support-for-automatic-scaling"></a><span data-ttu-id="fd550-124">Prise en charge d’origine pour la mise à l’échelle automatique</span><span class="sxs-lookup"><span data-stu-id="fd550-124">Original support for automatic scaling</span></span>
<span data-ttu-id="fd550-125">Les versions 1.0 et 1.1 de [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] prenaient en charge la mise à l’échelle automatique d’une manière simple, qui dépendait de la police Windows par défaut utilisée pour l’interface utilisateur et représentée par la valeur **DEFAULT_GUI_FONT** du SDK Win32.</span><span class="sxs-lookup"><span data-stu-id="fd550-125">Versions 1.0 and 1.1 of the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] supported automatic scaling in a straightforward manner that was dependent on the Windows default font used for the UI, represented by the Win32 SDK value **DEFAULT_GUI_FONT**.</span></span> <span data-ttu-id="fd550-126">Cette police est généralement modifiée uniquement quand la résolution d’écran change.</span><span class="sxs-lookup"><span data-stu-id="fd550-126">This font is typically only changed when the display resolution changes.</span></span> <span data-ttu-id="fd550-127">Le mécanisme suivant était utilisé pour implémenter la mise à l'échelle automatique :</span><span class="sxs-lookup"><span data-stu-id="fd550-127">The following mechanism was used to implement automatic scaling:</span></span>

1. <span data-ttu-id="fd550-128">Au moment du design, la propriété <xref:System.Windows.Forms.Form.AutoScaleBaseSize%2A> (qui est maintenant déconseillée) prenait comme valeur la hauteur et la largeur de la police système par défaut sur l'ordinateur du développeur.</span><span class="sxs-lookup"><span data-stu-id="fd550-128">At design time, the <xref:System.Windows.Forms.Form.AutoScaleBaseSize%2A> property (which is now deprecated) was set to the height and width of the default system font on the developer's machine.</span></span>

2. <span data-ttu-id="fd550-129">Au moment de l'exécution, la police système par défaut de l'ordinateur de l'utilisateur était utilisée pour initialiser la propriété <xref:System.Windows.Forms.Control.Font%2A> de la classe <xref:System.Windows.Forms.Form>.</span><span class="sxs-lookup"><span data-stu-id="fd550-129">At runtime, the default system font of the user's machine was used to initialize the <xref:System.Windows.Forms.Control.Font%2A> property of the <xref:System.Windows.Forms.Form> class.</span></span>

3. <span data-ttu-id="fd550-130">Avant d'afficher le formulaire, la méthode <xref:System.Windows.Forms.Form.ApplyAutoScaling%2A> était appelée pour mettre à l'échelle le formulaire.</span><span class="sxs-lookup"><span data-stu-id="fd550-130">Before displaying the form, the <xref:System.Windows.Forms.Form.ApplyAutoScaling%2A> method was called to scale the form.</span></span> <span data-ttu-id="fd550-131">Cette méthode calculait les tailles d'échelle relatives à partir des propriétés <xref:System.Windows.Forms.Form.AutoScaleBaseSize%2A> et <xref:System.Windows.Forms.Control.Font%2A>, puis appelait la méthode <xref:System.Windows.Forms.Control.Scale%2A> pour mettre à l'échelle le formulaire et ses enfants.</span><span class="sxs-lookup"><span data-stu-id="fd550-131">This method calculated the relative scale sizes from <xref:System.Windows.Forms.Form.AutoScaleBaseSize%2A> and <xref:System.Windows.Forms.Control.Font%2A> then called the <xref:System.Windows.Forms.Control.Scale%2A> method to actually scale the form and its children.</span></span>

4. <span data-ttu-id="fd550-132">La valeur de <xref:System.Windows.Forms.Form.AutoScaleBaseSize%2A> était mise à jour pour que les appels ultérieurs à <xref:System.Windows.Forms.Form.ApplyAutoScaling%2A> ne redimensionnent pas progressivement le formulaire.</span><span class="sxs-lookup"><span data-stu-id="fd550-132">The value of <xref:System.Windows.Forms.Form.AutoScaleBaseSize%2A> was updated so that subsequent calls to <xref:System.Windows.Forms.Form.ApplyAutoScaling%2A> did not progressively resize the form.</span></span>

<span data-ttu-id="fd550-133">Même si ce mécanisme était suffisant dans la plupart des cas, il souffrait des limitations suivantes :</span><span class="sxs-lookup"><span data-stu-id="fd550-133">While this mechanism was sufficient for most purposes, it suffered from the following limitations:</span></span>

- <span data-ttu-id="fd550-134">Étant donné que le <xref:System.Windows.Forms.Form.AutoScaleBaseSize%2A> propriété représente la taille de police de base en tant que valeurs entières, des erreurs d’arrondi apparaissent clairement lorsqu’un formulaire passe par plusieurs résolutions.</span><span class="sxs-lookup"><span data-stu-id="fd550-134">Since the <xref:System.Windows.Forms.Form.AutoScaleBaseSize%2A> property represents the baseline font size as integer values, rounding errors occur that become evident when a form is cycled through multiple resolutions.</span></span>

- <span data-ttu-id="fd550-135">La mise à l'échelle automatique était implémentée uniquement dans la classe <xref:System.Windows.Forms.Form>, et non dans la classe <xref:System.Windows.Forms.ContainerControl>.</span><span class="sxs-lookup"><span data-stu-id="fd550-135">Automatic scaling was implemented in only the <xref:System.Windows.Forms.Form> class, not in the <xref:System.Windows.Forms.ContainerControl> class.</span></span> <span data-ttu-id="fd550-136">Ainsi, les contrôles utilisateur étaient mis à l'échelle correctement uniquement quand le contrôle utilisateur était conçu à la même résolution que le formulaire et quand il était placé dans le formulaire au moment du design.</span><span class="sxs-lookup"><span data-stu-id="fd550-136">As a result, user controls would scale correctly only when the user control was designed at the same resolution as the form, and it was placed in the form at design time.</span></span>

- <span data-ttu-id="fd550-137">Les formulaires et leurs contrôles enfants pouvaient uniquement être conçus simultanément par plusieurs développeurs si la résolution de leurs ordinateurs était identique.</span><span class="sxs-lookup"><span data-stu-id="fd550-137">Forms and their child controls could only be concurrently designed by multiple developers if their machine resolutions were the same.</span></span> <span data-ttu-id="fd550-138">De même, cela rendait l’héritage d’un formulaire dépendant de la résolution associée au formulaire parent.</span><span class="sxs-lookup"><span data-stu-id="fd550-138">Likewise it also made inheritance of a form dependent on the resolution associated with the parent form.</span></span>

> [!NOTE]
> <span data-ttu-id="fd550-139">Avec les différences extrêmes dans l’affichage dpi, en particulier dans les périphériques modernes 2-1, cela peut encore se produire avec les versions plus récentes de .NET Framework et Visual Studio.</span><span class="sxs-lookup"><span data-stu-id="fd550-139">With the extreme differences in display DPIs, especially in modern 2-in-1 devices, this can still happen with the most current versions of the .NET Framework and Visual Studio.</span></span> <span data-ttu-id="fd550-140">Pour résoudre ce problème dans une équipe à l’aide de différents affichages PPP, assurez-vous que Visual Studio toujours démarre en mode non compatible PPP, donc le Concepteur Windows Forms base toujours le calcul de la disposition de 96 PPP.</span><span class="sxs-lookup"><span data-stu-id="fd550-140">To address this in a team using different DPI displays, make sure Visual Studio always starts in a non-DPI-aware mode, so the Windows Forms designer always bases the layout calculation on 96 DPI.</span></span> <span data-ttu-id="fd550-141">À cette fin, il vous suffit de définir la clé de Registre suivante pour désactiver la reconnaissance des HighDPI de Visual Studio :</span><span class="sxs-lookup"><span data-stu-id="fd550-141">To this end, simply set the following registry key to disable Visual Studio's HighDPI awareness:</span></span>
>
> ```
> [HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Windows NT\CurrentVersion\Image File Execution Options\devenv.exe]
> "dpiAwareness"=dword:00000000
> ```

- <span data-ttu-id="fd550-142">Cela n'est pas compatible avec les gestionnaires de présentation plus récents introduits dans [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] version 2.0, tels que <xref:System.Windows.Forms.FlowLayoutPanel> et <xref:System.Windows.Forms.TableLayoutPanel>.</span><span class="sxs-lookup"><span data-stu-id="fd550-142">It is not compatible with the newer layout managers introduced with the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] version 2.0, such as <xref:System.Windows.Forms.FlowLayoutPanel> and <xref:System.Windows.Forms.TableLayoutPanel>.</span></span>

- <span data-ttu-id="fd550-143">Ce mécanisme ne prenait pas en charge la mise à l'échelle basée directement sur la résolution d'affichage, qui est nécessaire pour la compatibilité avec [!INCLUDE[compact](../../../includes/compact-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fd550-143">It did not support scaling based directly on the display resolution that is required for compatibility to the [!INCLUDE[compact](../../../includes/compact-md.md)].</span></span>

<span data-ttu-id="fd550-144">Bien que ce mécanisme soit conservé dans [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] version 2.0 pour assurer la compatibilité descendante, il a été remplacé par le mécanisme de mise à l'échelle plus fiable décrit ci-dessous.</span><span class="sxs-lookup"><span data-stu-id="fd550-144">Although this mechanism is preserved in the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] version 2.0 to maintain backward compatibility, it has been superseded by the more robust scaling mechanism described next.</span></span> <span data-ttu-id="fd550-145">Par conséquent, <xref:System.Windows.Forms.Form.AutoScale%2A>, <xref:System.Windows.Forms.Form.ApplyAutoScaling%2A>, <xref:System.Windows.Forms.Form.AutoScaleBaseSize%2A> et certaines surcharges <xref:System.Windows.Forms.Control.Scale%2A> sont marquées comme obsolètes.</span><span class="sxs-lookup"><span data-stu-id="fd550-145">As a consequence, the <xref:System.Windows.Forms.Form.AutoScale%2A>, <xref:System.Windows.Forms.Form.ApplyAutoScaling%2A>, <xref:System.Windows.Forms.Form.AutoScaleBaseSize%2A>, and certain <xref:System.Windows.Forms.Control.Scale%2A> overloads are marked as obsolete.</span></span>

> [!NOTE]
> <span data-ttu-id="fd550-146">Vous pouvez supprimer sans risque les références à ces membres quand vous mettez à niveau votre code hérité vers [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] version 2.0.</span><span class="sxs-lookup"><span data-stu-id="fd550-146">You can safely delete references to these members when you upgrade your legacy code to the [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] version 2.0.</span></span>

## <a name="current-support-for-automatic-scaling"></a><span data-ttu-id="fd550-147">Prise en charge en cours de mise à l’échelle automatique</span><span class="sxs-lookup"><span data-stu-id="fd550-147">Current support for automatic scaling</span></span>
<span data-ttu-id="fd550-148">[!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] version 2.0 élimine les limitations précédentes en introduisant les modifications suivantes de la mise à l'échelle automatique des Windows Forms :</span><span class="sxs-lookup"><span data-stu-id="fd550-148">The [!INCLUDE[dnprdnshort](../../../includes/dnprdnshort-md.md)] version 2.0 surmounts previous limitations by introducing the following changes to the automatic scaling of Windows Forms:</span></span>

- <span data-ttu-id="fd550-149">La prise en charge de base de la mise à l'échelle a été déplacée vers la classe <xref:System.Windows.Forms.ContainerControl> pour que les formulaires, les contrôles composites natifs et les contrôles utilisateur bénéficient tous d'une prise en charge uniforme de la mise à l'échelle.</span><span class="sxs-lookup"><span data-stu-id="fd550-149">Base support for scaling has been moved to the <xref:System.Windows.Forms.ContainerControl> class so that forms, native composite controls and user controls all receive uniform scaling support.</span></span> <span data-ttu-id="fd550-150">Les nouveaux membres <xref:System.Windows.Forms.ContainerControl.AutoScaleFactor%2A>, <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A>, <xref:System.Windows.Forms.ContainerControl.AutoScaleMode%2A> et <xref:System.Windows.Forms.ContainerControl.PerformAutoScale%2A> ont été ajoutés.</span><span class="sxs-lookup"><span data-stu-id="fd550-150">The new members <xref:System.Windows.Forms.ContainerControl.AutoScaleFactor%2A>, <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A>, <xref:System.Windows.Forms.ContainerControl.AutoScaleMode%2A> and <xref:System.Windows.Forms.ContainerControl.PerformAutoScale%2A> have been added.</span></span>

- <span data-ttu-id="fd550-151">La classe <xref:System.Windows.Forms.Control> comporte également plusieurs nouveaux membres qui lui permettent de participer à la mise à l'échelle et de prendre en charge la mise à l'échelle mixte sur le même formulaire.</span><span class="sxs-lookup"><span data-stu-id="fd550-151">The <xref:System.Windows.Forms.Control> class also has several new members that allow it to participate in scaling and to support mixed scaling on the same form.</span></span> <span data-ttu-id="fd550-152">En particulier les membres <xref:System.Windows.Forms.Control.Scale%2A>, <xref:System.Windows.Forms.Control.ScaleChildren%2A>, et <xref:System.Windows.Forms.Control.GetScaledBounds%2A> prennent en charge la mise à l'échelle.</span><span class="sxs-lookup"><span data-stu-id="fd550-152">Specifically the <xref:System.Windows.Forms.Control.Scale%2A>, <xref:System.Windows.Forms.Control.ScaleChildren%2A>, and <xref:System.Windows.Forms.Control.GetScaledBounds%2A> members support scaling.</span></span>

- <span data-ttu-id="fd550-153">La prise en charge de la mise à l'échelle en fonction de la résolution d'écran a été ajoutée pour compléter la prise en charge de la police système, comme défini par l'énumération <xref:System.Windows.Forms.AutoScaleMode>.</span><span class="sxs-lookup"><span data-stu-id="fd550-153">Support for scaling based upon the screen resolution has been added to complement system font support, as defined by the <xref:System.Windows.Forms.AutoScaleMode> enumeration.</span></span> <span data-ttu-id="fd550-154">Ce mode est compatible avec la mise à l'échelle automatique prise en charge par [!INCLUDE[compact](../../../includes/compact-md.md)], ce qui simplifie la migration des applications.</span><span class="sxs-lookup"><span data-stu-id="fd550-154">This mode is compatible with automatic scaling supported by the [!INCLUDE[compact](../../../includes/compact-md.md)] enabling easier application migration.</span></span>

- <span data-ttu-id="fd550-155">La compatibilité avec les gestionnaires de présentation tels que <xref:System.Windows.Forms.FlowLayoutPanel> et <xref:System.Windows.Forms.TableLayoutPanel> a été ajoutée à l'implémentation de la mise à l'échelle automatique.</span><span class="sxs-lookup"><span data-stu-id="fd550-155">Compatibility with layout managers such as <xref:System.Windows.Forms.FlowLayoutPanel> and <xref:System.Windows.Forms.TableLayoutPanel> has been added to the implementation of automatic scaling.</span></span>

- <span data-ttu-id="fd550-156">Les facteurs d'échelle sont désormais représentés sous forme de valeurs à virgule flottante, généralement avec la structure <xref:System.Drawing.SizeF>. Les erreurs d'arrondi sont donc pratiquement inexistantes.</span><span class="sxs-lookup"><span data-stu-id="fd550-156">Scaling factors are now represented as floating point values, typically using the <xref:System.Drawing.SizeF> structure, so that rounding errors have been practically eliminated.</span></span>

> [!CAUTION]
> <span data-ttu-id="fd550-157">Les combinaisons arbitraires de modes de mise à l'échelle de police et PPP ne sont pas prises en charge.</span><span class="sxs-lookup"><span data-stu-id="fd550-157">Arbitrary mixtures of DPI and font scaling modes are not supported.</span></span> <span data-ttu-id="fd550-158">Bien que vous puissiez mettre à l'échelle un contrôle utilisateur à l'aide d'un mode (par exemple PPP) et le et placer sur un formulaire à l'aide d'un autre mode (Police) sans problème, le fait de combiner un formulaire de base dans un mode et un formulaire dérivé dans un autre peut produire des résultats inattendus.</span><span class="sxs-lookup"><span data-stu-id="fd550-158">Although you may scale a user control using one mode (for example, DPI) and place it on a form using another mode (Font) with no issues, but mixing a base form in one mode and a derived form in another can lead to unexpected results.</span></span>

### <a name="automatic-scaling-in-action"></a><span data-ttu-id="fd550-159">Automatique de mise à l’échelle en action</span><span class="sxs-lookup"><span data-stu-id="fd550-159">Automatic scaling in action</span></span>
<span data-ttu-id="fd550-160">Windows Forms utilise désormais la logique suivante pour mettre automatiquement à l'échelle les formulaires et leur contenu :</span><span class="sxs-lookup"><span data-stu-id="fd550-160">Windows Forms now uses the following logic to automatically scale forms and their contents:</span></span>

1. <span data-ttu-id="fd550-161">Au moment du design, chaque <xref:System.Windows.Forms.ContainerControl> enregistre le mode de mise à l'échelle et sa résolution actuelle dans les propriétés <xref:System.Windows.Forms.ContainerControl.AutoScaleMode%2A> et <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A>, respectivement.</span><span class="sxs-lookup"><span data-stu-id="fd550-161">At design time, each <xref:System.Windows.Forms.ContainerControl> records the scaling mode and it current resolution in the <xref:System.Windows.Forms.ContainerControl.AutoScaleMode%2A> and <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A>, respectively.</span></span>

2. <span data-ttu-id="fd550-162">Au moment de l'exécution, la résolution réelle est stockée dans la propriété <xref:System.Windows.Forms.ContainerControl.CurrentAutoScaleDimensions%2A>.</span><span class="sxs-lookup"><span data-stu-id="fd550-162">At run time, the actual resolution is stored in the <xref:System.Windows.Forms.ContainerControl.CurrentAutoScaleDimensions%2A> property.</span></span> <span data-ttu-id="fd550-163">La propriété <xref:System.Windows.Forms.ContainerControl.AutoScaleFactor%2A> calcule dynamiquement le rapport entre la résolution de mise à l'échelle au moment de l'exécution et au moment du design.</span><span class="sxs-lookup"><span data-stu-id="fd550-163">The <xref:System.Windows.Forms.ContainerControl.AutoScaleFactor%2A> property dynamically calculates the ratio between the run-time and design-time scaling resolution.</span></span>

3. <span data-ttu-id="fd550-164">Quand le formulaire se charge, si les valeurs de <xref:System.Windows.Forms.ContainerControl.CurrentAutoScaleDimensions%2A> et <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A> sont différentes, la méthode <xref:System.Windows.Forms.ContainerControl.PerformAutoScale%2A> est appelée pour mettre à l'échelle le contrôle et ses enfants.</span><span class="sxs-lookup"><span data-stu-id="fd550-164">When the form loads, if the values of <xref:System.Windows.Forms.ContainerControl.CurrentAutoScaleDimensions%2A> and <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A> are different, then the <xref:System.Windows.Forms.ContainerControl.PerformAutoScale%2A> method is called to scale the control and its children.</span></span> <span data-ttu-id="fd550-165">Cette méthode suspend la disposition et appelle la méthode <xref:System.Windows.Forms.Control.Scale%2A> pour effectuer la mise à l'échelle.</span><span class="sxs-lookup"><span data-stu-id="fd550-165">This method suspends layout and calls the <xref:System.Windows.Forms.Control.Scale%2A> method to perform the actual scaling.</span></span> <span data-ttu-id="fd550-166">Par la suite, la valeur de <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A> est mise à jour pour éviter la mise à l'échelle progressive.</span><span class="sxs-lookup"><span data-stu-id="fd550-166">Afterwards, the value of <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A> is updated to avoid progressive scaling.</span></span>

4. <span data-ttu-id="fd550-167"><xref:System.Windows.Forms.ContainerControl.PerformAutoScale%2A> est également appelée automatiquement dans les situations suivantes :</span><span class="sxs-lookup"><span data-stu-id="fd550-167"><xref:System.Windows.Forms.ContainerControl.PerformAutoScale%2A> is also automatically invoked in the following situations:</span></span>

    - <span data-ttu-id="fd550-168">En réponse à l'événement <xref:System.Windows.Forms.Control.OnFontChanged%2A> si le mode de mise à l'échelle est <xref:System.Windows.Forms.AutoScaleMode.Font>.</span><span class="sxs-lookup"><span data-stu-id="fd550-168">In response to the <xref:System.Windows.Forms.Control.OnFontChanged%2A> event if the scaling mode is <xref:System.Windows.Forms.AutoScaleMode.Font>.</span></span>
  
    - <span data-ttu-id="fd550-169">Quand la disposition du contrôle conteneur reprend et qu'une modification est détectée dans la propriété <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A> ou <xref:System.Windows.Forms.ContainerControl.AutoScaleMode%2A>.</span><span class="sxs-lookup"><span data-stu-id="fd550-169">When the layout of the container control resumes and a change is detected in the <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A> or <xref:System.Windows.Forms.ContainerControl.AutoScaleMode%2A> properties.</span></span>
  
    - <span data-ttu-id="fd550-170">Comme expliqué ci-dessus, quand un <xref:System.Windows.Forms.ContainerControl> parent est mis à l'échelle.</span><span class="sxs-lookup"><span data-stu-id="fd550-170">As implied above, when a parent <xref:System.Windows.Forms.ContainerControl> is being scaled.</span></span> <span data-ttu-id="fd550-171">Chaque contrôle conteneur est responsable de la mise à l'échelle de ses enfants à l'aide de ses propres facteurs d'échelle, et non de celui de son conteneur parent.</span><span class="sxs-lookup"><span data-stu-id="fd550-171">Each container control is responsible for scaling its children using its own scaling factors and not the one from its parent container.</span></span>

5. <span data-ttu-id="fd550-172">Les contrôles enfants peuvent modifier leur comportement de mise à l'échelle de plusieurs manières :</span><span class="sxs-lookup"><span data-stu-id="fd550-172">Child controls can modify their scaling behavior through several means:</span></span>

    - <span data-ttu-id="fd550-173">La propriété <xref:System.Windows.Forms.Control.ScaleChildren%2A> peut être substituée pour déterminer si leurs contrôles enfants doivent être mis à l'échelle ou non.</span><span class="sxs-lookup"><span data-stu-id="fd550-173">The <xref:System.Windows.Forms.Control.ScaleChildren%2A> property can be overridden to determine if their child controls should be scaled or not.</span></span>

    - <span data-ttu-id="fd550-174">La méthode <xref:System.Windows.Forms.Control.GetScaledBounds%2A> peut être substituée pour ajuster les limites de mise à l'échelle du contrôle, mais pas la logique de mise à l'échelle.</span><span class="sxs-lookup"><span data-stu-id="fd550-174">The <xref:System.Windows.Forms.Control.GetScaledBounds%2A> method can be overridden to adjust the bounds that the control is scaled to, but not the scaling logic.</span></span>

    - <span data-ttu-id="fd550-175">La méthode <xref:System.Windows.Forms.Control.ScaleControl%2A> peut être substituée pour modifier la logique de mise à l'échelle pour le contrôle actuel.</span><span class="sxs-lookup"><span data-stu-id="fd550-175">The <xref:System.Windows.Forms.Control.ScaleControl%2A> method can be overridden to change the scaling logic for the current control.</span></span>

## <a name="see-also"></a><span data-ttu-id="fd550-176">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fd550-176">See also</span></span>
 <xref:System.Windows.Forms.ContainerControl.AutoScaleMode%2A>  
 <xref:System.Windows.Forms.Control.Scale%2A>  
 <xref:System.Windows.Forms.ContainerControl.PerformAutoScale%2A>  
 <xref:System.Windows.Forms.ContainerControl.AutoScaleDimensions%2A>  
 [<span data-ttu-id="fd550-177">Rendu des contrôles avec les styles visuels</span><span class="sxs-lookup"><span data-stu-id="fd550-177">Rendering Controls with Visual Styles</span></span>](./controls/rendering-controls-with-visual-styles.md)  
 [<span data-ttu-id="fd550-178">Guide pratique pour améliorer les performances en évitant la mise à l’échelle automatique</span><span class="sxs-lookup"><span data-stu-id="fd550-178">How to: Improve Performance by Avoiding Automatic Scaling</span></span>](./advanced/how-to-improve-performance-by-avoiding-automatic-scaling.md)
