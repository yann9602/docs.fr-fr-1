---
title: "Élévation de privilège"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- elevation of privilege [WCF]
- security [WCF], elevation of privilege
ms.assetid: 146e1c66-2a76-4ed3-98a5-fd77851a06d9
caps.latest.revision: "16"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: ce245335fecd0f8735759135989bcd49ca6bf18b
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/21/2017
---
# <a name="elevation-of-privilege"></a><span data-ttu-id="fbc4f-102">Élévation de privilège</span><span class="sxs-lookup"><span data-stu-id="fbc4f-102">Elevation of Privilege</span></span>
<span data-ttu-id="fbc4f-103">*Élévation de privilège* des résultats de l’octroi à un intrus d’autorisations supérieures à celles initialement accordées.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-103">*Elevation of privilege* results from giving an attacker authorization permissions beyond those initially granted.</span></span> <span data-ttu-id="fbc4f-104">Par exemple, un intrus avec un jeu de privilèges contenant des autorisations « en lecture seule » élèvent d'une façon ou d'une autre le jeu pour inclure des autorisations « en lecture et en écriture ».</span><span class="sxs-lookup"><span data-stu-id="fbc4f-104">For example, an attacker with a privilege set of "read only" permissions somehow elevates the set to include "read and write."</span></span>  
  
## <a name="trusted-sts-should-sign-saml-token-claims"></a><span data-ttu-id="fbc4f-105">Un STS approuvé doit signer des revendications de jeton SAML</span><span class="sxs-lookup"><span data-stu-id="fbc4f-105">Trusted STS Should Sign SAML Token Claims</span></span>  
 <span data-ttu-id="fbc4f-106">Un jeton SAML (Security Assertions Markup Language) est un jeton XML générique qui est le type par défaut pour les jetons émis.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-106">A Security Assertions Markup Language (SAML) token is a generic XML token that is the default type for issued tokens.</span></span> <span data-ttu-id="fbc4f-107">Un jeton SAML peut être construit par un service de jeton de sécurité (STS, Security Token Service) que le service Web de fin approuve dans un échange standard.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-107">A SAML token can be constructed by a Security Token Service (STS) that the end Web service trusts in a typical exchange.</span></span> <span data-ttu-id="fbc4f-108">Les jetons SAML contiennent des revendications dans les instructions.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-108">SAML tokens contain claims in statements.</span></span> <span data-ttu-id="fbc4f-109">Un intrus peut copier les revendications d'un jeton valide, créer un jeton SAML et le signer avec un émetteur différent.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-109">An attacker may copy the claims from a valid token, create a new SAML token, and sign it with a different issuer.</span></span> <span data-ttu-id="fbc4f-110">L'intention est de déterminer si le serveur valide des émetteurs et, si ce n'est pas le cas, d'utiliser la faille pour construire des jetons SAML qui autorisent des privilèges supérieurs à ceux prévus par un STS approuvé.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-110">The intent is to determine whether the server is validating issuers and, if not, utilize the weakness to construct SAML tokens that allow privileges beyond those intended by a trusted STS.</span></span>  
  
 <span data-ttu-id="fbc4f-111">La classe <xref:System.IdentityModel.Tokens.SamlAssertion> vérifie la signature numérique contenue dans un jeton SAML, et le <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator> par défaut nécessite que les jetons SAML soient signés par un certificat X.509 qui est valide lorsque le <xref:System.ServiceModel.Security.IssuedTokenServiceCredential.CertificateValidationMode%2A> de la classe <xref:System.ServiceModel.Security.IssuedTokenServiceCredential> a la valeur <xref:System.ServiceModel.Security.X509CertificateValidationMode.ChainTrust>.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-111">The <xref:System.IdentityModel.Tokens.SamlAssertion> class verifies the digital signature contained within a SAML token, and the default <xref:System.IdentityModel.Selectors.SamlSecurityTokenAuthenticator> requires that SAML tokens be signed by an X.509 certificate that is valid when the <xref:System.ServiceModel.Security.IssuedTokenServiceCredential.CertificateValidationMode%2A> of the <xref:System.ServiceModel.Security.IssuedTokenServiceCredential> class is set to <xref:System.ServiceModel.Security.X509CertificateValidationMode.ChainTrust>.</span></span> <span data-ttu-id="fbc4f-112">Le mode `ChainTrust` seul ne suffit pas pour déterminer si l'émetteur du jeton SAML est approuvé.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-112">`ChainTrust` mode alone is insufficient to determine whether the issuer of the SAML token is trusted.</span></span> <span data-ttu-id="fbc4f-113">Les services qui requièrent un modèle d'approbation plus précis peuvent soit faire appel aux stratégies d'autorisation et d'application pour vérifier l'émetteur des jeux de revendications produits par l'authentification de jetons émis, soit utiliser les paramètres de validation X.509 sur <xref:System.ServiceModel.Security.IssuedTokenServiceCredential> pour restreindre le jeu de certificats de signature autorisés.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-113">Services that require a more granular trust model can either use authorization and enforcement policies to check the issuer of the claim sets produced by issued token authentication or use the X.509 validation settings on <xref:System.ServiceModel.Security.IssuedTokenServiceCredential> to restrict the set of allowed signing certificates.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="fbc4f-114">[Gestion des revendications et autorisation avec le modèle d’identité](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md) et [fédération et jetons émis](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span><span class="sxs-lookup"><span data-stu-id="fbc4f-114"> [Managing Claims and Authorization with the Identity Model](../../../../docs/framework/wcf/feature-details/managing-claims-and-authorization-with-the-identity-model.md) and [Federation and Issued Tokens](../../../../docs/framework/wcf/feature-details/federation-and-issued-tokens.md).</span></span>  
  
## <a name="switching-identity-without-a-security-context"></a><span data-ttu-id="fbc4f-115">Transfert d'identité sans un contexte de sécurité</span><span class="sxs-lookup"><span data-stu-id="fbc4f-115">Switching Identity Without a Security Context</span></span>  
 <span data-ttu-id="fbc4f-116">Les éléments suivants s'appliquent uniquement à [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fbc4f-116">The following applies only to [!INCLUDE[vstecwinfx](../../../../includes/vstecwinfx-md.md)].</span></span>  
  
 <span data-ttu-id="fbc4f-117">Lorsqu'une connexion est établie entre un client et un serveur, l'identité du client ne change pas, sauf dans une situation : après l'ouverture du client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], si toutes les conditions suivantes sont remplies :</span><span class="sxs-lookup"><span data-stu-id="fbc4f-117">When a connection is established between a client and server, the identity of the client does not change, except in one situation: after the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client is opened, if all of the following conditions are true:</span></span>  
  
-   <span data-ttu-id="fbc4f-118">Les procédures pour établir un contexte de sécurité (à l’aide de la sécurité de transport, session ou une session de sécurité de message) est désactivée (<xref:System.ServiceModel.NonDualMessageSecurityOverHttp.EstablishSecurityContext%2A> est définie sur `false` en cas de sécurité de message ou pas en mesure d’établir la sécurité de transport sessions est utilisée dans les cas de sécurité de transport.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-118">The procedures to establish a security context (using a transport security session or message security session) is switched off (<xref:System.ServiceModel.NonDualMessageSecurityOverHttp.EstablishSecurityContext%2A> property is set to `false` in case of message security or transport not capable of establishing security sessions is used in transport security case.</span></span> <span data-ttu-id="fbc4f-119">HTTPS est un exemple de ce transport).</span><span class="sxs-lookup"><span data-stu-id="fbc4f-119">HTTPS is one example of such transport).</span></span>  
  
-   <span data-ttu-id="fbc4f-120">Vous utilisez l'authentification Windows.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-120">You are using Windows authentication.</span></span>  
  
-   <span data-ttu-id="fbc4f-121">Vous ne définissez pas l'information d'identification explicitement.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-121">You do not explicitly set the credential.</span></span>  
  
-   <span data-ttu-id="fbc4f-122">Vous appelez le service dans le contexte de sécurité dont l'identité a été empruntée.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-122">You are calling the service under the impersonated security context.</span></span>  
  
 <span data-ttu-id="fbc4f-123">Si ces conditions sont remplies, l'identité utilisée pour authentifier le client auprès du service peut changer (il se peut qu'il ne s'agisse pas de l'identité empruntée mais de l'identité de processus) après l'ouverture du client [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="fbc4f-123">If these conditions are true, the identity used to authenticate the client to the service might change (it might not be the impersonated identity but the process identity instead) after the [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] client is opened.</span></span> <span data-ttu-id="fbc4f-124">Cela se produit parce que les informations d'identification Windows utilisées pour authentifier le client auprès du service sont transmises avec chaque message, et l'information d'identification utilisée pour l'authentification provient de l'identité Windows du thread actuel.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-124">This occurs because the Windows credential used to authenticate the client to the service is transmitted with every message, and the credential used for authentication is obtained from the current thread's Windows identity.</span></span> <span data-ttu-id="fbc4f-125">Si l'identité Windows du thread actuel change (par exemple, en empruntant l'identité d'un appelant différent), l'information d'identification jointe au message et utilisé pour authentifier le client auprès du service peut changer également.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-125">If the Windows identity of the current thread changes (for example, by impersonating a different caller), the credential that is attached to the message and used to authenticate the client to the service might also change.</span></span>  
  
 <span data-ttu-id="fbc4f-126">Si vous souhaitez avoir un comportement déterministe lorsque vous utilisez l'authentification Windows avec l'emprunt d'identité, vous devez définir les informations d'identification Windows explicitement ou vous devez établir un contexte de sécurité avec le service.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-126">If you want to have deterministic behavior when using Windows authentication together with impersonation you need to explicitly set the Windows credential or you need to establish a security context with the service.</span></span> <span data-ttu-id="fbc4f-127">Pour cela, utilisez une session de sécurité de message ou une session de sécurité de transport.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-127">To do this, use a message security session or a transport security session.</span></span> <span data-ttu-id="fbc4f-128">Par exemple, le transport net.tcp peut fournir une session de sécurité de transport.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-128">For example, the net.tcp transport can provide a transport security session.</span></span> <span data-ttu-id="fbc4f-129">En outre, vous devez utiliser uniquement une version synchrone des opérations clientes lors de l'appel du service.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-129">Additionally, you must use only a synchronous version of client operations when calling the service.</span></span> <span data-ttu-id="fbc4f-130">Si vous établissez un contexte de sécurité de message, vous ne devez pas garder la connexion au service ouverte plus longtemps que la période de renouvellement de la session configurée, étant donné que l'identité peut également changer pendant le processus de renouvellement de la session.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-130">If you establish a message security context, you should not keep the connection to the service open longer than the configured session renewal period, because the identity can also change during the session renewal process.</span></span>  
  
### <a name="credentials-capture"></a><span data-ttu-id="fbc4f-131">Capture des informations d'identification</span><span class="sxs-lookup"><span data-stu-id="fbc4f-131">Credentials Capture</span></span>  
 <span data-ttu-id="fbc4f-132">Les éléments suivants s'appliquent au [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)], et aux versions ultérieures.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-132">The following applies to [!INCLUDE[netfx35_long](../../../../includes/netfx35-long-md.md)], and subsequent versions.</span></span>  
  
 <span data-ttu-id="fbc4f-133">Les informations d'identification utilisées par le client ou le service sont basées sur le thread de contexte actuel.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-133">Credentials used by the client or the service are based on the current context thread.</span></span> <span data-ttu-id="fbc4f-134">Les informations d'identification sont obtenues lorsque la méthode `Open` (ou `BeginOpen`, pour les appels asynchrones) du client ou du service est appelée.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-134">The credentials are obtained when the `Open` method (or `BeginOpen`, for asynchronous calls) of the client or service is called.</span></span> <span data-ttu-id="fbc4f-135">Pour les classes <xref:System.ServiceModel.ServiceHost> et <xref:System.ServiceModel.ClientBase%601>, les méthodes `Open` et `BeginOpen` héritent des méthodes <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> et <xref:System.ServiceModel.Channels.CommunicationObject.BeginOpen%2A> de la classe <xref:System.ServiceModel.Channels.CommunicationObject>.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-135">For both the <xref:System.ServiceModel.ServiceHost> and <xref:System.ServiceModel.ClientBase%601> classes, the `Open` and `BeginOpen` methods inherit from the <xref:System.ServiceModel.Channels.CommunicationObject.Open%2A> and <xref:System.ServiceModel.Channels.CommunicationObject.BeginOpen%2A> methods of the <xref:System.ServiceModel.Channels.CommunicationObject> class.</span></span>  
  
> [!NOTE]
>  <span data-ttu-id="fbc4f-136">Lors de l'utilisation de la méthode `BeginOpen`, il n'est pas possible de garantir que les informations d'identification capturées sont celles du processus qui appelle la méthode.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-136">When using the `BeginOpen` method, the credentials captured cannot be guaranteed to be the credentials of the process that calls the method.</span></span>  
  
## <a name="token-caches-allow-replay-using-obsolete-data"></a><span data-ttu-id="fbc4f-137">Les caches de jeton autorisent la relecture en utilisant des données obsolètes</span><span class="sxs-lookup"><span data-stu-id="fbc4f-137">Token Caches Allow Replay Using Obsolete Data</span></span>  
 [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)]<span data-ttu-id="fbc4f-138"> utilise la fonction de l'autorité de sécurité locale (LSA, Local Security Authority) `LogonUser` pour authentifier des utilisateurs par nom d'utilisateur et mot de passe.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-138"> uses the local security authority (LSA) `LogonUser` function to authenticate users by user name and password.</span></span> <span data-ttu-id="fbc4f-139">Comme la fonction d'ouverture de session est une opération coûteuse, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] vous permet de mettre en cache des jetons qui représentent des utilisateurs authentifiés dans le but d'accroître les performances.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-139">Because the logon function is a costly operation, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] allows you to cache tokens that represent authenticated users to increase performance.</span></span> <span data-ttu-id="fbc4f-140">Le mécanisme de mise en cache enregistre les résultats de `LogonUser` pour des utilisations ultérieures.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-140">The caching mechanism saves the results from `LogonUser` for subsequent uses.</span></span> <span data-ttu-id="fbc4f-141">Ce mécanisme est désactivé par défaut ; pour l’activer, affectez le <xref:System.ServiceModel.Security.UserNamePasswordServiceCredential.CacheLogonTokens%2A> propriété `true`, ou utilisez le `cacheLogonTokens` attribut de la [ \<userNameAuthentication >](../../../../docs/framework/configure-apps/file-schema/wcf/usernameauthentication.md).</span><span class="sxs-lookup"><span data-stu-id="fbc4f-141">This mechanism is disabled by default; to enable it, set the <xref:System.ServiceModel.Security.UserNamePasswordServiceCredential.CacheLogonTokens%2A> property to `true`, or use the `cacheLogonTokens` attribute of the [\<userNameAuthentication>](../../../../docs/framework/configure-apps/file-schema/wcf/usernameauthentication.md).</span></span>  
  
 <span data-ttu-id="fbc4f-142">Vous pouvez définir une durée de vie pour les jetons mis en cache en affectant à la propriété <xref:System.ServiceModel.Security.UserNamePasswordServiceCredential.CachedLogonTokenLifetime%2A> la valeur <xref:System.TimeSpan> ou utilisez l'attribut `cachedLogonTokenLifetime` de l'élément `userNameAuthentication` ; la valeur par défaut est 15 minutes.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-142">You can set a Time to Live (TTL) for the cached tokens by setting the <xref:System.ServiceModel.Security.UserNamePasswordServiceCredential.CachedLogonTokenLifetime%2A> property to a <xref:System.TimeSpan>, or use the `cachedLogonTokenLifetime` attribute of the `userNameAuthentication` element; the default is 15 minutes.</span></span> <span data-ttu-id="fbc4f-143">Notez que lors de la mise en cache d'un jeton, tout client qui présente le même nom d'utilisateur et mot de passe peut utiliser le jeton, même si le compte d'utilisateur est supprimé de Windows ou si son mot de passe a été modifié.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-143">Note that while a token is cached, any client that presents the same user name and password can use the token, even if the user account is deleted from Windows or if its password has been changed.</span></span> <span data-ttu-id="fbc4f-144">Tant que la durée de vie n'a pas expiré et le jeton n'a pas été supprimé du cache, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] permet à l'utilisateur (un intrus possible) à s'authentifier.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-144">Until the TTL expires and the token is removed from the cache, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] allows the (possibly malicious) user to authenticate.</span></span>  
  
 <span data-ttu-id="fbc4f-145">Pour atténuer ce risque : réduisez le délai d'attaque en affectant à la valeur `cachedLogonTokenLifetime` l'intervalle de temps le plus court que nécessitent vos utilisateurs.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-145">To mitigate this: Decrease the attack window by setting the `cachedLogonTokenLifetime` value to the shortest time span your users need.</span></span>  
  
## <a name="issued-token-authorization-expiration-reset-to-large-value"></a><span data-ttu-id="fbc4f-146">Autorisation de jeton émis : l'expiration réinitialisée à une grande valeur</span><span class="sxs-lookup"><span data-stu-id="fbc4f-146">Issued Token Authorization: Expiration Reset to Large Value</span></span>  
 <span data-ttu-id="fbc4f-147">Dans certaines conditions, la propriété <xref:System.IdentityModel.Policy.AuthorizationContext.ExpirationTime%2A> du <xref:System.IdentityModel.Policy.AuthorizationContext> peut avoir une valeur supérieure inattendue (la valeur de champ <xref:System.DateTime.MaxValue> moins un jour, ou le 20 décembre 9999).</span><span class="sxs-lookup"><span data-stu-id="fbc4f-147">Under certain conditions, the <xref:System.IdentityModel.Policy.AuthorizationContext.ExpirationTime%2A> property of the <xref:System.IdentityModel.Policy.AuthorizationContext> may be set to an unexpectedly larger value (the <xref:System.DateTime.MaxValue> field value minus one day, or December 20, 9999).</span></span>  
  
 <span data-ttu-id="fbc4f-148">Cela se produit lors de l'utilisation du <xref:System.ServiceModel.WSFederationHttpBinding> et des liaisons fournies par le système qui ont un jeton émis comme type d'informations d'identification du client.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-148">This occurs when using the <xref:System.ServiceModel.WSFederationHttpBinding> and any of the system-provided bindings that have an issued token as the client credential type.</span></span>  
  
 <span data-ttu-id="fbc4f-149">Cela se produit également lorsque vous créez des liaisons personnalisées en utilisant l’une des méthodes suivantes :</span><span class="sxs-lookup"><span data-stu-id="fbc4f-149">This also occurs when you create custom bindings by using one of the following methods:</span></span>  
  
-   <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenBindingElement%2A>  
  
-   <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForCertificateBindingElement%2A>  
  
-   <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenForSslBindingElement%2A>  
  
-   <xref:System.ServiceModel.Channels.SecurityBindingElement.CreateIssuedTokenOverTransportBindingElement%2A>  
  
 <span data-ttu-id="fbc4f-150">Pour atténuer ce problème, la stratégie d'autorisation doit vérifier l'action et l'heure d'expiration de chaque stratégie d'autorisation.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-150">To mitigate this, the authorization policy must check the action and the expiration time of each authorization policy.</span></span>  
  
## <a name="the-service-uses-a-different-certificate-than-the-client-intended"></a><span data-ttu-id="fbc4f-151">Le service utilise un certificat différent que celui prévu par le client</span><span class="sxs-lookup"><span data-stu-id="fbc4f-151">The Service Uses a Different Certificate Than the Client Intended</span></span>  
 <span data-ttu-id="fbc4f-152">Dans certaines conditions, un client peut signer numériquement un message avec un certificat X.509 et faire récupérer par le service un certificat différent de celui prévu.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-152">Under certain conditions, a client can digitally sign a message with an X.509 certificate and have the service retrieve a different certificate than the intended one.</span></span>  
  
 <span data-ttu-id="fbc4f-153">Cela peut se produire dans les circonstances suivantes :</span><span class="sxs-lookup"><span data-stu-id="fbc4f-153">This can occur under the following circumstances:</span></span>  
  
-   <span data-ttu-id="fbc4f-154">Le client signe numériquement un message à l'aide d'un certificat X.509 et ne joint pas le certificat X.509 au message, mais il se contente de le référencer à l'aide de son identificateur de clé du sujet.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-154">The client digitally signs a message using an X.509 certificate and does not attach the X.509 certificate to the message, but rather just references the certificate using its subject key identifier.</span></span>  
  
-   <span data-ttu-id="fbc4f-155">L'ordinateur du service contient au moins deux certificats avec la même clé publique, mais ils contiennent des informations différentes.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-155">The service's computer contains two or more certificates with the same public key, but they contain different information.</span></span>  
  
-   <span data-ttu-id="fbc4f-156">Le service récupère un certificat qui correspond à l'identificateur de clé du sujet, mais ce n'est pas celui que le client a projeté d'utiliser.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-156">The service retrieves a certificate that matches the subject key identifier, but it is not the one the client intended to use.</span></span> <span data-ttu-id="fbc4f-157">Lorsque [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] reçoit le message et vérifie la signature, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] mappe les informations dans le certificat X.509 non conforme à un jeu des revendications qui sont différentes et potentiellement élevées par rapport aux attentes du client.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-157">When [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] receives the message and verifies the signature, [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] maps the information in the unintended X.509 certificate to a set of claims that are different and potentially elevated from what the client expected.</span></span>  
  
 <span data-ttu-id="fbc4f-158">Pour atténuer ce risquez, référencez le certificat X.509 d'une autre manière, en utilisant par exemple <xref:System.ServiceModel.Security.Tokens.X509KeyIdentifierClauseType.IssuerSerial>.</span><span class="sxs-lookup"><span data-stu-id="fbc4f-158">To mitigate this, reference the X.509 certificate another way, such as using <xref:System.ServiceModel.Security.Tokens.X509KeyIdentifierClauseType.IssuerSerial>.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="fbc4f-159">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="fbc4f-159">See Also</span></span>  
 [<span data-ttu-id="fbc4f-160">Considérations sur la sécurité</span><span class="sxs-lookup"><span data-stu-id="fbc4f-160">Security Considerations</span></span>](../../../../docs/framework/wcf/feature-details/security-considerations-in-wcf.md)  
 [<span data-ttu-id="fbc4f-161">Divulgation d’informations</span><span class="sxs-lookup"><span data-stu-id="fbc4f-161">Information Disclosure</span></span>](../../../../docs/framework/wcf/feature-details/information-disclosure.md)  
 [<span data-ttu-id="fbc4f-162">Déni de Service</span><span class="sxs-lookup"><span data-stu-id="fbc4f-162">Denial of Service</span></span>](../../../../docs/framework/wcf/feature-details/denial-of-service.md)  
 [<span data-ttu-id="fbc4f-163">Attaques par relecture</span><span class="sxs-lookup"><span data-stu-id="fbc4f-163">Replay Attacks</span></span>](../../../../docs/framework/wcf/feature-details/replay-attacks.md)  
 [<span data-ttu-id="fbc4f-164">Falsification</span><span class="sxs-lookup"><span data-stu-id="fbc4f-164">Tampering</span></span>](../../../../docs/framework/wcf/feature-details/tampering.md)  
 [<span data-ttu-id="fbc4f-165">Scénarios non pris en charge</span><span class="sxs-lookup"><span data-stu-id="fbc4f-165">Unsupported Scenarios</span></span>](../../../../docs/framework/wcf/feature-details/unsupported-scenarios.md)
