---
title: "Sécurité de transport HTTP"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: d3439262-c58e-4d30-9f2b-a160170582bb
caps.latest.revision: "14"
author: BrucePerlerMS
ms.author: bruceper
manager: mbaldwin
ms.openlocfilehash: 414ae499b777be5536e64a86fa0c60f9cd2da25a
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/21/2017
---
# <a name="http-transport-security"></a><span data-ttu-id="01245-102">Sécurité de transport HTTP</span><span class="sxs-lookup"><span data-stu-id="01245-102">HTTP Transport Security</span></span>
<span data-ttu-id="01245-103">Lors de l'utilisation du protocole HTTP comme transport, la sécurité est fournie par une implémentation SSL (Secure Sockets Layer).</span><span class="sxs-lookup"><span data-stu-id="01245-103">When using HTTP as the transport, security is provided by a Secure Sockets Layer (SSL) implementation.</span></span> <span data-ttu-id="01245-104">SSL est largement utilisé sur Internet pour authentifier un service auprès d'un client, puis pour fournir la confidentialité (chiffrement) au canal.</span><span class="sxs-lookup"><span data-stu-id="01245-104">SSL is widely used on the Internet to authenticate a service to a client, and then to provide confidentiality (encryption) to the channel.</span></span> <span data-ttu-id="01245-105">Cette rubrique explique comment fonctionne le protocole SSL et comment il est implémenté dans [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="01245-105">This topic explains how SSL works and how it is implemented in [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)].</span></span>  
  
## <a name="basic-ssl"></a><span data-ttu-id="01245-106">Protocole SSL de base</span><span class="sxs-lookup"><span data-stu-id="01245-106">Basic SSL</span></span>  
 <span data-ttu-id="01245-107">On peut expliquer le fonctionnement du protocole SSL en prenant comme exemple un scénario typique, à savoir le site Web d'une banque.</span><span class="sxs-lookup"><span data-stu-id="01245-107">How SSL works is best explained through a typical scenario, in this case, a bank's Web site.</span></span> <span data-ttu-id="01245-108">Le site autorise un client à se connecter avec un nom d'utilisateur et un mot de passe.</span><span class="sxs-lookup"><span data-stu-id="01245-108">The site allows a customer to log on with a user name and password.</span></span> <span data-ttu-id="01245-109">Après avoir été authentifié, l’utilisateur peut effectuer des transactions, par exemple afficher les soldes de ses comptes, régler des factures et transférer de l’argent d’un compte à un autre.</span><span class="sxs-lookup"><span data-stu-id="01245-109">After being authenticated, the user can perform transactions, such as view account balances, pay bills, and move money from one account to another.</span></span>  
  
 <span data-ttu-id="01245-110">Lorsqu’un utilisateur visite tout d’abord le site, le mécanisme SSL commence une série de négociations, appelée un *négociation*, avec le client de l’utilisateur (dans ce cas, Internet Explorer).</span><span class="sxs-lookup"><span data-stu-id="01245-110">When a user first visits the site, the SSL mechanism begins a series of negotiations, called a *handshake*, with the user's client (in this case, Internet Explorer).</span></span> <span data-ttu-id="01245-111">SSL authentifie tout d'abord le site de la banque auprès du client.</span><span class="sxs-lookup"><span data-stu-id="01245-111">SSL first authenticates the bank site to the customer.</span></span> <span data-ttu-id="01245-112">Il s'agit d'une étape essentielle car les clients doivent d'abord s'assurer qu'ils communiquent avec le site réel, et non avec un site malveillant qui tente de les inciter à taper leur nom d'utilisateur et leur mot de passe.</span><span class="sxs-lookup"><span data-stu-id="01245-112">This is an essential step because customers must first know that they are communicating with the actual site, and not a spoof that tries to lure them into typing in their user name and password.</span></span> <span data-ttu-id="01245-113">SSL effectue cette authentification en utilisant un certificat SSL fourni par une autorité approuvée, telle que VeriSign.</span><span class="sxs-lookup"><span data-stu-id="01245-113">SSL does this authentication by using an SSL certificate provided by a trusted authority, such as VeriSign.</span></span> <span data-ttu-id="01245-114">La logique est la suivante : VeriSign se tient garant de l'identité du site de la banque.</span><span class="sxs-lookup"><span data-stu-id="01245-114">The logic goes like this: VeriSign vouches for the identity of the bank site.</span></span> <span data-ttu-id="01245-115">Étant donné qu'Internet Explorer approuve VeriSign, le site est approuvé.</span><span class="sxs-lookup"><span data-stu-id="01245-115">Because Internet Explorer trusts VeriSign, the site is trusted.</span></span> <span data-ttu-id="01245-116">Si vous souhaitez contacter VeriSign, vous pouvez cliquer sur le logo VeriSign.</span><span class="sxs-lookup"><span data-stu-id="01245-116">If you want to check with VeriSign, you can do so as well by clicking on the VeriSign logo.</span></span> <span data-ttu-id="01245-117">Une déclaration d'authenticité s'affiche alors, avec la date d'expiration du certificat et l'entité à laquelle il a été délivré (le site de la banque).</span><span class="sxs-lookup"><span data-stu-id="01245-117">That presents a statement of authenticity with its expiration date and who it is issued to (the bank site).</span></span>  
  
 <span data-ttu-id="01245-118">Pour initier une session sécurisée, le client envoie l'équivalent d'un « bonjour » au serveur avec une liste d'algorithmes de chiffrement qu'il peut utiliser pour signer, générer des hachages et chiffrer et déchiffrer.</span><span class="sxs-lookup"><span data-stu-id="01245-118">To initiate a secure session, the client sends the equivalent of a "hello" to the server along with a list of cryptographic algorithms it can use to sign, generate hashes, and encrypt and decrypt with.</span></span> <span data-ttu-id="01245-119">En réponse, le site envoie un accusé de réception et son choix de l'une des suites d'algorithmes.</span><span class="sxs-lookup"><span data-stu-id="01245-119">In response, the site sends back an acknowledgment and its choice of one of the algorithms suites.</span></span> <span data-ttu-id="01245-120">Durant ce protocole de transfert initial, les deux correspondants envoient et reçoivent des valeurs à usage unique.</span><span class="sxs-lookup"><span data-stu-id="01245-120">During this initial handshake, both parties send and receive nonces.</span></span> <span data-ttu-id="01245-121">A *nonce* est un élément généré de manière aléatoire de données qui sont utilisés en association avec une clé publique du site, pour créer un hachage.</span><span class="sxs-lookup"><span data-stu-id="01245-121">A *nonce* is a randomly generated piece of data that is used, in combination with the site's public key, to create a hash.</span></span> <span data-ttu-id="01245-122">A *hachage* est un nouveau nombre dérivé de deux nombres à l’aide d’un algorithme standard, tel que SHA1.</span><span class="sxs-lookup"><span data-stu-id="01245-122">A *hash* is a new number that is derived from the two numbers using a standard algorithm, such as SHA1.</span></span> <span data-ttu-id="01245-123">(Le client et le site échangent également des messages pour convenir de l'algorithme de hachage à utiliser.) Le hachage est unique et n'est utilisé que pour la session entre le client et le site afin de chiffrer et déchiffrer des messages.</span><span class="sxs-lookup"><span data-stu-id="01245-123">(The client and the site also exchange messages to agree which hash algorithm to use.) The hash is unique and is used only for the session between the client and the site to encrypt and decrypt messages.</span></span> <span data-ttu-id="01245-124">Le client et le service possèdent la valeur à usage unique d'origine et la clé publique du certificat ; ils peuvent donc tous deux générer le même hachage.</span><span class="sxs-lookup"><span data-stu-id="01245-124">Both client and service have the original nonce and the certificate's public key, so both sides can generate the same hash.</span></span> <span data-ttu-id="01245-125">Par conséquent, le client valide le hachage envoyé par le service en (a) utilisant l'algorithme convenu pour calculer le hachage à partir des données, et (b) en le comparant au hachage envoyé par le service ; si les deux correspondent, le client a l'assurance que le hachage n'a pas été falsifié.</span><span class="sxs-lookup"><span data-stu-id="01245-125">Therefore, the client validates the hash sent by the service by (a) using the agreed upon algorithm to calculate the hash from the data, and (b) comparing it to the hash sent by the service; if the two match, then the client has assurance that the hash has not been tampered with.</span></span> <span data-ttu-id="01245-126">Le client peut ensuite utiliser ce hachage comme clé pour chiffrer un message qui contient un autre nouveau hachage.</span><span class="sxs-lookup"><span data-stu-id="01245-126">The client can then use this hash as a key to encrypt a message that contains yet another new hash.</span></span> <span data-ttu-id="01245-127">Le service peut déchiffrer le message à l'aide du hachage et récupérer cet avant-dernier hachage.</span><span class="sxs-lookup"><span data-stu-id="01245-127">The service can decrypt the message using the hash, and recover this second-to-final hash.</span></span> <span data-ttu-id="01245-128">Les informations accumulées (valeurs à usage unique, clé publique et autres données) sont maintenant connues des deux parties, et un hachage définitif (ou clé principale) peut être créé.</span><span class="sxs-lookup"><span data-stu-id="01245-128">The accumulated information (nonces, public key, and other data) is now known to both sides, and a final hash (or master key) can be created.</span></span> <span data-ttu-id="01245-129">Cette dernière clé est envoyée chiffrée à l'aide de l'avant-dernier hachage.</span><span class="sxs-lookup"><span data-stu-id="01245-129">This final key is sent encrypted using the next-to-last hash.</span></span> <span data-ttu-id="01245-130">La clé principale est ensuite utilisée pour chiffrer et déchiffrer des messages pour le reste de la session.</span><span class="sxs-lookup"><span data-stu-id="01245-130">The master key is then used to encrypt and decrypt messages for the reset of the session.</span></span> <span data-ttu-id="01245-131">Étant donné que le client et le service utilisent la même clé, également appelé un *clé de session*.</span><span class="sxs-lookup"><span data-stu-id="01245-131">Because both client and service use the same key, this is also called a *session key*.</span></span>  
  
 <span data-ttu-id="01245-132">La clé de session se caractérise également par le fait qu'il s'agit d'une clé symétrique, ou d'un « secret partagé ».</span><span class="sxs-lookup"><span data-stu-id="01245-132">The session key is also characterized as a symmetric key, or a "shared secret."</span></span> <span data-ttu-id="01245-133">Le fait de disposer d'une clé symétrique est important car cela réduit le calcul requis par les deux côtés de la transaction.</span><span class="sxs-lookup"><span data-stu-id="01245-133">Having a symmetric key is important because it reduces the computation required by both sides of the transaction.</span></span> <span data-ttu-id="01245-134">Si chaque message exigeait un nouvel échange de valeurs à usage unique et de hachages, les performances s'en trouveraient dégradées.</span><span class="sxs-lookup"><span data-stu-id="01245-134">If every message demanded a new exchange of nonces and hashes, performance would deteriorate.</span></span> <span data-ttu-id="01245-135">Par conséquent, le but ultime du protocole SSL est d'utiliser une clé symétrique qui permet aux messages de circuler librement d'un côté à l'autre avec un niveau de sécurité et de rendement supérieur.</span><span class="sxs-lookup"><span data-stu-id="01245-135">Therefore, the ultimate goal of SSL is to use a symmetric key that allows messages to flow freely between the two sides with a greater degree of security and efficiency.</span></span>  
  
 <span data-ttu-id="01245-136">La description précédente est une version simplifiée de ce qui se produit, car le protocole peut varier d'un site à un autre.</span><span class="sxs-lookup"><span data-stu-id="01245-136">The previous description is a simplified version of what happens, because the protocol may vary from site to site.</span></span> <span data-ttu-id="01245-137">Il est également possible que le client et le site génèrent tous deux des valeurs à usage unique combinées de façon algorithmique durant le protocole de transfert, afin d'ajouter de la complexité, et par conséquent de la protection, au processus d'échange de données.</span><span class="sxs-lookup"><span data-stu-id="01245-137">It is also possible that both the client and the site both generate nonces that are algorithmically combined during the handshake to add more complexity, and therefore protection, to the process of exchanging data.</span></span>  
  
### <a name="certificates-and-public-key-infrastructure"></a><span data-ttu-id="01245-138">Certificats et infrastructure à clé publique</span><span class="sxs-lookup"><span data-stu-id="01245-138">Certificates and Public Key Infrastructure</span></span>  
 <span data-ttu-id="01245-139">Pendant le protocole de transfert, le service envoie également son certificat SSL au client.</span><span class="sxs-lookup"><span data-stu-id="01245-139">During the handshake, the service also sends its SSL certificate to the client.</span></span> <span data-ttu-id="01245-140">Le certificat contient des informations, telles que sa date d'expiration, l'autorité émettrice et l'URI (Uniform Resource Identifier) du site.</span><span class="sxs-lookup"><span data-stu-id="01245-140">The certificate contains information, such as its expiration date, issuing authority, and the site's Uniform Resource Identifier (URI).</span></span> <span data-ttu-id="01245-141">Le client compare l'URI à celui qu'il a contacté initialement afin de s'assurer qu'ils correspondent, et il vérifie également la date et l'autorité émettrice.</span><span class="sxs-lookup"><span data-stu-id="01245-141">The client compares the URI to the URI it had originally contacted to ensure a match, and also checks the date and issuing authority.</span></span>  
  
 <span data-ttu-id="01245-142">Chaque certificat possède deux clés, une clé privée et une clé publique, et les deux sont connues comme un *échanger la paire de clés*.</span><span class="sxs-lookup"><span data-stu-id="01245-142">Every certificate has two keys, a private key and a public key, and the two are known as an *exchange key pair*.</span></span> <span data-ttu-id="01245-143">En bref, la clé privée est connue uniquement du propriétaire du certificat, alors que la clé publique est lisible à partir du certificat.</span><span class="sxs-lookup"><span data-stu-id="01245-143">In brief, the private key is known only to the owner of the certificate while the public key is readable from the certificate.</span></span> <span data-ttu-id="01245-144">L'une ou l'autre clé peut être utilisée pour chiffrer ou déchiffrer un condensé, un hachage ou une autre clé, mais uniquement comme opérations contraires.</span><span class="sxs-lookup"><span data-stu-id="01245-144">Either key can be used to encrypt or decrypt a digest, hash, or other key, but only as contrary operations.</span></span> <span data-ttu-id="01245-145">Par exemple, si le client chiffre un message avec la clé publique, seul le site peut déchiffrer le message à l'aide de la clé privée.</span><span class="sxs-lookup"><span data-stu-id="01245-145">For example, if the client encrypts with the public key, only the site can decrypt the message using the private key.</span></span> <span data-ttu-id="01245-146">De même, si le site chiffre un message avec la clé privée, le client peut le déchiffrer avec la clé publique.</span><span class="sxs-lookup"><span data-stu-id="01245-146">Similarly, if the site encrypts with the private key, the client can decrypt with the public key.</span></span> <span data-ttu-id="01245-147">Cela permet au client d'être certain que les messages sont échangés uniquement avec le propriétaire de la clé privée, car seuls les messages chiffrés avec la clé privée peuvent être déchiffrés avec la clé publique.</span><span class="sxs-lookup"><span data-stu-id="01245-147">This provides assurance to the client that the messages are being exchanged only with the possessor of the private key because only messages encrypted with the private key can be decrypted with the public key.</span></span> <span data-ttu-id="01245-148">Le site est assuré qu'il échange des messages avec un client qui a effectué le chiffrement à l'aide de la clé publique.</span><span class="sxs-lookup"><span data-stu-id="01245-148">The site is assured that it is exchanging messages with a client that has encrypted using the public key.</span></span> <span data-ttu-id="01245-149">Cet échange n'est cependant sécurisé que pour un protocole de transfert initial ; c'est pourquoi de nombreuses autres opérations sont exécutées afin de créer la clé symétrique.</span><span class="sxs-lookup"><span data-stu-id="01245-149">This exchange is secure only for an initial handshake, however, which is why much more is done to create the actual symmetric key.</span></span> <span data-ttu-id="01245-150">Néanmoins, toutes les communications dépendent du fait que le service possède un certificat SSL valide.</span><span class="sxs-lookup"><span data-stu-id="01245-150">Nevertheless, all communications depend on the service having a valid SSL certificate.</span></span>  
  
## <a name="implementing-ssl-with-wcf"></a><span data-ttu-id="01245-151">Implémentation du protocole SSL avec WCF</span><span class="sxs-lookup"><span data-stu-id="01245-151">Implementing SSL with WCF</span></span>  
 <span data-ttu-id="01245-152">La sécurité de transport HTTP (ou SSL) est fournie extérieurement à [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="01245-152">HTTP transport security (or SSL) is provided externally to [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span> <span data-ttu-id="01245-153">Vous pouvez implémenter SSL de deux manières ; le facteur décisif concerne le mode d'hébergement de votre application :</span><span class="sxs-lookup"><span data-stu-id="01245-153">You can implement SSL in one of two ways; the deciding factor is how your application is hosted:</span></span>  
  
-   <span data-ttu-id="01245-154">Si vous utilisez les services Internet (IIS) comme hôte [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)], utilisez l'infrastructure IIS pour configurer un service SSL.</span><span class="sxs-lookup"><span data-stu-id="01245-154">If you are using Internet Information Services (IIS) as your [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] host, use the IIS infrastructure to set up an SSL service.</span></span>  
  
-   <span data-ttu-id="01245-155">Si vous créez une application [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] auto-hébergée, vous pouvez lier un certificat SSL à l'adresse à l'aide de l'outil HttpCfg.exe.</span><span class="sxs-lookup"><span data-stu-id="01245-155">If you are creating a self-hosted [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] application, you can bind an SSL certificate to the address using the HttpCfg.exe tool.</span></span>  
  
### <a name="using-iis-for-transport-security"></a><span data-ttu-id="01245-156">Utilisation des services Internet (IIS) pour la sécurité de transport</span><span class="sxs-lookup"><span data-stu-id="01245-156">Using IIS for Transport Security</span></span>  
  
#### <a name="iis-70"></a><span data-ttu-id="01245-157">IIS 7,0</span><span class="sxs-lookup"><span data-stu-id="01245-157">IIS 7.0</span></span>  
 <span data-ttu-id="01245-158">Pour configurer [!INCLUDE[iisver](../../../../includes/iisver-md.md)] comme hôte sécurisé (à l’aide de SSL), consultez [IIS 7.0 bêta : configuration de SSL dans IIS 7.0](http://go.microsoft.com/fwlink/?LinkId=88600).</span><span class="sxs-lookup"><span data-stu-id="01245-158">To set up [!INCLUDE[iisver](../../../../includes/iisver-md.md)] as a secure host (using SSL), see [IIS 7.0 Beta: Configuring Secure Sockets Layer in IIS 7.0](http://go.microsoft.com/fwlink/?LinkId=88600).</span></span>  
  
 <span data-ttu-id="01245-159">Pour configurer des certificats pour une utilisation avec [!INCLUDE[iisver](../../../../includes/iisver-md.md)], consultez [IIS 7.0 bêta : configuration des certificats de serveur dans IIS 7.0](http://go.microsoft.com/fwlink/?LinkID=88595).</span><span class="sxs-lookup"><span data-stu-id="01245-159">To configure certificates for use with [!INCLUDE[iisver](../../../../includes/iisver-md.md)], see [IIS 7.0 Beta: Configuring Server Certificates in IIS 7.0](http://go.microsoft.com/fwlink/?LinkID=88595).</span></span>  
  
#### <a name="iis-60"></a><span data-ttu-id="01245-160">IIS 6.0</span><span class="sxs-lookup"><span data-stu-id="01245-160">IIS 6.0</span></span>  
 <span data-ttu-id="01245-161">Pour configurer [!INCLUDE[iis601](../../../../includes/iis601-md.md)] comme hôte sécurisé (à l’aide de SSL), consultez [configuration Secure Sockets Layer](http://go.microsoft.com/fwlink/?LinkId=88601).</span><span class="sxs-lookup"><span data-stu-id="01245-161">To set up [!INCLUDE[iis601](../../../../includes/iis601-md.md)] as a secure host (using SSL), see [Configuring Secure Sockets Layer](http://go.microsoft.com/fwlink/?LinkId=88601).</span></span>  
  
 <span data-ttu-id="01245-162">Pour configurer des certificats pour une utilisation avec [!INCLUDE[iis601](../../../../includes/iis601-md.md)], consultez [Certificates_IIS_SP1_Ops](http://go.microsoft.com/fwlink/?LinkId=88602).</span><span class="sxs-lookup"><span data-stu-id="01245-162">To configure certificates for use with [!INCLUDE[iis601](../../../../includes/iis601-md.md)], see [Certificates_IIS_SP1_Ops](http://go.microsoft.com/fwlink/?LinkId=88602).</span></span>  
  
### <a name="using-httpcfg-for-ssl"></a><span data-ttu-id="01245-163">Utilisation de HttpCfg pour SSL</span><span class="sxs-lookup"><span data-stu-id="01245-163">Using HttpCfg for SSL</span></span>  
 <span data-ttu-id="01245-164">Si vous créez un auto-hébergé [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] application, téléchargez l’outil HttpCfg.exe, disponible sur le [site des outils de Support de Windows XP Service Pack 2](http://go.microsoft.com/fwlink/?LinkId=29002).</span><span class="sxs-lookup"><span data-stu-id="01245-164">If you are creating a self-hosted [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] application, download the HttpCfg.exe tool, available at the [Windows XP Service Pack 2 Support Tools site](http://go.microsoft.com/fwlink/?LinkId=29002).</span></span>  
  
 [!INCLUDE[crabout](../../../../includes/crabout-md.md)]<span data-ttu-id="01245-165">à l’aide de l’outil HttpCfg.exe pour configurer un port avec un certificat X.509, consultez [Comment : configurer un Port avec un certificat SSL](../../../../docs/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate.md).</span><span class="sxs-lookup"><span data-stu-id="01245-165"> using the HttpCfg.exe tool to set up a port with an X.509 certificate, see [How to: Configure a Port with an SSL Certificate](../../../../docs/framework/wcf/feature-details/how-to-configure-a-port-with-an-ssl-certificate.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="01245-166">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="01245-166">See Also</span></span>  
 [<span data-ttu-id="01245-167">Sécurité de transport</span><span class="sxs-lookup"><span data-stu-id="01245-167">Transport Security</span></span>](../../../../docs/framework/wcf/feature-details/transport-security.md)  
 [<span data-ttu-id="01245-168">Sécurité des messages</span><span class="sxs-lookup"><span data-stu-id="01245-168">Message Security</span></span>](../../../../docs/framework/wcf/feature-details/message-security-in-wcf.md)
