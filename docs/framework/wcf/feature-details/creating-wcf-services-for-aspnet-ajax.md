---
title: "Création de services WCF pour ASP.NET AJAX"
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
ms.assetid: 04c0402c-e617-4ba5-aedf-d17692234776
caps.latest.revision: "18"
author: dotnet-bot
ms.author: dotnetcontent
manager: wpickett
ms.workload: dotnet
ms.openlocfilehash: c2e3ba1d360c55f10cde9447b3961d84ffe1cdb2
ms.sourcegitcommit: 16186c34a957fdd52e5db7294f291f7530ac9d24
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 12/22/2017
---
# <a name="creating-wcf-services-for-aspnet-ajax"></a><span data-ttu-id="22582-102">Création de services WCF pour ASP.NET AJAX</span><span class="sxs-lookup"><span data-stu-id="22582-102">Creating WCF Services for ASP.NET AJAX</span></span>
<span data-ttu-id="22582-103">Microsoft ASP.NET AJAX permet de créer rapidement des pages web d’une grande interaction pour l’utilisateur avec des éléments d’interface utilisateur réactifs et familiers.</span><span class="sxs-lookup"><span data-stu-id="22582-103">Microsoft ASP.NET AJAX enables you to quickly create Web pages that include a rich user experience with responsive and familiar user interface elements.</span></span> <span data-ttu-id="22582-104">Les fonctionnalités ASP.NET AJAX fournissent des bibliothèques de client de script qui incorporent des scripts ECMAScript (JavaScript) et des technologies Dynamic HTML (DHTML) compatibles entre navigateurs ainsi qu'une intégration avec la plate-forme de développement serveur ASP.NET 2.0.</span><span class="sxs-lookup"><span data-stu-id="22582-104">ASP.NET AJAX provides client-script libraries that incorporate cross-browser ECMAScript (JavaScript) and dynamic HTML (DHTML) technologies, and it integrates them with the ASP.NET 2.0 server-based development platform.</span></span> <span data-ttu-id="22582-105">Grâce à ASP.NET AJAX, vous pouvez améliorer l'expérience utilisateur et l'efficacité de vos applications Web.</span><span class="sxs-lookup"><span data-stu-id="22582-105">By using ASP.NET AJAX, you can improve the user experience and the efficiency of your Web applications.</span></span>  
  
 <span data-ttu-id="22582-106">ASP.NET AJAX se compose de bibliothèques de client de script et des composants serveur intégrés destinés à fournir une infrastructure de développement fiable.</span><span class="sxs-lookup"><span data-stu-id="22582-106">ASP.NET AJAX consists of client-script libraries and of server components that are integrated to provide a robust development framework.</span></span> <span data-ttu-id="22582-107">Pour accéder à un service à partir d'une page ASP.NET : une fois que l'URL de service est ajoutée au contrôle de gestionnaire de script ASP.NET dans la page, les opérations de service peuvent être appelées à l'aide du code Javascript qui est identique à un appel de fonction JavaScript régulier.</span><span class="sxs-lookup"><span data-stu-id="22582-107">To access a service from an ASP.NET page: once the service URL is added to the ASP.NET Script Manager control on the page, service operations may be invoked using JavaScript code that looks exactly like a regular JavaScript function call.</span></span> <span data-ttu-id="22582-108">Consultez [apprendre ASP.NET AJAX](http://go.microsoft.com/fwlink/?LinkId=186475) sur l’utilisation des services Web dans l’infrastructure AJAX.</span><span class="sxs-lookup"><span data-stu-id="22582-108">See [Learn ASP.NET AJAX](http://go.microsoft.com/fwlink/?LinkId=186475) about the use of Web services within the AJAX framework.</span></span>  
  
 <span data-ttu-id="22582-109">La plupart des services [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] peuvent être exposés en tant que service compatible avec ASP.NET AJAX en ajoutant un point de terminaison ASP.NET AJAX approprié.</span><span class="sxs-lookup"><span data-stu-id="22582-109">Most [!INCLUDE[indigo1](../../../../includes/indigo1-md.md)] services may be exposed as a service compatible with ASP.NET AJAX by adding an appropriate ASP.NET AJAX endpoint.</span></span>  
  
 <span data-ttu-id="22582-110">Si vous utilisez Visual Studio, vous pouvez utiliser un modèle prégénéré pour les services WCF compatibles AJAX, disponible dans le **ajouter un nouvel élément** boîte de dialogue lorsque vous travaillez avec des Sites Web ASP.NET ou des Applications Web.</span><span class="sxs-lookup"><span data-stu-id="22582-110">If you are using Visual Studio, you may use a pre-built template for AJAX-enabled WCF services, available in the **Add New Item** dialog when working with ASP.NET Web Sites or Web Applications.</span></span>  
  
 <span data-ttu-id="22582-111">Si vous n'utilisez pas les modèles Visual Studio, vous pouvez créer un point de terminaison ASP.NET AJAX de deux manières :</span><span class="sxs-lookup"><span data-stu-id="22582-111">If you are not using the Visual Studio templates, there are two ways to create an ASP.NET AJAX endpoint:</span></span>  
  
-   <span data-ttu-id="22582-112">Créez le point de terminaison à l'aide de l'activation d'hôte dynamique sans utiliser de configuration.</span><span class="sxs-lookup"><span data-stu-id="22582-112">Create the endpoint using dynamic host activation without using any configuration.</span></span> <span data-ttu-id="22582-113">Il s'agit de l'approche la plus simple si vous n'êtes pas familier avec le système de configuration WCF.</span><span class="sxs-lookup"><span data-stu-id="22582-113">This is the most basic approach if you are unfamiliar with the WCF configuration system.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="22582-114">[Comment : ajouter un point de terminaison ASP.NET AJAX sans Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).</span><span class="sxs-lookup"><span data-stu-id="22582-114"> [How to: Add an ASP.NET AJAX Endpoint Without Using Configuration](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md).</span></span>  
  
-   <span data-ttu-id="22582-115">Ajoutez un point de terminaison compatible AJAX à un service [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] à l'aide de la configuration.</span><span class="sxs-lookup"><span data-stu-id="22582-115">Add an AJAX-enabled endpoint to a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service using configuration.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="22582-116">[Comment : utiliser la Configuration pour ajouter un point de terminaison ASP.NET AJAX](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).</span><span class="sxs-lookup"><span data-stu-id="22582-116"> [How to: Use Configuration to Add an ASP.NET AJAX Endpoint](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md).</span></span>  
  
 <span data-ttu-id="22582-117">Le modèle de programmation Web décrit dans le [présentation de modèle de programmation WCF Web HTTP](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md) ne peuvent être utilisées avec les services ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="22582-117">The Web Programming Model described in the [WCF Web HTTP Programming Model Overview](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model-overview.md) may be used with ASP.NET AJAX services.</span></span> <span data-ttu-id="22582-118">Plus précisément :</span><span class="sxs-lookup"><span data-stu-id="22582-118">Specifically:</span></span>  
  
-   <span data-ttu-id="22582-119">Vous pouvez utiliser les attributs <xref:System.ServiceModel.Web.WebGetAttribute> et <xref:System.ServiceModel.Web.WebInvokeAttribute> pour choisir entre les verbes HTTP GET et HTTP POST.</span><span class="sxs-lookup"><span data-stu-id="22582-119">You can use the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes to select between HTTP GET and HTTP POST verbs.</span></span> <span data-ttu-id="22582-120">Correctement utilisés, ils permettent d'améliorer considérablement la performance de votre application.</span><span class="sxs-lookup"><span data-stu-id="22582-120">If used correctly, this may significantly improve your application’s performance.</span></span> [!INCLUDE[crdefault](../../../../includes/crdefault-md.md)]<span data-ttu-id="22582-121">[Comment : choisir entre la requête HTTP POST et HTTP GET des demandes pour les points de terminaison ASP.NET AJAX](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).</span><span class="sxs-lookup"><span data-stu-id="22582-121"> [How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md).</span></span>  
  
-   <span data-ttu-id="22582-122">Vous pouvez utiliser les propriétés <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> et <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> pour que votre service retourne des données XML au lieu du format JSON (JavaScript Object Notation) par défaut.</span><span class="sxs-lookup"><span data-stu-id="22582-122">You can use the <xref:System.ServiceModel.Web.WebGetAttribute.ResponseFormat%2A> and <xref:System.ServiceModel.Web.WebInvokeAttribute.ResponseFormat%2A> properties to cause your service to return XML data instead of the default JavaScript Object Notation (JSON).</span></span> <span data-ttu-id="22582-123">Effectuée dans le cadre de l'infrastructure ASP.NET AJAX, cette opération permet au client JavaScript de recevoir un objet XML DOM.</span><span class="sxs-lookup"><span data-stu-id="22582-123">Doing this with the ASP.NET AJAX framework causes the JavaScript client to receive an XML DOM object.</span></span>  
  
    > [!WARNING]
    >  <span data-ttu-id="22582-124">Votre opération doit affecter au type de contenu la valeur texte/xml pour y parvenir.</span><span class="sxs-lookup"><span data-stu-id="22582-124">Your operation must set the content type to text/xml for this to work.</span></span> <span data-ttu-id="22582-125">Sinon, le client JavaScript recevra une chaîne contenant le XML au lieu d'un objet XML DOM.</span><span class="sxs-lookup"><span data-stu-id="22582-125">Otherwise, the JavaScript client will receive a string containing the XML instead of an XML DOM object.</span></span>  
  
     <span data-ttu-id="22582-126">Voici un exemple d'opération qui retourne les données XML avec le type de contenu défini convenablement :</span><span class="sxs-lookup"><span data-stu-id="22582-126">The following is an example of an operation that returns XML data with the content type set appropriately:</span></span>  
  
    ```  
    [OperationContract, WebGet(ResponseFormat=WebMessageFormat.Xml)]  
    public XElement GetData()  
    {  
    XElement x;  
    //Get some data here...  
  
    WebOperationContext.Current.OutgoingResponse.ContentType = "text/xml";      
    return x;  
    }  
    ```  
  
-   <span data-ttu-id="22582-127">Aucune autre propriété sur les attributs <xref:System.ServiceModel.Web.WebGetAttribute> et <xref:System.ServiceModel.Web.WebInvokeAttribute> ne peut être modifiée si la compatibilité avec ASP.NET AJAX est requise.</span><span class="sxs-lookup"><span data-stu-id="22582-127">No other properties on the <xref:System.ServiceModel.Web.WebGetAttribute> and <xref:System.ServiceModel.Web.WebInvokeAttribute> attributes can be changed if compatibility with ASP.NET AJAX is required.</span></span> <span data-ttu-id="22582-128">Il est possible de faire appel à d’autres aspects du modèle de programmation Web tant que les conventions d’appel ASP.NET AJAX sont respectées.</span><span class="sxs-lookup"><span data-stu-id="22582-128">Other aspects of the Web Programming Model can be used as long as the ASP.NET AJAX calling conventions are not violated.</span></span>  
  
 <span data-ttu-id="22582-129">D'autres scénarios avancés requièrent la prise en compte de certains détails supplémentaires pour la prise en charge d'AJAX dans [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] :</span><span class="sxs-lookup"><span data-stu-id="22582-129">More advanced scenarios require some additional details of AJAX support in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] be understood:</span></span>  
  
-   <span data-ttu-id="22582-130">Pour comprendre comment les données sont transférées entre un client de la page AJAX et un [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service à l’aide de JavaScript et pour plus d’informations sur la correspondance entre les types .NET Framework et les types de JavaScript, consultez [prise en charge de JSON et autres données de transfert de Formats](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md) .</span><span class="sxs-lookup"><span data-stu-id="22582-130">To understand how data is transferred between an AJAX page client and a [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] service using JavaScript, and for details on how .NET Framework types map to JavaScript types, see [Support for JSON and Other Data Transfer Formats](../../../../docs/framework/wcf/feature-details/support-for-json-and-other-data-transfer-formats.md).</span></span>  
  
-   <span data-ttu-id="22582-131">Pour tirer parti des fonctionnalités ASP.NET, par exemple, l’authentification basée sur URL et l’accès aux informations de session ASP.NET, vous pouvez activer le mode de compatibilité ASP.NET par la configuration.</span><span class="sxs-lookup"><span data-stu-id="22582-131">To take advantage of ASP.NET features, for example, URL-based authentication and accessing the ASP.NET session information, you may want to enable the ASP.NET Compatibility Mode through configuration.</span></span>  
  
 <span data-ttu-id="22582-132">Les points de terminaison AJAX dans [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] peuvent être consommés même sans l'infrastructure ASP.NET AJAX.</span><span class="sxs-lookup"><span data-stu-id="22582-132">AJAX endpoints in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)] may even be consumed without the ASP.NET AJAX framework.</span></span> <span data-ttu-id="22582-133">Cette procédure exige une connaissance du fonctionnement de l'architecture de prise en charge d'AJAX dans [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="22582-133">Doing so requires an understanding of the support architecture of AJAX support in [!INCLUDE[indigo2](../../../../includes/indigo2-md.md)].</span></span> <span data-ttu-id="22582-134">Pour en savoir plus sur cette architecture, consultez [modèle d’objet de programmation WCF Web HTTP](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md).</span><span class="sxs-lookup"><span data-stu-id="22582-134">For a discussion of this architecture, see [WCF Web HTTP Programming Object Model](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-object-model.md).</span></span> <span data-ttu-id="22582-135">Pour un exemple de code illustrant cette approche, consultez la [AJAX Service with JSON et XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).</span><span class="sxs-lookup"><span data-stu-id="22582-135">For a code sample demonstrating this approach, see the [AJAX Service with JSON and XML](../../../../docs/framework/wcf/samples/ajax-service-with-json-and-xml-sample.md).</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="22582-136">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="22582-136">See Also</span></span>  
 [<span data-ttu-id="22582-137">Modèle de programmation HTTP web WCF</span><span class="sxs-lookup"><span data-stu-id="22582-137">WCF Web HTTP Programming Model</span></span>](../../../../docs/framework/wcf/feature-details/wcf-web-http-programming-model.md)  
 [<span data-ttu-id="22582-138">Guide pratique pour ajouter un point de terminaison AJAX ASP.NET sans utiliser de configuration</span><span class="sxs-lookup"><span data-stu-id="22582-138">How to: Add an ASP.NET AJAX Endpoint Without Using Configuration</span></span>](../../../../docs/framework/wcf/feature-details/how-to-add-an-aspnet-ajax-endpoint-without-using-configuration.md)  
 [<span data-ttu-id="22582-139">Guide pratique pour utiliser la configuration pour ajouter un point de terminaison AJAX ASP.NET</span><span class="sxs-lookup"><span data-stu-id="22582-139">How to: Use Configuration to Add an ASP.NET AJAX Endpoint</span></span>](../../../../docs/framework/wcf/feature-details/how-to-use-configuration-to-add-an-aspnet-ajax-endpoint.md)  
 [<span data-ttu-id="22582-140">Guide pratique pour choisir entre des demandes HTTP POST et HTTP GET pour des points de terminaison AJAX ASP.NET</span><span class="sxs-lookup"><span data-stu-id="22582-140">How to: Choose between HTTP POST and HTTP GET requests for ASP.NET AJAX Endpoints</span></span>](../../../../docs/framework/wcf/feature-details/http-post-and-http-get-requests-for-aspnet-ajax-endpoints.md)
