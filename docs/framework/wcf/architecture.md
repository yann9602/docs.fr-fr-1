---
title: Architecture Windows Communication Foundation
ms.custom: 
ms.date: 03/30/2017
ms.prod: .net-framework
ms.reviewer: 
ms.suite: 
ms.technology: dotnet-clr
ms.tgt_pltfrm: 
ms.topic: article
helpviewer_keywords:
- Windows Communication Foundation [WCF], architecture
- WCF [WCF], architecture
- architecture [WCF]
ms.assetid: a3bcb0a1-56ea-4ba6-9736-d260d90dade5
caps.latest.revision: "7"
author: Erikre
ms.author: erikre
manager: erikre
ms.openlocfilehash: fb706706869507a7cce35022525cf0efa34c15fb
ms.sourcegitcommit: 4f3fef493080a43e70e951223894768d36ce430a
ms.translationtype: MT
ms.contentlocale: fr-FR
ms.lasthandoff: 11/21/2017
---
# <a name="windows-communication-foundation-architecture"></a><span data-ttu-id="8df0f-102">Architecture Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8df0f-102">Windows Communication Foundation Architecture</span></span>
<span data-ttu-id="8df0f-103">Le graphique suivant illustre les principales couches de l'architecture [!INCLUDE[indigo1](../../../includes/indigo1-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8df0f-103">The following graphic illustrates the major layers of the [!INCLUDE[indigo1](../../../includes/indigo1-md.md)] architecture.</span></span>  
  
## <a name="wcf-architecture"></a><span data-ttu-id="8df0f-104">Architecture WCF</span><span class="sxs-lookup"><span data-stu-id="8df0f-104">WCF Architecture</span></span>  
 <span data-ttu-id="8df0f-105">![Architecture WCF](../../../docs/framework/wcf/media/wcf-architecture.gif "WCF_Architecture")</span><span class="sxs-lookup"><span data-stu-id="8df0f-105">![The WCF Architecture](../../../docs/framework/wcf/media/wcf-architecture.gif "WCF_Architecture")</span></span>  
  
### <a name="contracts-and-descriptions"></a><span data-ttu-id="8df0f-106">Contrats et descriptions</span><span class="sxs-lookup"><span data-stu-id="8df0f-106">Contracts and Descriptions</span></span>  
 <span data-ttu-id="8df0f-107">Les contrats définissent les différents aspects du système de messages.</span><span class="sxs-lookup"><span data-stu-id="8df0f-107">Contracts define various aspects of the message system.</span></span> <span data-ttu-id="8df0f-108">Le contrat de données décrit chaque paramètre qui compose chaque message qu'un service peut créer ou consommer.</span><span class="sxs-lookup"><span data-stu-id="8df0f-108">The data contract describes every parameter that makes up every message that a service can create or consume.</span></span> <span data-ttu-id="8df0f-109">Les paramètres de message sont définis par des documents en langage XSD (XML Schema Definition), ce qui permet à tout système comprenant XML de gérer les documents.</span><span class="sxs-lookup"><span data-stu-id="8df0f-109">The message parameters are defined by XML Schema definition language (XSD) documents, enabling any system that understands XML to process the documents.</span></span> <span data-ttu-id="8df0f-110">Le contrat de message définit des parties de message spécifiques à l'aide de protocoles SOAP, et permet un contrôle plus fin de celles-ci, lorsque l'interopérabilité exige une telle précision.</span><span class="sxs-lookup"><span data-stu-id="8df0f-110">The message contract defines specific message parts using SOAP protocols, and allows finer-grained control over parts of the message, when interoperability demands such precision.</span></span> <span data-ttu-id="8df0f-111">Le contrat de service spécifie les signatures de méthode réelles du service et est distribué en tant qu'interface dans un des langages de programmation pris en charge, tels que Visual Basic ou Visual C#.</span><span class="sxs-lookup"><span data-stu-id="8df0f-111">The service contract specifies the actual method signatures of the service, and is distributed as an interface in one of the supported programming languages, such as Visual Basic or Visual C#.</span></span>  
  
 <span data-ttu-id="8df0f-112">Les stratégies et liaisons stipulent les conditions requises pour communiquer avec un service.</span><span class="sxs-lookup"><span data-stu-id="8df0f-112">Policies and bindings stipulate the conditions required to communicate with a service.</span></span>  <span data-ttu-id="8df0f-113">Par exemple, la liaison doit spécifier (au minimum) le transport utilisé (par exemple, HTTP ou TCP) et un encodage.</span><span class="sxs-lookup"><span data-stu-id="8df0f-113">For example, the binding must (at a minimum) specify the transport used (for example, HTTP or TCP), and an encoding.</span></span> <span data-ttu-id="8df0f-114">Les stratégies incluent des spécifications de sécurité et d'autres conditions qui doivent être remplies pour communiquer avec un service.</span><span class="sxs-lookup"><span data-stu-id="8df0f-114">Policies include security requirements and other conditions that must be met to communicate with a service.</span></span>  
  
### <a name="service-runtime"></a><span data-ttu-id="8df0f-115">Exécution du service</span><span class="sxs-lookup"><span data-stu-id="8df0f-115">Service Runtime</span></span>  
 <span data-ttu-id="8df0f-116">La couche d'exécution du service contient les comportements qui se produisent uniquement pendant le fonctionnement du service, autrement dit, les comportements au moment de l'exécution du service.</span><span class="sxs-lookup"><span data-stu-id="8df0f-116">The service runtime layer contains the behaviors that occur only during the actual operation of the service, that is, the runtime behaviors of the service.</span></span> <span data-ttu-id="8df0f-117">La limitation contrôle le nombre de messages traités, qui peut varier si la demande pour le service atteint une limite prédéfinie.</span><span class="sxs-lookup"><span data-stu-id="8df0f-117">Throttling controls how many messages are processed, which can be varied if the demand for the service grows to a preset limit.</span></span> <span data-ttu-id="8df0f-118">Un comportement d'erreur spécifie ce qui se passe lorsqu'une erreur interne se produit sur le service, par exemple, en contrôlant les informations communiquées au client.</span><span class="sxs-lookup"><span data-stu-id="8df0f-118">An error behavior specifies what occurs when an internal error occurs on the service, for example, by controlling what information is communicated to the client.</span></span> <span data-ttu-id="8df0f-119">(Trop d'informations peuvent donner un avantage à un utilisateur malveillant pour mettre en œuvre une attaque.) Un comportement de métadonnées détermine si les métadonnées sont mises à la disposition du monde extérieur et comment elles le sont.</span><span class="sxs-lookup"><span data-stu-id="8df0f-119">(Too much information can give a malicious user an advantage in mounting an attack.) Metadata behavior governs how and whether metadata is made available to the outside world.</span></span> <span data-ttu-id="8df0f-120">Un comportement d'instance définit le nombre d'instances du service qui peuvent être exécutées (par exemple, un singleton spécifie une seule instance pour traiter tous les messages).</span><span class="sxs-lookup"><span data-stu-id="8df0f-120">Instance behavior specifies how many instances of the service can be run (for example, a singleton specifies only one instance to process all messages).</span></span> <span data-ttu-id="8df0f-121">Un comportement de transaction permet de restaurer les opérations traitées en cas de défaillance.</span><span class="sxs-lookup"><span data-stu-id="8df0f-121">Transaction behavior enables the rollback of transacted operations if a failure occurs.</span></span> <span data-ttu-id="8df0f-122">Un comportement de répartition permet de contrôler la manière dont un message est traité par l'infrastructure [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8df0f-122">Dispatch behavior is the control of how a message is processed by the [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] infrastructure.</span></span>  
  
 <span data-ttu-id="8df0f-123">L'extensibilité permet la personnalisation des processus d'exécution.</span><span class="sxs-lookup"><span data-stu-id="8df0f-123">Extensibility enables customization of runtime processes.</span></span> <span data-ttu-id="8df0f-124">Par exemple, l'inspection de message est la fonctionnalité qui permet d'inspecter des parties d'un message, et le filtrage de paramètre permet d'exécuter des actions prédéfinies en fonction de filtres appliqués aux en-têtes de message.</span><span class="sxs-lookup"><span data-stu-id="8df0f-124">For example, message inspection is the facility to inspect parts of a message, and parameter filtering enables preset actions to occur based on filters acting on message headers.</span></span>  
  
### <a name="messaging"></a><span data-ttu-id="8df0f-125">Messagerie</span><span class="sxs-lookup"><span data-stu-id="8df0f-125">Messaging</span></span>  
 <span data-ttu-id="8df0f-126">La couche de messagerie est composée de *canaux*.</span><span class="sxs-lookup"><span data-stu-id="8df0f-126">The messaging layer is composed of *channels*.</span></span> <span data-ttu-id="8df0f-127">Un canal est un composant qui traite un message d'une certaine façon, par exemple, en l'authentifiant.</span><span class="sxs-lookup"><span data-stu-id="8df0f-127">A channel is a component that processes a message in some way, for example, by authenticating a message.</span></span> <span data-ttu-id="8df0f-128">Un ensemble de canaux est également appelé un *pile de canaux*.</span><span class="sxs-lookup"><span data-stu-id="8df0f-128">A set of channels is also known as a *channel stack*.</span></span> <span data-ttu-id="8df0f-129">Les canaux agissent sur les messages et leurs en-têtes,</span><span class="sxs-lookup"><span data-stu-id="8df0f-129">Channels operate on messages and message headers.</span></span> <span data-ttu-id="8df0f-130">à la différence de la couche d'exécution du service qui a pour fonction principale de traiter le contenu des corps de message.</span><span class="sxs-lookup"><span data-stu-id="8df0f-130">This is different from the service runtime layer, which is primarily concerned about processing the contents of message bodies.</span></span>  
  
 <span data-ttu-id="8df0f-131">Il existe deux types de canaux : les canaux de transport et les canaux de protocole.</span><span class="sxs-lookup"><span data-stu-id="8df0f-131">There are two types of channels: transport channels and protocol channels.</span></span>  
  
 <span data-ttu-id="8df0f-132">Les canaux de transport lisent et écrivent des messages à partir du réseau (ou tout autre point de communication avec le monde extérieur).</span><span class="sxs-lookup"><span data-stu-id="8df0f-132">Transport channels read and write messages from the network (or some other communication point with the outside world).</span></span> <span data-ttu-id="8df0f-133">Certains transports utilisent un encodeur pour convertir les messages (représentés sous forme d'ensembles d'informations XML) vers et à partir de la représentation de flux d'octets utilisée par le réseau.</span><span class="sxs-lookup"><span data-stu-id="8df0f-133">Some transports use an encoder to convert messages (which are represented as XML Infosets) to and from the byte stream representation used by the network.</span></span> <span data-ttu-id="8df0f-134">Voici des exemples de transports : HTTP, canaux nommés, TCP et MSMQ.</span><span class="sxs-lookup"><span data-stu-id="8df0f-134">Examples of transports are HTTP, named pipes, TCP, and MSMQ.</span></span> <span data-ttu-id="8df0f-135">Voici des exemples d'encodages : XML et binaire optimisé.</span><span class="sxs-lookup"><span data-stu-id="8df0f-135">Examples of encodings are XML and optimized binary.</span></span>  
  
 <span data-ttu-id="8df0f-136">Les canaux de protocole implémentent des protocoles de traitement de message, souvent en lisant ou en écrivant des en-têtes supplémentaires dans le message.</span><span class="sxs-lookup"><span data-stu-id="8df0f-136">Protocol channels implement message processing protocols, often by reading or writing additional headers to the message.</span></span> <span data-ttu-id="8df0f-137">Ces protocoles sont notamment WS-Security et WS-Reliability.</span><span class="sxs-lookup"><span data-stu-id="8df0f-137">Examples of such protocols include WS-Security and WS-Reliability.</span></span>  
  
 <span data-ttu-id="8df0f-138">La couche de messagerie illustre les formats et modèles d'échange possibles des données.</span><span class="sxs-lookup"><span data-stu-id="8df0f-138">The messaging layer illustrates the possible formats and exchange patterns of the data.</span></span> <span data-ttu-id="8df0f-139">WS-Security est une implémentation de la spécification WS-Security qui active la sécurité au niveau de la couche de message.</span><span class="sxs-lookup"><span data-stu-id="8df0f-139">WS-Security is an implementation of the WS-Security specification enabling security at the message layer.</span></span> <span data-ttu-id="8df0f-140">Le canal de messagerie WS-Reliable active la garantie de remise des messages.</span><span class="sxs-lookup"><span data-stu-id="8df0f-140">The WS-Reliable Messaging channel enables the guarantee of message delivery.</span></span> <span data-ttu-id="8df0f-141">Les encodeurs présentent divers encodages qui permettent de répondre aux besoins du message.</span><span class="sxs-lookup"><span data-stu-id="8df0f-141">The encoders present a variety of encodings that can be used to suit the needs of the message.</span></span> <span data-ttu-id="8df0f-142">Le canal HTTP spécifie que le protocole HTTP (HyperText Transport Protocol) est utilisé pour la remise des messages.</span><span class="sxs-lookup"><span data-stu-id="8df0f-142">The HTTP channel specifies that the HyperText Transport Protocol is used for message delivery.</span></span> <span data-ttu-id="8df0f-143">De même, le canal TCP spécifie le protocole TCP.</span><span class="sxs-lookup"><span data-stu-id="8df0f-143">The TCP channel similarly specifies the TCP protocol.</span></span> <span data-ttu-id="8df0f-144">Le canal de flux de transaction définit les modèles de messages traités.</span><span class="sxs-lookup"><span data-stu-id="8df0f-144">The Transaction Flow channel governs transacted message patterns.</span></span> <span data-ttu-id="8df0f-145">Le canal nommé active la communication entre processus.</span><span class="sxs-lookup"><span data-stu-id="8df0f-145">The Named Pipe channel enables interprocess communication.</span></span> <span data-ttu-id="8df0f-146">Le canal MSMQ active l'interopérabilité avec les applications MSMQ.</span><span class="sxs-lookup"><span data-stu-id="8df0f-146">The MSMQ channel enables interoperation with MSMQ applications.</span></span>  
  
### <a name="hosting-and-activation"></a><span data-ttu-id="8df0f-147">Hébergement et activation</span><span class="sxs-lookup"><span data-stu-id="8df0f-147">Hosting and Activation</span></span>  
 <span data-ttu-id="8df0f-148">Sous sa forme définitive, un service est un programme.</span><span class="sxs-lookup"><span data-stu-id="8df0f-148">In its final form, a service is a program.</span></span> <span data-ttu-id="8df0f-149">Comme tout autre programme, un service doit être exécuté dans un fichier exécutable.</span><span class="sxs-lookup"><span data-stu-id="8df0f-149">Like other programs, a service must be run in an executable.</span></span> <span data-ttu-id="8df0f-150">Il s’agit comme un *auto-hébergé* service.</span><span class="sxs-lookup"><span data-stu-id="8df0f-150">This is known as a *self-hosted* service.</span></span>  
  
 <span data-ttu-id="8df0f-151">Services peuvent également être *hébergé*, ou s’exécuter dans un fichier exécutable géré par un agent externe, telles que les services IIS ou le Service d’Activation Windows (WAS).</span><span class="sxs-lookup"><span data-stu-id="8df0f-151">Services can also be *hosted*, or run in an executable managed by an external agent, such as IIS or Windows Activation Service (WAS).</span></span> <span data-ttu-id="8df0f-152">Le service WAS permet d'activer automatiquement les applications [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] lorsqu'elles sont déployées sur un ordinateur WAS.</span><span class="sxs-lookup"><span data-stu-id="8df0f-152">WAS enables [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] applications to be activated automatically when deployed on a computer running WAS.</span></span> <span data-ttu-id="8df0f-153">Les services peuvent également être exécutés manuellement comme des fichiers exécutables (fichiers .exe).</span><span class="sxs-lookup"><span data-stu-id="8df0f-153">Services can also be manually run as executables (.exe files).</span></span> <span data-ttu-id="8df0f-154">Un service peut également être exécuté automatiquement en tant que service Windows.</span><span class="sxs-lookup"><span data-stu-id="8df0f-154">A service can also be run automatically as a Windows service.</span></span> <span data-ttu-id="8df0f-155">Les composants COM+ peuvent également être hébergés en tant que services [!INCLUDE[indigo2](../../../includes/indigo2-md.md)].</span><span class="sxs-lookup"><span data-stu-id="8df0f-155">COM+ components can also be hosted as [!INCLUDE[indigo2](../../../includes/indigo2-md.md)] services.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="8df0f-156">Voir aussi</span><span class="sxs-lookup"><span data-stu-id="8df0f-156">See Also</span></span>  
 [<span data-ttu-id="8df0f-157">Présentation de Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8df0f-157">What Is Windows Communication Foundation</span></span>](../../../docs/framework/wcf/whats-wcf.md)  
 [<span data-ttu-id="8df0f-158">Concepts fondamentaux de Windows Communication Foundation</span><span class="sxs-lookup"><span data-stu-id="8df0f-158">Fundamental Windows Communication Foundation Concepts</span></span>](../../../docs/framework/wcf/fundamental-concepts.md)
